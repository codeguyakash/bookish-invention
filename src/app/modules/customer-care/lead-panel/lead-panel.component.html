<!-- <div class="loader-container" *ngIf="loading">
    <img
      src="/assets/images/loader.gif"
      style="
        width: 35%;
      "
    />
  </div> -->
<aside class="sidebar">
    <!-- <div class="brand-logo-wrapper">
            <a class="brand-logo">
                <img src="/assets/images/logo.png" alt="LUMINOUS" title="Home" />
            </a>
        </div> -->
    <div class="employee-info">
        <div class="pic">
            <i class="fa fa-user-circle" aria-hidden="true"></i>
        </div>
        <div class="detail">
            <h4>Employee Name</h4>
            <span>Senior Executive</span>
        </div>
    </div>
    <nav class="sidebar-tabs">
        <a *ngIf="toggleOnline" (click)="hideSurveyForm()" [ngClass]="{'active':(!isSurveyFormVisible && !isListing)}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Lead Panel</span>
        </a>
        <a *ngIf="!toggleOnline" [ngClass]="{'active':(!isSurveyFormVisible && !isListing)}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Lead Panel</span>
        </a>
    </nav>
    <nav class="sidebar-tabs">
        <a (click)="showSurveyForm()" [ngClass]="{'active':(isSurveyFormVisible && !isListing)}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Add Lead</span>
        </a>
    </nav>
    <nav class="sidebar-tabs">
        <a (click)="getQueryList(1)" [ngClass]="{'active':(isListing == 'query_listing')}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Manage Query</span>
        </a>
    </nav>
    <nav class="sidebar-tabs">
        <a (click)="inboundQueryForm()" [ngClass]="{'active':(isListing == 'inbound_query')}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Inbound Callcenter</span>
        </a>
    </nav>
    <!--nav class="sidebar-tabs">
        <a (click)="ResetSmartSearchForm();ShowMissedCallListing(1)" [ngClass]="{'active':(isListing == 'missedCallLogListing')}">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Missed Call Logs</span>
        </a>
    </nav-->
    <!-- <nav class="sidebar-tabs">
        <a (click)="partnerQueryData(1)">
            <i class="fa fa-address-card" aria-hidden="true"></i>
            <span>Partner Query List</span>
        </a>
    </nav> -->

</aside>

<div class="oNoFFBtn">
    <label>
        Toggle Button For Online Offline
    </label>
    <label class="switch">
        <input *ngIf="panelSteps != 2" type="checkbox" (click)="toggleOnlineStatus()" [checked]="toggleOnline">
        <input *ngIf="panelSteps == 2" type="checkbox" (click)="confirmForOffline()" [checked]="true">
        <span class="slider round"></span>
    </label>
</div>

<div class="container lead-contain" *ngIf="toggleOnline && leadData?.lead_id && !isSurveyFormVisible && ((isListing=='inbound_query' && showCceForm=='cce_form_for_inbound_query') || !isListing)">

    <div class="tab-box fixed">
        <div class="box">
            <section class="lead-panel-tab">
                <div class="tab" (click)="showTabData(2)" [ngClass]="{activatedFillForm: panelSteps == 2}">
                    <img src="/assets/images/cc-images/icon-fill-form.svg" alt="">
                    <span>Fill Form</span>
                </div>
                <!-- <div class="tab">
                                    <img src="/assets/images/cc-images/icon-transfer-call.svg" alt="">
                                    <span>Transfer Calss</span>
                                </div> -->
                <div class="tab" (click)="showTabData(3)" [ngClass]="{activatedNoResponse: panelSteps == 3}">
                    <img src="/assets/images/cc-images/icon-no-response.svg" alt="">
                    <span>No Response</span>
                </div>
                <div class="tab" (click)="showTabData(4)" [ngClass]="{activatedNotInterested: panelSteps == 4}">
                    <img src="/assets/images/cc-images/icon-not-intrested.svg" alt="">
                    <span>Not Interested</span>
                </div>
                <div class="tab" (click)="showTabData(5)" [ngClass]="{activatedReschedule: panelSteps == 5}">
                    <img src="/assets/images/cc-images/icon-reschedule.svg" alt="">
                    <span>Reschedule</span>
                </div>
                <div class="tab" (click)="callButton()">
                    <img class="icallmateIcon" src="/assets/images/cc-images/shapesCall.svg" alt="">
                    <span>Call</span>
                </div>
                <!-- <div class="tab" (click)="showTabData(1)" [ngClass]="{activatedCall: panelSteps == 1}">
                    <img src="/assets/images/cc-images/icon-call-green.svg" alt="">
                    <span>Call</span>
                </div> -->
            </section>
        </div>
    </div>

    <div class="box mb-30 posBox" *ngIf="leadData?.lead_id && !isSurveyFormVisible && !isListing">
        <section class="lead-info-panel">
            <div class="heading-panel">
                <h2>ASSIGNED LEAD</h2>
                <h2>CALCULATOR INFO</h2>
            </div>
            <div class="content-panel Box-panel">
                <div class="assigned-lead">
                    <ul class="customer-info no-bullets">
                        <li>
                            <strong>Lead Type (by coldbucket status)</strong>
                            <span *ngIf="leadData?.lead_coldbucketstatus==2">Revoked Lead</span>
                            <span *ngIf="leadData?.lead_coldbucketstatus==0">Fresh Lead</span>
                        </li>
                        <li>
                            <strong>Request or Survey</strong>
                            <span *ngIf="leadData?.lead_is_callback==1">Request a Callback</span>
                            <span *ngIf="leadData?.lead_is_callback==2">Book a Survey</span>
                        </li>
                        <li *ngIf="leadData?.lead_coldbucketstatus==2">
                            <strong>Revoked Comment</strong>
                            <span>{{leadData?.revoked_lead_comment}}</span>
                        </li>
                        <li>
                            <strong>Customer ID</strong>
                            <span>{{leadData?.consumer_code}}</span>
                        </li>
                        <li>
                            <strong>Lead ID</strong>
                            <span>{{leadData?.lead_id}}</span>
                        </li>
                        <li>
                            <strong>Name</strong>
                            <span>{{leadData?.lead_fname+' '+leadData?.lead_mname+' '+leadData?.lead_lname}}</span>
                        </li>
                        <li>
                            <strong>City</strong>
                            <span>{{leadData?.district_name}}</span>
                        </li>
                        <li>
                            <strong>Request Date</strong>
                            <span>{{leadData?.lead_scheduledate}}</span>
                        </li>
                        <li>
                            <strong>Phone Number</strong>
                            <span>{{leadData?.lead_mobile}}</span>
                        </li>
                        <li>
                            <strong>Address</strong>
                            <span>{{leadData?.lead_address1}}</span>
                        </li>
                        <li>
                            <strong>Building Type</strong>
                            <span>{{leadData?.lead_buildingtype}}</span>
                        </li>
                        <li>
                            <strong>Transaction Id</strong>
                            <span>{{leadData?.luminous_transaction_id}}</span>
                        </li>
                        <li>
                            <strong>Amount Paid</strong>
                            <span>{{leadData?.amount}}</span>
                        </li>
                        <li>
                            <strong>Payment Category</strong>
                            <span>{{leadData?.payment_category}}{{leadData.payment_status}}</span>
                        </li>
                        <li>
                            <strong>Payment Type</strong>
                            <span>{{leadData?.payment_type}}</span>
                        </li>
                        <li>
                            <strong>Payment Time</strong>
                            <span>{{leadData?.modified}}</span>
                        </li>
                        <li>
                            <strong>Payment Approval Status</strong>
                            <span *ngIf="leadData?.approval_status==1" style="color:green;">Payment Approved</span>
                            <span *ngIf="leadData?.approval_status==0" style="color:red;">Payment Approval Pending</span>
                        </li>

                        <li *ngIf="leadData?.approval_status!=1">
                            <strong>Send Payment Link</strong>
                            <button *ngIf="!sendLinkLoader" class="send-pay-button" type="button" (click)="sendPaymentLink()">Send</button>
                            <button *ngIf="sendLinkLoader" class="send-pay-button" type="button">
                                <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                            </button>
                        </li>

                        <li>
                            <strong>Trigger SMS</strong>
                            <button *ngIf="!sendReachoutLoader" class="send-pay-button" type="button" (click)="sendReachoutSMS()">Trigger SMS</button>
                            <button *ngIf="sendReachoutLoader" class="send-pay-button" type="button">
                                <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                            </button>
                        </li>
                        <li>
                            <strong>Lead Source</strong>
                            <span>{{leadData?.source_master_name}}</span>
                        </li>

                    </ul>
                </div>
                <div class="calculator-info">
                    <ul class="no-bullets calculate-value">
                        <li class="monthly-bill">
                            <span class="pic">
                                <img src="/assets/images/cc-images/icon-monthly-bill.svg" alt="">
                            </span>
                            <span class="text">Avg. Monthly Bill</span>
                            <span class="value">{{leadData.calculator_data?.lead_calfeed_expected_monthlybill}}</span>
                        </li>
                        <li class="load-on-backup">
                            <span class="pic">
                                <img src="/assets/images/cc-images/home-icon-new.png" alt="">
                            </span>
                            <span class="text">Building Type</span>
                            <span class="value">{{leadData.calculator_data?.lead_calfeed_buildingtype}}</span>
                        </li>
                        <li class="backup-time">
                            <span class="pic">
                                <img src="/assets/images/cc-images/icon-backup-time.svg" alt="">
                            </span>
                            <span class="text">Backup Time</span>
                            <span class="value">{{leadData.calculator_data?.lead_calfeed_backuptime}} Hrs</span>
                        </li>
                        <li class="load-on-backup">
                            <span class="pic">
                                <img src="/assets/images/cc-images/icon-load-on-backup.svg" alt="">
                            </span>
                            <span class="text">Load on Backup</span>
                            <span class="value">{{leadData.calculator_data?.lead_loadonbackup}} KW</span>
                        </li>
                    </ul>
                </div>
            </div>

        </section>
    </div>
    <div id="fill-form-widget" class="manage-top-spaces">
        <div class="box fill-form mb-30" *ngIf="panelSteps == 2">
            <h2 class="box-title">APPLICATION FROM</h2>
            <section class="box-content">

                <form id="lead-information" [formGroup]="customerFillFormRequest" (ngSubmit)="submitConsumerFormRequest()">
                    <div class="form-n-script text-top">
                        <div class="col-form">
                            <h3 class="mt0">Fill lead information below:-</h3>
                            <div class="field-wrapper">
                                <label for="">Lead Reference</label>
                                <div class="form-field">
                                    <ng-select [options]="refrenceList" formControlName="cceld_reference_id" placeholder="Lead Reference" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                    <!--select formControlName="cceld_reference" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="website">Website</option>
                                        <option value="social_media">Social Media</option>
                                        <option value="print_ads">Print Ads</option>
                                        <option value="tv">Tv</option>
                                        <option value="friends_and_family">Friends & Family</option>
                                        <option value="radio_channel">Radio</option>
                                        <option value="channel_partner">Channel Partner</option>
                                        <option value="SMS_Campaign">SMS Campaign</option>
                                        <option value="others">Others</option>
                                    </select-->
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">&nbsp;</label>
                                <div class="form-field ">
                                    <textarea formControlName="cceld_referenceremarks" cols="50" rows="3" placeholder="Add Remarks" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                </div>
                            </div>
                            <h3>Customer Information</h3>
                            <div class="field-wrapper">
                                <label for="">First Name*</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps mandate-field" formControlName="cceld_firstname" maxlength="30" placeholder="First Name" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_firstname?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_firstname?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        Please Enter valid First Name
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Middle Name</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps" formControlName="cceld_middlename" maxlength="30" placeholder="Middle Name" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Last Name*</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps mandate-field" formControlName="cceld_lastname" maxlength="30" placeholder="Last Name" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_lastname?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_lastname?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        Please Enter valid Last Name
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Contact Number*</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="cceld_mobileno" placeholder="Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)" />
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>

                            </div>
                            <div class="field-wrapper">
                                <label for="">Alternate Contact Number</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_alternatecntctno" placeholder="Alternate Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_alternatecntctno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Name of contact person at site</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_contactperson" placeholder="Name of contact person at site" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Contact Number of contact person at site</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_contactnumber" placeholder="Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_contactnumber?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Email ID</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_email" placeholder="Email ID" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_email?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_email?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.EMAIL_PATTERN}}
                                    </div>

                                </div>
                            </div>
                            <h3>Address Information</h3>
                            <div class="field-wrapper">
                                <label for="">Address1*</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="cceld_address1" placeholder="Address1" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_address1?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address2</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_address2" placeholder="Address2" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Landmark</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_landmark" placeholder="Landmark" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Pincode</label>
                                <div class="form-field">
                                    <!-- <input type="text" formControlName="cceld_pincode" placeholder="Pincode"> -->

                                    <input class="form-text mandate-field" type="text" formControlName="cceld_pincode" placeholder="Pincode" (input)="knowYourStateCity($event.target.value, 'form-fill')"
                                        (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error">
                                        <p *ngIf="isPincode == true">{{lead_panal_form.PINCODE}}</p>
                                    </div>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_pincode?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.PINCODE}}
                                    </div>
                                    <div class="error" *ngIf="isPincode != true && customerFillFormRequest.controls?.cceld_pincode?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>
                            
                            <div class="field-wrapper">
                                <label for="">State</label>
                                <div class="form-field">
                                     <ng-select class="mandate-field" [options]="stateList" formControlName="cceld_state" placeholder="Select State" (selected)="ifStateIfCity('state', 'form-fill')" [(ngModel)]="selectedState" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_state?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>
                            
                            <div class="field-wrapper">
                                <label for="">City*</label>
                                <div class="form-field">
                                     <ng-select class="mandate-field" [options]="cityList" formControlName="cceld_city" placeholder="Select City" (selected)="ifStateIfCity('city', 'form-fill')" [(ngModel)]="selectedCity" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_city?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>

                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Locality</label>
                                <div class="form-field">
                                    <input *ngIf="otherPincode" type="text" formControlName="cceld_locality" placeholder="Locality" (focusout)="submitConsumerFormRequest(3)">
                                    <ng-select *ngIf="!otherPincode" [options]="localityList" formControlName="cceld_locality" placeholder="Select Locality" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                </div>
                            </div>


                            <div class="field-wrapper">
                                <label for="">Country</label>
                                <div class="form-field">
                                    <select class="mandate-field" formControlName="cceld_country" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="4">Afghanistan</option>
                                        <option value="248">Åland Islands</option>
                                        <option value="8">Albania</option>
                                        <option value="12">Algeria</option>
                                        <option value="16">American Samoa</option>
                                        <option value="20">Andorra</option>
                                        <option value="24">Angola</option>
                                        <option value="660">Anguilla</option>
                                        <option value="10">Antarctica</option>
                                        <option value="28">Antigua and Barbuda</option>
                                        <option value="32">Argentina</option>
                                        <option value="51">Armenia</option>
                                        <option value="533">Aruba</option>
                                        <option value="36">Australia</option>
                                        <option value="40">Austria</option>
                                        <option value="31">Azerbaijan</option>
                                        <option value="44">Bahamas</option>
                                        <option value="48">Bahrain</option>
                                        <option value="50">Bangladesh</option>
                                        <option value="52">Barbados</option>
                                        <option value="112">Belarus</option>
                                        <option value="56">Belgium</option>
                                        <option value="84">Belize</option>
                                        <option value="204">Benin</option>
                                        <option value="60">Bermuda</option>
                                        <option value="64">Bhutan</option>
                                        <option value="68">Bolivia, Plurinational State of</option>
                                        <option value="535">Bonaire, Sint Eustatius and Saba</option>
                                        <option value="70">Bosnia and Herzegovina</option>
                                        <option value="72">Botswana</option>
                                        <option value="74">Bouvet Island</option>
                                        <option value="76">Brazil</option>
                                        <option value="86">British Indian Ocean Territory</option>
                                        <option value="96">Brunei Darussalam</option>
                                        <option value="100">Bulgaria</option>
                                        <option value="854">Burkina Faso</option>
                                        <option value="108">Burundi</option>
                                        <option value="116">Cambodia</option>
                                        <option value="120">Cameroon</option>
                                        <option value="124">Canada</option>
                                        <option value="132">Cape Verde</option>
                                        <option value="136">Cayman Islands</option>
                                        <option value="140">Central African Republic</option>
                                        <option value="148">Chad</option>
                                        <option value="152">Chile</option>
                                        <option value="156">China</option>
                                        <option value="162">Christmas Island</option>
                                        <option value="166">Cocos (Keeling) Islands</option>
                                        <option value="170">Colombia</option>
                                        <option value="174">Comoros</option>
                                        <option value="178">Congo</option>
                                        <option value="180">Congo, the Democratic Republic of the</option>
                                        <option value="184">Cook Islands</option>
                                        <option value="188">Costa Rica</option>
                                        <option value="384">Côte d'Ivoire</option>
                                        <option value="191">Croatia</option>
                                        <option value="192">Cuba</option>
                                        <option value="531">Curaçao</option>
                                        <option value="196">Cyprus</option>
                                        <option value="203">Czech Republic</option>
                                        <option value="208">Denmark</option>
                                        <option value="262">Djibouti</option>
                                        <option value="212">Dominica</option>
                                        <option value="214">Dominican Republic</option>
                                        <option value="218">Ecuador</option>
                                        <option value="818">Egypt</option>
                                        <option value="222">El Salvador</option>
                                        <option value="226">Equatorial Guinea</option>
                                        <option value="232">Eritrea</option>
                                        <option value="233">Estonia</option>
                                        <option value="231">Ethiopia</option>
                                        <option value="238">Falkland Islands (Malvinas)</option>
                                        <option value="234">Faroe Islands</option>
                                        <option value="242">Fiji</option>
                                        <option value="246">Finland</option>
                                        <option value="250">France</option>
                                        <option value="254">French Guiana</option>
                                        <option value="258">French Polynesia</option>
                                        <option value="260">French Southern Territories</option>
                                        <option value="266">Gabon</option>
                                        <option value="270">Gambia</option>
                                        <option value="268">Georgia</option>
                                        <option value="276">Germany</option>
                                        <option value="288">Ghana</option>
                                        <option value="292">Gibraltar</option>
                                        <option value="300">Greece</option>
                                        <option value="304">Greenland</option>
                                        <option value="308">Grenada</option>
                                        <option value="312">Guadeloupe</option>
                                        <option value="316">Guam</option>
                                        <option value="320">Guatemala</option>
                                        <option value="831">Guernsey</option>
                                        <option value="324">Guinea</option>
                                        <option value="624">Guinea-Bissau</option>
                                        <option value="328">Guyana</option>
                                        <option value="332">Haiti</option>
                                        <option value="334">Heard Island and McDonald Islands</option>
                                        <option value="336">Holy See (Vatican City State)</option>
                                        <option value="340">Honduras</option>
                                        <option value="344">Hong Kong</option>
                                        <option value="348">Hungary</option>
                                        <option value="352">Iceland</option>
                                        <option value="356">India</option>
                                        <option value="360">Indonesia</option>
                                        <option value="364">Iran, Islamic Republic of</option>
                                        <option value="368">Iraq</option>
                                        <option value="372">Ireland</option>
                                        <option value="833">Isle of Man</option>
                                        <option value="376">Israel</option>
                                        <option value="380">Italy</option>
                                        <option value="388">Jamaica</option>
                                        <option value="392">Japan</option>
                                        <option value="832">Jersey</option>
                                        <option value="400">Jordan</option>
                                        <option value="398">Kazakhstan</option>
                                        <option value="404">Kenya</option>
                                        <option value="296">Kiribati</option>
                                        <option value="408">Korea, Democratic People's Republic of</option>
                                        <option value="410">Korea, Republic of</option>
                                        <option value="414">Kuwait</option>
                                        <option value="417">Kyrgyzstan</option>
                                        <option value="418">Lao People's Democratic Republic</option>
                                        <option value="428">Latvia</option>
                                        <option value="422">Lebanon</option>
                                        <option value="426">Lesotho</option>
                                        <option value="430">Liberia</option>
                                        <option value="434">Libya</option>
                                        <option value="438">Liechtenstein</option>
                                        <option value="440">Lithuania</option>
                                        <option value="442">Luxembourg</option>
                                        <option value="446">Macao</option>
                                        <option value="807">Macedonia, the former Yugoslav Republic of</option>
                                        <option value="450">Madagascar</option>
                                        <option value="454">Malawi</option>
                                        <option value="458">Malaysia</option>
                                        <option value="462">Maldives</option>
                                        <option value="466">Mali</option>
                                        <option value="470">Malta</option>
                                        <option value="584">Marshall Islands</option>
                                        <option value="474">Martinique</option>
                                        <option value="478">Mauritania</option>
                                        <option value="480">Mauritius</option>
                                        <option value="175">Mayotte</option>
                                        <option value="484">Mexico</option>
                                        <option value="583">Micronesia, Federated States of</option>
                                        <option value="498">Moldova, Republic of</option>
                                        <option value="492">Monaco</option>
                                        <option value="496">Mongolia</option>
                                        <option value="499">Montenegro</option>
                                        <option value="500">Montserrat</option>
                                        <option value="504">Morocco</option>
                                        <option value="508">Mozambique</option>
                                        <option value="104">Myanmar</option>
                                        <option value="516">Namibia</option>
                                        <option value="520">Nauru</option>
                                        <option value="524">Nepal</option>
                                        <option value="528">Netherlands</option>
                                        <option value="540">New Caledonia</option>
                                        <option value="554">New Zealand</option>
                                        <option value="558">Nicaragua</option>
                                        <option value="562">Niger</option>
                                        <option value="566">Nigeria</option>
                                        <option value="570">Niue</option>
                                        <option value="574">Norfolk Island</option>
                                        <option value="580">Northern Mariana Islands</option>
                                        <option value="578">Norway</option>
                                        <option value="512">Oman</option>
                                        <option value="586">Pakistan</option>
                                        <option value="585">Palau</option>
                                        <option value="275">Palestinian Territory, Occupied</option>
                                        <option value="591">Panama</option>
                                        <option value="598">Papua New Guinea</option>
                                        <option value="600">Paraguay</option>
                                        <option value="604">Peru</option>
                                        <option value="608">Philippines</option>
                                        <option value="612">Pitcairn</option>
                                        <option value="616">Poland</option>
                                        <option value="620">Portugal</option>
                                        <option value="630">Puerto Rico</option>
                                        <option value="634">Qatar</option>
                                        <option value="638">Réunion</option>
                                        <option value="642">Romania</option>
                                        <option value="643">Russian Federation</option>
                                        <option value="646">Rwanda</option>
                                        <option value="652">Saint Barthélemy</option>
                                        <option value="654">Saint Helena, Ascension and Tristan da Cunha</option>
                                        <option value="659">Saint Kitts and Nevis</option>
                                        <option value="662">Saint Lucia</option>
                                        <option value="663">Saint Martin (French part)</option>
                                        <option value="666">Saint Pierre and Miquelon</option>
                                        <option value="670">Saint Vincent and the Grenadines</option>
                                        <option value="882">Samoa</option>
                                        <option value="674">San Marino</option>
                                        <option value="678">Sao Tome and Principe</option>
                                        <option value="682">Saudi Arabia</option>
                                        <option value="686">Senegal</option>
                                        <option value="688">Serbia</option>
                                        <option value="690">Seychelles</option>
                                        <option value="694">Sierra Leone</option>
                                        <option value="702">Singapore</option>
                                        <option value="534">Sint Maarten (Dutch part)</option>
                                        <option value="703">Slovakia</option>
                                        <option value="705">Slovenia</option>
                                        <option value="90">Solomon Islands</option>
                                        <option value="706">Somalia</option>
                                        <option value="710">South Africa</option>
                                        <option value="239">South Georgia and the South Sandwich Islands</option>
                                        <option value="728">South Sudan</option>
                                        <option value="724">Spain</option>
                                        <option value="144">Sri Lanka</option>
                                        <option value="729">Sudan</option>
                                        <option value="740">Suriname</option>
                                        <option value="744">Svalbard and Jan Mayen</option>
                                        <option value="748">Swaziland</option>
                                        <option value="752">Sweden</option>
                                        <option value="756">Switzerland</option>
                                        <option value="760">Syrian Arab Republic</option>
                                        <option value="158">Taiwan, Province of China</option>
                                        <option value="762">Tajikistan</option>
                                        <option value="834">Tanzania, United Republic of</option>
                                        <option value="764">Thailand</option>
                                        <option value="626">Timor-Leste</option>
                                        <option value="768">Togo</option>
                                        <option value="772">Tokelau</option>
                                        <option value="776">Tonga</option>
                                        <option value="780">Trinidad and Tobago</option>
                                        <option value="788">Tunisia</option>
                                        <option value="792">Turkey</option>
                                        <option value="795">Turkmenistan</option>
                                        <option value="796">Turks and Caicos Islands</option>
                                        <option value="798">Tuvalu</option>
                                        <option value="800">Uganda</option>
                                        <option value="804">Ukraine</option>
                                        <option value="784">United Arab Emirates</option>
                                        <option value="826">United Kingdom</option>
                                        <option value="840">United States</option>
                                        <option value="581">United States Minor Outlying Islands</option>
                                        <option value="858">Uruguay</option>
                                        <option value="860">Uzbekistan</option>
                                        <option value="548">Vanuatu</option>
                                        <option value="862">Venezuela, Bolivarian Republic of</option>
                                        <option value="704">Viet Nam</option>
                                        <option value="92">Virgin Islands, British</option>
                                        <option value="850">Virgin Islands, U.S.</option>
                                        <option value="876">Wallis and Futuna</option>
                                        <option value="732">Western Sahara</option>
                                        <option value="887">Yemen</option>
                                        <option value="894">Zambia</option>
                                        <option value="716">Zimbabwe</option>
                                    </select>
                                </div>
                            </div>
                            <h3>Feasibility</h3>
                            
                            <div class="field-wrapper">
                                <label for="">Building type*</label>
                                <div class="form-field">
                                    <select formControlName="cceld_buildingtype" (change)="onBuildingTypeChange($event)" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="residential">Residential</option>
                                        <option value="commercial">Commercial</option>
                                    </select>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_buildingtype?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Type of site*</label>
                                <div class="form-field">   
                                    <select *ngIf="!isResedential" formControlName="cceld_sitetype" (focusout)="submitConsumerFormRequest(3)">
                                        <option value=" Industrial">Industrial</option>
                                        <option value="Institutional/Corporate">Institutional/Corporate</option>
                                        <option value="MSME">MSME</option>
                                        <option value="Education">Education</option>
                                        <option value="Government">Government</option>
                                        <option value="Others">Others</option>
                                    </select>
                                    <select *ngIf="isResedential" formControlName="cceld_sitetype" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="Multi-Storey">Multi-Storey</option>
                                        <option value="Villa/Independent House">Villa / Independent House</option>
                                        <option value="RWA/GroupHousing">RWA / Group Housing</option>
                                        <option value="HighRiseSociety">High Rise Society</option>
                                        <option value="Others">Others</option>
                                    </select>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_sitetype?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                                  </div>

                            <div class="field-wrapper">
                                <label for="">Number of floors</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_totalfloor" placeholder="Number of floors" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_totalfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct number of floors</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Customer floor</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_customerfloor" placeholder="Customer floor" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_customerfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct number of floors</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Owner</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="1" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="0" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">No</label>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Period of rent</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_rentperiod" placeholder="Period of rent" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Roof Rights</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_roofright" name="cceld_roofright" value=1 (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_roofright" name="cceld_roofright" value=0 (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">No</label>
                                </div>
                            </div>
                            <h3>Roof Details</h3>
                            <div class="field-wrapper">
                                <label for="">Roof Type</label>
                                <div class="form-field">
                                    <select formControlName="cceld_rooftype" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="flat">Flat</option>
                                        <option value="slanted">Slanted</option>
                                        <option value="others">Others</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Area</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_roofarea" placeholder="Roof area" (focusout)="submitConsumerFormRequest(3)">
                                    <select formControlName="cceld_roofareaunit" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="sq_m">square meter</option>
                                        <option value="sq_ft">square feet</option>
                                        <option value="sq_yd">square yard</option>
                                    </select>
                                </div>
                            </div>

                            <div class="field-wrapper field-with-other">
                                <label for="">Other area if available</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_otherarea" placeholder="Other area if available" (focusout)="submitConsumerFormRequest(3)">
                                    <select formControlName="cceld_otherareaunit" (focusout)="submitConsumerFormRequest(3)">
                                        <option value="sq_m">square meter</option>
                                        <option value="sq_ft">square feet</option>
                                        <option value="sq_yd">square yard</option>
                                    </select>
                                </div>
                            </div>
                            <h3>Affordability</h3>
                            <div class="field-wrapper">
                                <label for="">Budget</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_budget" placeholder="INR" (focusout)="submitConsumerFormRequest(3)">
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_budget?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct budget</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Financing Required</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq" value="1" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq" value="0" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">No</label>
                                </div>
                            </div>
                            <!-- <h3>Others</h3>
                            <div class="field-wrapper field-textarea">
                                <label for="">Transport feasibility</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_istransportfeasible" cols="30" rows="10" placeholder="Transport feasibility" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                </div>
                            </div> -->
                        </div>
                        <div class="col-script">
                            <h3 class="mt0">Customer Care Script</h3>
                            <div class="script-data">
                                <h4>Opening/Greetings</h4>
                                <div class="script-text">
                                    <p>Hello Sir/Mam, I am calling from Luminous Customer Care. Is it a good time to talk to
                                        you.
                                    </p>
                                    <p>Sir/Mam this call is regarding the site survey request that you had placed on our website.</p>
                                    <p>Can you please let us know from where did you get to know about us?</p>
                                    <p>To schedule your site survey we need some details from you.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-n-script">
                        <div class="col-form">
                            <!-- <div class="form-actions">
                                <input class="button button-blue" type="button" value="Save" (click)="submitConsumerFormRequest(1)">
                            </div> -->
                            <h3>Need Assessment</h3>
                            <!-- <div class="field-wrapper field-textarea">
                                <label for="">Motive</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_motive" cols="30" rows="10" placeholder="Motive" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                </div>
                            </div> -->
                        </div>
                        <div class="col-script">
                            <div class="script-data">
                                <h4>Site Survey Booking</h4>
                                <div class="script-text">
                                    <p>Sir/Mam, now i am going to book a site survey for you,</p>
                                    <p>When should our site surveyor come to inspect your site ?</p>
                                    <p>What time would be convenient for you?</p>
                                    <p>Ok Sir/Mam i've booked the site survey for you on DATE/TIME</p>
                                    <p>If you have 5 more minutes we would like to ask you few more questions.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-n-script">
                        <div class="col-from">
                            <div class="field-wrapper">
                                <label for="">Average Electricity Bill</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_avgelectricitybill" placeholder="INR" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Solution Required</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" [checked]="true" value="on_grid" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Savings/On-Grid</label>
                                    <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" value="off_grid" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Backup/Off-Grid</label>
                                    <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" value="hybrid" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Hybrid</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Existing Power Source</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" [checked]="true" value="inverter"
                                        (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Inverter</label>
                                    <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="dg_setup" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">DG Setup</label>
                                    <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="society_backup" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Society Backup</label>
                                    <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="other" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Other</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Enter Backup details</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_backupdetail" placeholder="Load to be run on backup" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Type of connection</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_phasetype" [checked]="true" name="cceld_phasetype" value="single_phase" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Single Phase</label>
                                    <input type="radio" formControlName="cceld_phasetype" name="cceld_phasetype" value="three_phase" (focusout)="submitConsumerFormRequest(3)">
                                    <label for="">Three Phase</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Average power cut during day</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_powercutinday" placeholder="hrs" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Average power cut during night</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_powercutinnight" placeholder="hrs" (focusout)="submitConsumerFormRequest(3)">
                                </div>
                            </div>
                            

                        </div>
                        <div class="col-script">&nbsp;</div>
                    </div>


                    <div class="form-n-script">
                        <div class="col-form">
                            

                            <!--@roshan-->
                            <div class="field-wrapper">
                                <label for="">Other Remark</label>
                                <div class="form-field">
                                    <select formControlName="other_remark" (change)="otherRemarkchange($event)">
                                        <option value="">-- Not selected --</option>
                                        <option value="Price Inquiry">Price Inquiry</option>
                                        <option value="Need Off-Grid Inverter upto 2kW">Need Off-Grid Inverter upto 2kW </option>
                                        <option value="Need On-Grid Inverter but area not serviceable presently">Need On-Grid Inverter but area not serviceable presently </option>
                                        <option value="Need Off-Grid Inverter but area not serviceable presently">Need Off-Grid Inverter but area not serviceable presently</option>
                                        <option value="Installation site not ready">Installation site not ready </option>
                                    </select>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Select Site Surveyor*</label>
                                    <div class="form-field">
                                        <!-- <select formControlName="cceld_surveyerid">
                                            <option value=1>Harish</option>
                                            <option value=2>Lovish</option>
                                            <option value=3>Amit</option>
                                        </select> -->
                                        <ng-select class="mandate-field" [options]="surveyorList" formControlName="cceld_surveyerid" placeholder="Select Site Surveyor"
                                            (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                        <div class="error" *ngIf=" isSubmitCustomerFillFormRequest && selectSiteSurveyorFlag == 2 && surveyerid_value==0 && otherRemark">{{lead_panal_form.BLANK_FIELD}}</div>
                                    </div>
                                </div>

                            <!-- <div class="field-wrapper">
                                    <label for="">Remarks</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_remarks" placeholder="Remarks" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div> -->
                                <div class="field-wrapper">
                                    <label for="">Notes</label>
                                    <div class="form-field">
                                        <textarea formControlName="cceld_notes" cols="30" rows="10" placeholder="Note" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                    </div>
                                </div>

                            <h3>Schedule site visit</h3>
                            <div class="field-wrapper">
                                <label for="">Date*</label>
                                <div class="form-field">
                                    <p-calendar class="form-text" dateFormat="dd/mm/y" [minDate]="minDate" readonlyInput="true" formControlName="cceld_scheduledate"
                                        placeholder="Date" (focusout)="submitConsumerFormRequest(3)"></p-calendar>
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_scheduledate?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Time*</label>
                                <div class="form-field">
                                    <!-- <p-calendar class="form-text" [dateFormat]="'yy-mm-dd'" [timeOnly]="true"  [readonlyInput]="'true'" formControlName="cceld_scheduletime" placeholder="Time"></p-calendar> -->
                                    <!-- <select formControlName="cceld_scheduletime" (focusout)="submitConsumerFormRequest(3)"> -->
                                        <ng-select [options]="newSurveyTime" formControlName="cceld_scheduletime" (click)="checkTimeSlot()" (focusout)="submitConsumerFormRequest(3)" placeholder="Select Time"></ng-select>
                                        <!-- <option value=1>10:00-12:00</option>
                                        <option value=2>12:00-14:00</option>
                                        <option value=3>14:00-16:00</option>
                                        <option value=4>16:00-18:00</option> -->
                                    <!-- </select> -->
                                    <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_scheduletime?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions" style="flex-direction: column;">
                                <div style="text-align: right;">
                                    <!-- <input class="button button-blue" type="button" value="Save" (click)="submitConsumerFormRequest(1)"> -->
                                    <input *ngIf="!loading" class="button button-blue" type="button" value="Submit" (click)="submitConsumerFormRequest(2)">
                                    <button *ngIf="loading" class="button button-blue" type="button">
                                        <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                                    </button>
                                </div>
                                <div style="text-align: right;">
                                </div>
                            </div>

                        </div>
                        <div class="col-script">
                            <div class="script-data">
                                <h4>Closing</h4>
                                <div class="script-text">
                                    <p>We have got the required information,</p>
                                    <p>Thanks for your time.</p>
                                    <p>Our site surveyor will get in touch with you before coming to the site.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>
    <!-- <div class="box transfer-call">
        <h2 class="box-title">TRANSFER CALL ?</h2>
        <section class="box-content">
            <form action="">
                <div class="field-wrapper">
                    <label for="">Customer Care Executive</label>
                    <div class="form-field">
                        <input type="text" name="" placeholder="Customer Care Executive">
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Add Note</label>
                    <div class="form-field">
                        <textarea name="" cols="30" rows="10" placeholder="Add Note"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <input class="button button-grey" type="button" value="Cancel">
                    <input class="button button-blue" type="submit" value="Submit">
                </div>
            </form>
        </section>
    </div> -->
    <!-- <div id="no-response-widget" class="manage-top-spaces"> -->
    <div class="box no-response" *ngIf="panelSteps == 3">
        <h2 class="box-title">NO RESPONSE ?</h2>
        <section class="box-content">
            <h3>Call will be rescheduled after 1 hour.</h3>
            <form id="not-response" [formGroup]="noResponseRequest" (ngSubmit)="submitNoResponseRequest()">
                <div class="field-wrapper">
                    <label for="">Lead Reference</label>
                    <div class="form-field">
                        <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                        <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Reason*</label>
                    <div class="form-field">
                        <select formControlName="lead_callowner_notes">
                            <option value="Did Not Pick Call">Did Not Pick Call</option>
                            <option value="Disconnect by Customer">Disconnect by Customer </option>
                            <option value="Not-reachable">Not-reachable </option>
                            <option value="Others">Others </option>
                        </select>
                        <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Remarks*</label>
                    <div class="form-field">
                        <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                        <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_remarks?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                    </div>
                </div>
                <p class="reschedule">* These fields are mandatory</p>
                <div class="form-actions">
                    <!-- Cancel -->
                    <input class="button button-grey" type="button" value="Cancel">
                    <input *ngIf="!loading" class="button button-blue" type="submit" value="Submit">
                    <button *ngIf="loading" class="button button-blue" type="button">
                        <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                    </button>
                </div>
            </form>
        </section>
    </div>
    <!-- </div> -->
    <div class="box not-intrested" *ngIf="panelSteps == 4">
        <h2 class="box-title">CONSUMER NOT INTERESTED ?</h2>
        <section class="box-content">
            <form id="not-interested" [formGroup]="notInterestedRequest" (ngSubmit)="submitNotInterestedRequest()">
                <div class="field-wrapper">
                    <div class="form-field">
                        <input type="hidden" formControlName="lead_id" value="{{leadData.lead_id}}">
                        <!-- <input type="hidden" formControlName="lease_modifiedby" value="1">
                        <input type="hidden" formControlName="lead_callowner_duration" value="1"> -->
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Lead Reference*</label>
                    <div class="form-field">
                        <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                        <div class="error" *ngIf="notInterestedRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitNotInterestedRequest">Mandatory Field</div>   
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Reason*</label>
                    <div class="form-field">
                        <select formControlName="lead_callowner_notes">
                            <!--option value="Needs Normal Solar Inverter: NXG">Needs Normal Solar Inverter: NXG</option-->
                            <option value="Need Off-Grid Inverter upto 2kW">Need Off-Grid Inverter upto 2kW</option>
                            <option value="Budget Constraint">Budget Constraint</option>
                            <option value="Shadow Free Space Constraint">Shadow Free Space Constraint</option>
                            <option value="Private Electricity Connection">Private Electricity Connection</option>
                            <option value="High Value">High Value</option>
                            <option value="Wrong information published / advertised">Wrong information published / advertised</option>
                            <option value="No Roof Rights">No Roof Rights</option>
                            <option value="Ownership of Electricity Connection is not available">Ownership of Electricity Connection is not available</option>
                            <option value="Dealer/Distributor Enquiry">Dealer/Distributor Enquiry</option>
                            <option value="Invalid Imported Lead">Invalid Imported Lead</option>
                            <option value="Price Inquiry">Price Inquiry</option>
                            <option value="Property Under Construction">Property Under Construction</option>
                            <option value="Need On-Grid Inverter but area not serviceable presently">Need On-Grid Inverter but area not serviceable presently</option>
                            <option value="Need Off-Grid Inverter but area not serviceable presently">Need Off-Grid Inverter but area not serviceable presently</option>
                            <option value="No requirement - only gathering information">No requirement - only gathering information</option>
                            <option value="Subsidy issue (Solar is required but not available currently)">Subsidy issue (Solar is required but not available currently)</option>
                            <option value="Already purchased other brand">Already purchased other brand</option>
                            <option value="Already purchased Luminous brand">Already purchased Luminous brand</option>
                            <option value="Not interested at present, but will consider going solar in future (out of station, need to apply for increase sanction load , NOC not available at present etc.)">Not interested at present, but will consider going solar in future (out of station, need to apply for increase sanction load , NOC not available at present etc.)</option>
                            <option value="Wants to only sell electricity units generated to electricity board (and no consumption)">Wants to only sell electricity units generated to electricity board (and no consumption)</option>
                            <option value="Others">Others</option>
                        </select>
                        <div class="error" *ngIf="notInterestedRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitNotInterestedRequest">Mandatory Field</div>

                        <!-- <input type="text" name="" placeholder="Customer Care Executive"> -->
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Remarks*</label>
                    <div class="form-field">
                        <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                        <div class="error" *ngIf="(notInterestedRequest.controls?.lead_callowner_remarks?.errors?.required || notInterestedRequest.controls?.lead_callowner_remarks?.errors?.pattern) && isSubmitNotInterestedRequest">Mandatory Field</div>

                    </div>
                </div>
                <p class="not-intrested">* Mandatory Field.</p>
                <div class="form-actions">
                    <!-- Cancel -->
                    <input class="button button-grey" type="button" value="Cancel">
                    <input *ngIf="!loading" class="button button-blue" type="submit" value="Submit">
                    <button *ngIf="loading" class="button button-blue" type="button">
                        <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                    </button>
                </div>
            </form>
        </section>
    </div>
    <div class="box schedule-call-back" *ngIf="panelSteps == 5">
        <h2 class="box-title">Schedule Call Back</h2>
        <section class="box-content">
            <h3>Select the date and time</h3>
            <form id="call-reschedule" [formGroup]="callRescheduleRequest" (ngSubmit)="submitCallRescheduleRequest()">
                <div class="field-wrapper">
                    <label for="">Schedule Call Back*</label>

                    <div class="form-field field-date-time">
                        <div class="field-date">
                            <p-calendar class="form-text" [(ngModel)]="rescheduleDate" [minDate]="minDate" readonlyInput="true" dateFormat="dd/mm/y" formControlName="lead_scheduledate"
                                placeholder="Date" [showIcon]="true"></p-calendar>
                            <div class="error" *ngIf="(callRescheduleRequest.controls?.lead_scheduledate?.errors?.required||callRescheduleRequest.controls?.lead_scheduledate?.errors?.required) && isSubmitCallRescheduleRequest">Mandatory Field</div>

                        </div>
                        <div class="field-time">
                            <p-calendar class="form-text" [(ngModel)]="rescheduleDate" [timeOnly]="true" [minDate]="minDate" readonlyInput="true" formControlName="lead_scheduletime"
                                placeholder="Time" [showIcon]="true"></p-calendar>
                                <div class="error" *ngIf="wrongTime">Invalid Time</div>
                        </div>

                    </div>

                </div>
                <div class="field-wrapper">
                    <label for="">Lead Reference</label>
                    <div class="form-field">
                        <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                        <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>   
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Reason*</label>
                    <div class="form-field">
                        <select formControlName="lead_callowner_notes">
                            <option value="No response">No response </option>
                            <option value="Disconnect by Customer">Disconnect by Customer </option>
                            <option value="Request - call back later">Request - call back later </option>
                            <option value="Not-reachable">Not-reachable </option>
                            <option value="Unavailability of Customer">Unavailability of Customer </option>
                            <option value="Others">Others </option>
                        </select>
                        <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>

                        <!-- <input type="text" name="" placeholder="Customer Care Executive"> -->
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Remarks*</label>
                    <div class="form-field">
                        <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                        <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_remarks?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>
                    </div>
                </div>
                <p class="reschedule">* These fields are mandatory</p>
                <div class="form-actions">
                    <!-- Cancel -->
                    <input class="button button-grey" type="button" value="Cancel">
                    <input *ngIf="!loading" class="button button-blue" type="submit" value="Submit">
                    <button *ngIf="loading" class="button button-blue" type="button">
                        <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                    </button>
                </div>
            </form>
        </section>
    </div>
    <div class="box call-history" *ngIf="!isListing">
        <h2 class="box-title">CALL HISTORY</h2>
        <section class="box-content">
            <div class="previous-details">
                <article>
                    <h3>Previous CCE</h3>
                    <p>{{leadData?.emp_name}}</p>
                </article>
                <article>
                    <h3>CALL DATE & TIME</h3>
                    <p>
                        <span class="date">{{leadData?.lead_scheduledate}}</span>
                    </p>
                </article>
                <article>
                    <h3>CALL DURATION</h3>
                    <p>{{leadData?.lead_callowner_duration}}</p>
                </article>
            </div>
            <hr style="margin-top: 20px;">
            <div class="previous-details">
                <div class="remarks">
                    <h3>REMARKS</h3>
                    <p>{{leadData?.lead_callowner_remarks}}</p>
                </div>
                <div class="remarks">
                    <h3>NOTES:</h3>
                    <P>{{leadData?.lead_callowner_notes}}</P>
                </div>
            </div>
        </section>
        <!-- <section class="note">
            <h3>NOTES:</h3>
            <P>{{leadData?.lead_callowner_notes}}</P>
        </section> -->
    </div>
    <div class="table-wrapper">
            <h2 class="box-title">Existing Leads and Projects</h2>
            <table  cellpadding="0" cellspacing="0">
                <thead>
                    <tr><th>Lead Id</th>
                        <th>Project Id</th>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Lead Status</th>
                        <th>Project Status</th>
                        <th>Lead Mobile</th>
                        <th>Consumer Mobile</th>
                    </tr>
                </thead>
                <tbody *ngIf="ongoingLead">
                    <tr *ngFor="let ongLd of ongoingLead; let i = index" >
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">{{ongLd?.lead_id}}</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">{{ongLd?.consumer_full_name}}</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">{{(ongLd?.address.trim() !='')?ongLd?.address:'N/A'}}</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">Lead In Progress</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">{{ongLd?.lead_mobile}}</td>
                        <td *ngIf="leadData?.lead_id != ongLd?.lead_id">{{ongLd?.consumer_mobileno}}</td>
                        
                    </tr>
                </tbody>
                
                <tbody *ngIf="coldLead">
                    <tr *ngFor="let coldLd of coldLead; let j = index" >
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">{{coldLd?.lead_id}}</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">{{coldLd?.consumer_full_name}}</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">{{(coldLd?.address.trim()!='')?coldLd?.address:'N/A'}}</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">Rejected Lead</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">{{coldLd?.lead_mobile}}</td>
                        <td *ngIf="leadData?.lead_id != coldLd?.lead_id">{{coldLd?.consumer_mobileno}}</td>
                        
                    </tr>
                </tbody>
                
                <tbody *ngIf="ongoingProject">
                    <tr *ngFor="let ongPj of ongoingProject; let k = index" >
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{ongPj?.lead_id}}</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{ongPj?.project_code}}</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{ongPj?.consumer_full_name}}</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">Project In Progress</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{ongPj?.lead_mobile}}</td>
                        <td *ngIf="leadData?.lead_id != ongPj?.lead_id">{{ongPj?.consumer_mobileno}}</td>
                        
                    </tr>
                </tbody>
                
                <tbody *ngIf="rejectedProject">
                    <tr *ngFor="let rejPj of rejectedProject; let l = index" >
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{rejPj?.lead_id}}</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{rejPj?.project_code}}</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{rejPj?.consumer_full_name}}</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">N/A</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">Project Rejected</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{rejPj?.lead_mobile}}</td>
                        <td *ngIf="leadData?.lead_id != rejPj?.lead_id">{{rejPj?.consumer_mobileno}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

</div>



<div class="container" *ngIf="isSurveyFormVisible && !isListing">
    <div *ngIf="formStep == 1">
        <h2>Site Survey Registration</h2>
        <br>
        <form id="schedule-site-survey" [formGroup]="surveyRequest" (ngSubmit)="submitPhoneNumber()">
            <div class="row" style="width:60%;">
                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon mandate-field">
                            <span class="field-icon icon_user"></span>
                            <input class="form-text text-caps" type="text" formControlName="consumer_fname" maxlength="30" placeholder="First Name*">
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_fname?.errors?.required && isSubmitSurveyRequest">
                            {{site_survey.BLANK_FIELD}}
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_fname?.errors?.pattern && isSubmitSurveyRequest">{{site_survey.FNAME}}</div>
                    </div>
                </div>

                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon mandate-field">
                            <span class="field-icon icon_user"></span>
                            <input class="form-text text-caps" type="text" maxlength="30" formControlName="consumer_lname" placeholder="Last Name*">
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_lname?.errors?.required && isSubmitSurveyRequest">
                            {{site_survey.BLANK_FIELD}}
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_lname?.errors?.pattern && isSubmitSurveyRequest">{{site_survey.LNAME}}</div>

                    </div>
                </div>

                <div class="field-wrapper">
                    <div class="form-field pos-rel">
                        <div class="field-addon mandate-field">
                            <span class="field-icon icon_mobile"></span>
                            <input class="form-text" type="text" formControlName="consumer_mobileno" placeholder="Contact No.*" maxlength="10">
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_mobileno?.errors?.required && isSubmitSurveyRequest">
                            {{site_survey.BLANK_FIELD}}
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_mobileno?.errors?.pattern && isSubmitSurveyRequest">
                            {{site_survey.MOBILENO_PATTERN}}
                        </div>
                        <div class="error">
                            <p *ngIf="isMobileValid == true && !isSubmitSurveyRequest && (surveyRequest.controls?.consumer_mobileno?.errors?.pattern || surveyRequest.controls?.consumer_mobileno?.errors?.required)">
                                {{site_survey.MOBILENO_PATTERN}}</p>
                        </div>
                    </div>

                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon mandate-field">
                            <span class="field-icon icon_message"></span>
                            <input class="form-text" type="text" formControlName="consumer_email" placeholder="Email ID">
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_email?.errors?.pattern && isSubmitSurveyRequest">{{site_survey.EMAIL_PATTERN}}</div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_email?.errors?.required && isSubmitSurveyRequest">{{site_survey.BLANK_FIELD}}</div>

                    </div>
                </div>

                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon">
                            <span class="field-icon icon_address"></span>
                            <input class="form-text" type="text" formControlName="consumer_address1" placeholder="Address Line 1">
                        </div>
                    </div>
                </div>

                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon mandate-field">
                            <span class="field-icon icon_address"></span>
                            <input class="form-text" type="text" formControlName="consumer_pincode" placeholder="Pincode*" (input)="knowYourStateCity($event.target.value, 'survey-booking')">
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_pincode?.errors?.required && isSubmitSurveyRequest">
                            {{site_survey.BLANK_FIELD}}
                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_pincode?.errors?.pattern && isSubmitSurveyRequest">{{site_survey.PINCODE}}</div>

                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon" style="background-color: white;">
                            <span class="field-icon icon_locality"></span>
                            <input *ngIf="otherPincode" class="form-text" type="text" formControlName="consumer_locality"  placeholder="Locality">
                            <ng-select *ngIf="!otherPincode" [options]="localityList" formControlName="consumer_locality" placeholder="Select Locality"></ng-select>
                        </div>
                    </div>
                </div>

                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon" style="background-color: white;">
                            <span class="field-icon icon_city"></span>
                            <!-- <input class="form-text" type="text" formControlName="consumer_cityid"  placeholder="City"> -->
                            <ng-select [options]="cityList" formControlName="consumer_cityid" placeholder="Select City" (selected)="ifStateIfCity('city', 'survey-booking')" [(ngModel)]="selectedCity"></ng-select>
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon" style="background-color: white;">
                            <span class="field-icon icon_state"></span>
                            <!-- <input class="form-text" type="text" formControlName="consumer_stateid"  placeholder="State"> -->
                            <ng-select [options]="stateList" formControlName="consumer_stateid" placeholder="Select State" (selected)="ifStateIfCity('state', 'survey-booking')" [(ngModel)]="selectedState"></ng-select>
                        </div>
                    </div>
                </div>


                <div class="field-wrapper">
                    <div class="form-field">
                        <div class="field-addon">
                            <span class="field-icon icon_mobile"></span>
                            <input class="form-text" type="text" formControlName="consumer_alternatecontactno" placeholder="Alternate Contact No." maxlength="10">

                        </div>
                        <div class="error" *ngIf="surveyRequest.controls?.consumer_alternatecontactno?.errors?.pattern && isSubmitSurveyRequest">
                            {{site_survey.MOBILENO_PATTERN}}
                        </div>
                    </div>
                </div>
                <div>
                    <input type="hidden" formControlName="is_waived" [(ngModel)]="isWaived" />
                </div>
                <div class="col-md-12">
                    <p class="not-register mt-10">* Mandatory Field</p>
                </div>
            </div>
            <div class="actions text-center">
                <div>
                    <button *ngIf="!disableSurveyRequestSubmitButton" type="submit" class="btn btn-blue btn-md">Submit</button>
                    <button *ngIf="disableSurveyRequestSubmitButton" type="button" class="btn btn-blue btn-md">
                        <img src="/assets/images/loader.gif" style="width:30px;height:30px;" alt="LUMINOUS" />
                    </button>
                </div>

            </div>
        </form>
    </div>
    <div *ngIf="formStep == 2">
        <div>
            <p>
                Hi there,
                Looks like you’ve existing leads on our website.
                Are you enquiring about any of these earlier requests ?
            </p>
        </div>
        <!--Existing projects Code-->
        <div class="table-wrapper" *ngIf="formStep==2">
            <table  cellpadding="0" cellspacing="0">
                <thead>
                    <tr><th>Lead Id</th>
                        <th>Project Id</th>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Lead Status</th>
                        <th>Project Status</th>
                        <th>Lead Mobile</th>
                        <th>Consumer Mobile</th>
                        <th>Query/Reason</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody *ngIf="ongoingLead">
                    <tr *ngFor="let ongLd of ongoingLead; let i = index">
                        <td>{{ongLd?.lead_id}}</td>
                        <td>N/A</td>
                        <td>{{ongLd?.consumer_full_name}}</td>
                        <td>{{(ongLd?.address.trim() !='')?ongLd?.address:'N/A'}}</td>
                        <td>Lead In Progress( {{ongLd?.lead_status_name}} )</td>
                        <td>N/A</td>
                        <td>{{ongLd?.lead_mobile}}</td>
                        <td>{{ongLd?.consumer_mobileno}}</td>
                        <td><input type="text" (input)="setQueryText($event.target.value, i, 'ong')"></td>
                        <td><button type="button" (click)="updateExistingLead(ongLd?.lead_id, i, 'ong')">Click</button></td>
                    </tr>
                </tbody>
                
                <tbody *ngIf="coldLead">
                    <tr *ngFor="let coldLd of coldLead; let j = index">
                        <td>{{coldLd?.lead_id}}</td>
                        <td>N/A</td>
                        <td>{{coldLd?.consumer_full_name}}</td>
                        <td>{{(coldLd?.address.trim()!='')?coldLd?.address:'N/A'}}</td>
                        <td>Rejected Lead( {{coldLead?.lead_status_name}} )</td>
                        <td>N/A</td>
                        <td>{{coldLd?.lead_mobile}}</td>
                        <td>{{coldLd?.consumer_mobileno}}</td>
                        <td><input type="text" (input)="setQueryText($event.target.value, j, 'cld')"></td>
                        <td><button type="button" (click)="updateExistingLead(coldLd?.lead_id, j, 'cld')">Click</button></td>
                    </tr>
                </tbody>
                
                <tbody *ngIf="ongoingProject">
                    <tr *ngFor="let ongPj of ongoingProject; let k = index">
                        <td>{{ongPj?.lead_id}}</td>
                        <td>{{ongPj?.project_code}}</td>
                        <td>{{ongPj?.consumer_full_name}}</td>
                        <td>{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                        <td>N/A</td>
                        <td>Project In Progress( {{ongPj?.pstatus_status}} )</td>
                        <td>{{ongPj?.lead_mobile}}</td>
                        <td>{{ongPj?.consumer_mobileno}}</td>
                        <td><!--input type="text" (input)="setQueryText($event.target.value, k, 'ogp')"--></td>
                        <td><!--button type="button" (click)="updateExistingProject(ongPj?.project_id, k, 'ogp')">Click</button--></td>
                    </tr>
                </tbody>
                
                <tbody *ngIf="rejectedProject">
                    <tr *ngFor="let rejPj of rejectedProject; let l = index">
                        <td>{{rejPj?.lead_id}}</td>
                        <td>{{rejPj?.project_code}}</td>
                        <td>{{rejPj?.consumer_full_name}}</td>
                        <td>{{(rejPj?.address.trim()!='')?rejPj?.address:'N/A'}}</td>
                        <td>N/A</td>
                        <td>Project Rejected( {{rejPj?.pstatus_status}} )</td>
                        <td>{{rejPj?.lead_mobile}}</td>
                        <td>{{rejPj?.consumer_mobileno}}</td>
                        <td><input type="text" (input)="setQueryText($event.target.value, l, 'rjp')"></td>
                        <td><button type="button" (click)="updateExistingProject(rejPj?.project_id, l, 'rjp')">Click</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            No, I want to register new survey request for entered address.<button type="button" (click)="submitSurveyRequest()">Click</button>
        </div>
    </div>
</div>


<div class="container" *ngIf="isListing == 'query_listing' && !showQueryForm && !showCceForm">
    <h2>Queries List</h2>
    <div class="table-wrapper">
        <table class="normaltxt">
            <thead>
                <tr>
                    <th>
                        Query ID
                    </th>
                    <th>
                        Customer Name
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Contact No.
                    </th>
                    <!-- <th>
                            City
                        </th> -->
                    <th>
                        Address
                    </th>
                    <th>
                        Question
                    </th>
                    <th>
                        Reply
                    </th>
                    <th>
                        Duration
                    </th>
                    <th>
                        Query Time
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of queryList; let i = index">
                    <td>{{data?.uquery_id}}</td>
                    <td>{{data?.uquery_name}}</td>
                    <td>{{data?.uquery_email}}</td>
                    <td>{{data?.uquery_mobile}}</td>
                    <!-- <td>{{data?.uquery_city}}</td> -->
                    <td>{{data?.uquery_address}}</td>
                    <td>{{data?.uquery_question}}</td>
                    <td>{{data?.uquery_reply}}</td>
                    <td>{{data?.uquery_duration}}</td>
                    <td>{{data?.uquery_createdon}}</td>
                    <td>
                        <a (click)="editQuery(data)">Respond</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <style>
        ul {
            overflow: hidden;
        }

        li {
            display: inline-block;
        }

        .custom-pagination input {
            margin: 10px;
            width: 70px;
            padding: 0 5px;
        }

        .btn-blue {
            background-color: #04357f;
            box-shadow: 0 4px 5.87px 0.13px rgba(32, 111, 230, .35);
            border-radius: 27px;
            color: #fff;
            text-align: center;
            font-size: 18px;
            border: none;
        }
    </style>
    <ul *ngIf="queryList" style="white-space:nowrap;">

        <li [ngClass]="{disabled:pages === 1}">
            <a (click)="getQueryList(pages - 1)">
                <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                </i>
            </a>
        </li>
        &nbsp; &nbsp;
        <li>
            <a>Page {{pages}} of {{pageCount}}</a>
        </li>
        &nbsp; &nbsp;
        <li [ngClass]="{disabled:pages === pageCount}">
            <a (click)="getQueryList(pages + 1)">
                <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                </i>
            </a>
        </li>
        <li>
            <div class="custom-pagination">
                <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                    <input type="number" formControlName="page_number" class="form-text" min="0" max="{{pageCount}}">
                    <button type="submit" class="btn btn-blue btn-md">Go</button>
                    <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number must be less than or
                        equal to {{pageCount}}</span>
                </form>

            </div>
        </li>
    </ul>
</div>
<!--Start for the missedcall logs-->
<div class="container" *ngIf="isListing == 'missedCallLogListing' && !showCceForm">
        <smart-search (SearchResults)="smartSearchResult($event)" *ngIf="showSmartSearchComponent"></smart-search>
    <h2>Missed Call Log List</h2>
    <div class="table-wrapper">
        <table *ngIf="missedCallLogsList.length>0">
            <thead>
              <tr>
                <th>Serial No.</th>
                <th>Customer No.</th>
                <th>Call Date</th>
                <th>Call Time</th>
                <!--th>Agent No.</th>
                <th>Agent Status</th>
                <th>Customer Status</th>
                <th>Agent Duration</th>
                <th>Customer Duration</th>
                <th>Recording Url</th-->
                <th>Department</th>
                <th>State/Area</th>
                <th>Call log Id</th>
                <th>Count of missed call</th>
                <th>Lead Exists</th>
                <!--th>action</th-->
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of missedCallLogsList; let i = index">
                <td>{{((pages-1)*itemPerPage) + (i+1)}}</td>
                <td>{{data.missed_call_customer_number}}</td>
                <td>{{data.missed_call_date}}</td>
                <td>{{data.missed_call_time}}</td>
                <!--td>{{data.missed_call_agent_number}}</td>
                <td>{{data.missed_call_agent_status}}</td>
                <td>{{data.missed_call_customer_status}}</td>
                <td>{{data.missed_call_agent_duration}}</td>
                <td>{{data.missed_call_customer_duration}}</td>
                <td>{{data.missed_call_recording_url}}</td-->
                <td>{{data.miss_call_department}}</td>
                <td>{{data.missed_call_state}}</td>
                <td>{{data.missed_call_call_log_id}}</td>
                <td>{{data.count_number}}</td>
                <td>{{data.number_exists}}</td>
                <!--td (click)="CreateLead(data.missed_call_customer_number)" class="click">create Lead</td-->
              </tr>
            </tbody>
          </table>
          <div class="noRecordFound" *ngIf="missedCallLogsList.length==0">
            <span>No Record Found!</span>
          </div>
    </div>
  
    <ul *ngIf="missedCallLogsList.length>0" style="white-space:nowrap;">

        <li [ngClass]="{disabled:pages === 1}">
            <a (click)="ShowMissedCallListing(pages - 1)">
                <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                </i>
            </a>
        </li>
        &nbsp; &nbsp;
        <li>
            <a>Page {{pages}} of {{pageCount}}</a>
        </li>
        &nbsp; &nbsp;
        <li [ngClass]="{disabled:pages === pageCount}">
            <a (click)="ShowMissedCallListing(pages + 1)">
                <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                </i>
            </a>
        </li>
        <li>
            <div class="custom-pagination">
                <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                    <input type="number" formControlName="page_number" class="form-text" min="0" max="{{pageCount}}">
                    <button type="submit" class="btn btn-blue btn-md">Go</button>
                    <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number must be less than or
                        equal to {{pageCount}}</span>
                </form>

            </div>
        </li>
    </ul>
</div>
<!--End missedcall logs-->


<!--Start Partner Query Listing Listing-->
<div class="container missed-call-listing" *ngIf="isListing=='partnerQueryListing'">
    <smart-search (SearchResults)="smartSearchResult($event)" *ngIf="showSmartSearchComponent"></smart-search>
    <h2>Partner Query Log List <a *ngIf="partnerQueryLogsList.length>0" class="exportData btn btn-blue" (click)="ExportCSVForParterLog()">Export</a></h2>

    <div class="table-wrapper clearboth">
        <table *ngIf="partnerQueryLogsList.length>0">
            <thead>
              <tr>
                <th>Serial No.</th>
                <th>Phone No.</th>
                <th>Query Date / Time</th>
                <th>Locked By</th>
                <th>Reschedule Date</th>
                <!--th>Locked At</th-->
                <th>Status</th>
                <!---th>Missed Call Count</th-->
                <!--th>Missed Call Date</th-->
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of partnerQueryLogsList; let i = index">
                <td>{{((pages-1)*itemPerPage) + (i+1)}}</td>
                <td>{{data.partnerQuery.prt_mobile}}</td>
                <td>{{data.partnerQuery.prt_created}}</td>
                <td>{{(data.employee.emp_firstname)?data.employee.emp_firstname +' '+ data.employee.emp_lastname:'N/A'}}</td>
                <td>{{data.partnerQuery.prt_reschedule_date}}</td>
                <!--td>{{data.partnerQuery.prt_locked_at}}</td-->
                <td>{{data.partnerQuery.prt_status==4?'Reschedule - Partner Query':'New - Partner Query'}}</td>
                <!--td>{{data.count_missed_call}}</td-->
                <!--td>{{data.missedCallDetails.missed_call_date | date:'yyyy-MM-dd'}}</td-->
                <td (click)="createPartnerForm(data.partnerQuery.prt_id,data.partnerQuery.prt_mobile)" class="click">Query Form</td>
              </tr>
            </tbody>
          </table>
          <div class="noRecordFound" *ngIf="partnerQueryLogsList.length==0">
            <p style="padding:15px;">No Record Found!</p>
          </div>
    </div>
  
    <ul *ngIf="partnerQueryLogsList.length>0" style="white-space:nowrap;">

        <li [ngClass]="{disabled:pages === 1}">
            <a (click)="partnerQueryLogsList(pages - 1)">
                <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                </i>
            </a>
        </li>
        &nbsp; &nbsp;
        <li>
            <a>Page {{pages}} of {{pageCount}}</a>
        </li>
        &nbsp; &nbsp;
        <li [ngClass]="{disabled:pages === pageCount}">
            <a (click)="partnerQueryLogsList(pages + 1)">
                <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                </i>
            </a>
        </li>
        <li>
            <div class="custom-pagination">
                <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                    <input type="number" formControlName="page_number" class="form-text" min="0" max="{{pageCount}}">
                    <button type="submit" class="btn btn-blue btn-md">Go</button>
                    <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number must be less than or
                        equal to {{pageCount}}</span>
                </form>

            </div>
        </li>
    </ul>
</div>
<!--End Partner Query Listing -->

<div class="container" *ngIf="isListing=='partner_listing'">

    <div class="tab-box fixed">
            <div class="box">
                <section class="lead-panel-tab">
                    <div class="tab" (click)="PartnerTab('fill_form')" [ngClass]="{activatedFillForm: panelSteps == 2}">
                        <img src="/assets/images/cc-images/icon-fill-form.svg" alt="">
                        <span>Partner Information Form</span>
                    </div>
                    <div class="tab" (click)="PartnerTab('reschedule_lead')" [ngClass]="{activatedFillForm: panelSteps == 2}">
                        <img src="/assets/images/cc-images/icon-fill-form.svg" alt="">
                        <span>Reschedule Lead</span>
                    </div>
                    <div class="tab" (click)="PartnerTab('Confirm-partner-to-lead')" [ngClass]="{activatedFillForm: panelSteps == 2}">
                        <img src="/assets/images/cc-images/icon-fill-form.svg" alt="">
                        <span>Create Customer Lead</span>
                    </div>
                    <div class="tab" (click)="PartnerTab('no_response')" [ngClass]="{activatedNoResponse: panelSteps == 3}">
                        <img src="/assets/images/cc-images/icon-no-response.svg" alt="">
                        <span>No Response</span>
                    </div>
                </section>
            </div>
    </div>

    <div id="fill-form-widget" class="manage-top-spaces" *ngIf="PartnerTabData=='fill_form'">
        <div class="box fill-form mb-30" >
            <h2 class="box-title">PARTNER APPLICATION FROM</h2>
            <section class="box-content">

                <form id="lead-information" [formGroup]="partnerFillForm" (ngSubmit)="submitPartnerReqForm()">
                    <div class="form-n-script text-top">
                        <div class="col-form">
                            <h3>Partner Information</h3>
                            <div class="field-wrapper">
                                <label for="">Partner Name</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps mandate-field" formControlName="name" maxlength="30" placeholder="Partner Name" (focusout)="submitPartnerReqForm('auto')">
                                    <div class="error" *ngIf="partnerFillForm.controls?.name?.errors?.required && isSubmitpartner">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                    <div class="error" *ngIf="partnerFillForm.controls?.name?.errors?.pattern && isSubmitpartner">
                                        Invalid Field Data
                                    </div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Firm Name</label>
                                    <div class="form-field">
                                        <input type="text" class="text-caps mandate-field" formControlName="firm_name" maxlength="30" placeholder="Firm Name" (focusout)="submitPartnerReqForm('auto')">
                                        <div class="error" *ngIf="partnerFillForm.controls?.firm_name?.errors?.required && isSubmitpartner">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                        <div class="error" *ngIf="partnerFillForm.controls?.firm_name?.errors?.pattern && isSubmitpartner">
                                            Invalid Field Data
                                        </div>
                                    </div>
                                </div>

                            <div class="field-wrapper">
                                <label for="">Contact Number</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="mobileno" placeholder="Contact Number" disabled>
                                    <div class="error" *ngIf="partnerFillForm.controls?.mobileno?.errors?.pattern && isSubmitpartner">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Alternate Number</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="alternate_mobileno" placeholder="Alternate Contact Number" maxlength="10" (focusout)="submitPartnerReqForm('auto')">
                                    <div class="error" *ngIf="partnerFillForm.controls?.alternate_mobileno?.errors?.pattern && isSubmitpartner">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Email</label>
                                    <div class="form-field">
                                        <input class="mandate-field" type="text" formControlName="email" placeholder="Email"  (focusout)="submitPartnerReqForm('auto')">
                                        <div class="error" *ngIf="partnerFillForm.controls?.email?.errors?.required && isSubmitpartner">
                                                {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                        <div class="error" *ngIf="partnerFillForm.controls?.email?.errors?.pattern && isSubmitpartner">
                                            Please enter a valid email
                                    </div>
                                    </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Office Address</label>
                                    <div class="form-field">
                                        <textarea formControlName="address" cols="30" rows="10" placeholder="Office Address" (focusout)="submitPartnerReqForm('auto')" required></textarea>
                                        <div class="error" *ngIf="partnerFillForm.controls?.address?.errors?.required && isSubmitpartner">
                                                {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Pin Code</label>
                                    <div class="form-field">
                                        <input class="mandate-field" type="text" formControlName="pincode" placeholder="Pin Code" maxlength="10" (keyup)="submitPartnerReqForm('auto','pin')">
                                        <div class="error" *ngIf="partnerFillForm.controls?.pincode?.errors?.required && isSubmitpartner">
                                                {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                        <div class="error" *ngIf="partnerFillForm.controls?.pincode?.errors?.pattern && isSubmitpartner">
                                                Enter 6 digit pincode
                                        </div>
                                    </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">State</label>
                                <div class="form-field">
                                    <ng-select [options]="stateList" formControlName="state" placeholder="Select State" (selected)="ifStateIfCity('state', 'partner-form')" [(ngModel)]="selectedState" (focusout)="submitPartnerReqForm('auto')"></ng-select>
                                    <div class="error" *ngIf="partnerFillForm.controls?.state?.errors?.required && isSubmitpartner">
                                            {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="field-wrapper">
                                    <label for="">City</label>
                                    <div class="form-field">
                                        <ng-select [options]="cityList" formControlName="city" placeholder="Select City" (selected)="ifStateIfCity('city', 'partner-form')" [(ngModel)]="selectedCity" (focusout)="submitPartnerReqForm('auto','city')"></ng-select>
                                        <div class="error" *ngIf="partnerFillForm.controls?.city?.errors?.required && isSubmitpartner">
                                                {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                            </div>

                            <div class="field-wrapper">
                                    <label for="">Query</label>
                                    <div class="form-field">
                                        <textarea class="mandate-field" type="text" formControlName="query" placeholder="Query" (focusout)="submitPartnerReqForm('auto')"></textarea>
                                        <div class="error" *ngIf="partnerFillForm.controls?.query?.errors?.required && isSubmitpartner">
                                                {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                            </div>

                            <div class="form-actions" style="flex-direction: column;">
                                <div style="text-align: right;">
                                    <input *ngIf="!loading" class="button button-blue" type="button" value="Submit" (click)="submitPartnerReqForm('submit')">
                                    <button *ngIf="loading" class="button button-blue" type="button">
                                        <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                                    </button>
                                </div>
                                <div style="text-align: right;">
                                </div>
                            </div>

                        </div>
                        <div class="col-script">

                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>

    <div id="fill-form-widget" class="manage-top-spaces" *ngIf="PartnerTabData == 'cce-lead-partner'"> 
            <div class="box fill-form mb-30" >
                <h2 class="box-title">APPLICATION FROM</h2>
                <section class="box-content">
    
                    <form id="lead-information" [formGroup]="customerFillFormRequest" (ngSubmit)="submitConsumerFormRequest()">
                        <div class="form-n-script text-top">
                            <div class="col-form">
                                <h3 class="mt0">Fill lead information below:-</h3>
                                <div class="field-wrapper">
                                    <label for="">Lead Reference</label>
                                    <div class="form-field">
                                        <select formControlName="cceld_reference" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="website">Website</option>
                                            <option value="social_media">Social Media</option>
                                            <option value="print_ads">Print Ads</option>
                                            <option value="tv">Tv</option>
                                            <option value="friends_and_family">Friends & Family</option>
                                            <option value="radio_channel">Radio</option>
                                            <option value="channel_partner">Channel Partner</option>
                                            <option value="SMS_Campaign">SMS Campaign</option>
                                            <option value="others">Others</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">&nbsp;</label>
                                    <div class="form-field ">
                                        <textarea formControlName="cceld_referenceremarks" cols="50" rows="3" placeholder="Add Remarks" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                    </div>
                                </div>
                                <h3>Customer Information</h3>
                                <div class="field-wrapper">
                                    <label for="">First Name</label>
                                    <div class="form-field">
                                        <input type="text" class="text-caps mandate-field" formControlName="cceld_firstname" maxlength="30" placeholder="First Name" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_firstname?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_firstname?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            Please Enter valid First Name
                                        </div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Middle Name</label>
                                    <div class="form-field">
                                        <input type="text" class="text-caps" formControlName="cceld_middlename" maxlength="30" placeholder="Middle Name" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Last Name</label>
                                    <div class="form-field">
                                        <input type="text" class="text-caps mandate-field" formControlName="cceld_lastname" maxlength="30" placeholder="Last Name" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_lastname?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_lastname?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            Please Enter valid Last Name
                                        </div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Contact Number</label>
                                    <div class="form-field">
                                        <input class="mandate-field" type="text" formControlName="cceld_mobileno" placeholder="Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.MOBILENO_PATTERN}}
                                        </div>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
    
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Alternate Contact Number</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_alternatecntctno" placeholder="Alternate Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_alternatecntctno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.MOBILENO_PATTERN}}
                                        </div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Name of contact person at site</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_contactperson" placeholder="Name of contact person at site" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Contact Number of contact person at site</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_contactnumber" placeholder="Contact Number" maxlength="10" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_contactnumber?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.MOBILENO_PATTERN}}
                                        </div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Email ID</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_email" placeholder="Email ID" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_email?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.EMAIL_PATTERN}}
                                        </div>
    
                                    </div>
                                </div>
                                <h3>Address Information</h3>
                                <div class="field-wrapper">
                                    <label for="">Address1*</label>
                                    <div class="form-field">
                                        <input class="mandate-field" type="text" formControlName="cceld_address1" placeholder="Address1" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_address1?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Address2</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_address2" placeholder="Address2" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Landmark</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_landmark" placeholder="Landmark" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Pincode</label>
                                    <div class="form-field">
                                        <!-- <input type="text" formControlName="cceld_pincode" placeholder="Pincode"> -->
    
                                        <input class="form-text mandate-field" type="text" formControlName="cceld_pincode" placeholder="Pincode" (input)="knowYourStateCity($event.target.value, 'form-fill')"
                                            (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error">
                                            <p *ngIf="isPincode == true">{{lead_panal_form.PINCODE}}</p>
                                        </div>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_pincode?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.PINCODE}}
                                        </div>
                                        <div class="error" *ngIf="isPincode != true && customerFillFormRequest.controls?.cceld_pincode?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">State</label>
                                    <div class="form-field">
                                        <!-- <select formControlName="cceld_state">
                                            <option value=0>Haryana</option>
                                            <option value=1>Punjab</option>
                                            <option value=2>UP</option>
                                            <option value=3>Bihar</option>
                                            <option value=4>Goa</option>
                                            <option value=5>Delhi</option>
                                            <option value=6>Gujrat</option>
                                            <option value=7>MP</option>
                                        </select> -->
                                        <ng-select class="mandate-field" [options]="stateList" formControlName="cceld_state" placeholder="Select State" (selected)="ifStateIfCity('state', 'form-fill')" [(ngModel)]="selectedState" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_state?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
                                    </div>
                                </div>
    
                                <div class="field-wrapper">
                                    <label for="">City</label>
                                    <div class="form-field">
                                        <!-- <select formControlName="cceld_city">
                                            <option value=0>Ambala</option>
                                            <option value=1>Gurgaon</option>
                                            <option value=2>Zirakpur</option>
                                        </select> -->
                                        <ng-select class="mandate-field" [options]="cityList" formControlName="cceld_city" placeholder="Select City" (selected)="ifStateIfCity('city', 'form-fill')" [(ngModel)]="selectedCity" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_city?.errors?.required && isSubmitCustomerFillFormRequest">{{lead_panal_form.BLANK_FIELD}}</div>
    
                                    </div>
                                </div>
    
                                <div class="field-wrapper">
                                    <label for="">Locality</label>
                                    <div class="form-field">
                                        <input *ngIf="otherPincode" type="text" formControlName="cceld_locality" placeholder="Locality" (focusout)="submitConsumerFormRequest(3)">
                                        <ng-select *ngIf="!otherPincode" [options]="localityList" formControlName="cceld_locality" placeholder="Select Locality" (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                    </div>
                                </div>
    
    
                                <div class="field-wrapper">
                                    <label for="">Country</label>
                                    <div class="form-field">
                                        <select class="mandate-field" formControlName="cceld_country" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="4">Afghanistan</option>
                                            <option value="248">Åland Islands</option>
                                            <option value="8">Albania</option>
                                            <option value="12">Algeria</option>
                                            <option value="16">American Samoa</option>
                                            <option value="20">Andorra</option>
                                            <option value="24">Angola</option>
                                            <option value="660">Anguilla</option>
                                            <option value="10">Antarctica</option>
                                            <option value="28">Antigua and Barbuda</option>
                                            <option value="32">Argentina</option>
                                            <option value="51">Armenia</option>
                                            <option value="533">Aruba</option>
                                            <option value="36">Australia</option>
                                            <option value="40">Austria</option>
                                            <option value="31">Azerbaijan</option>
                                            <option value="44">Bahamas</option>
                                            <option value="48">Bahrain</option>
                                            <option value="50">Bangladesh</option>
                                            <option value="52">Barbados</option>
                                            <option value="112">Belarus</option>
                                            <option value="56">Belgium</option>
                                            <option value="84">Belize</option>
                                            <option value="204">Benin</option>
                                            <option value="60">Bermuda</option>
                                            <option value="64">Bhutan</option>
                                            <option value="68">Bolivia, Plurinational State of</option>
                                            <option value="535">Bonaire, Sint Eustatius and Saba</option>
                                            <option value="70">Bosnia and Herzegovina</option>
                                            <option value="72">Botswana</option>
                                            <option value="74">Bouvet Island</option>
                                            <option value="76">Brazil</option>
                                            <option value="86">British Indian Ocean Territory</option>
                                            <option value="96">Brunei Darussalam</option>
                                            <option value="100">Bulgaria</option>
                                            <option value="854">Burkina Faso</option>
                                            <option value="108">Burundi</option>
                                            <option value="116">Cambodia</option>
                                            <option value="120">Cameroon</option>
                                            <option value="124">Canada</option>
                                            <option value="132">Cape Verde</option>
                                            <option value="136">Cayman Islands</option>
                                            <option value="140">Central African Republic</option>
                                            <option value="148">Chad</option>
                                            <option value="152">Chile</option>
                                            <option value="156">China</option>
                                            <option value="162">Christmas Island</option>
                                            <option value="166">Cocos (Keeling) Islands</option>
                                            <option value="170">Colombia</option>
                                            <option value="174">Comoros</option>
                                            <option value="178">Congo</option>
                                            <option value="180">Congo, the Democratic Republic of the</option>
                                            <option value="184">Cook Islands</option>
                                            <option value="188">Costa Rica</option>
                                            <option value="384">Côte d'Ivoire</option>
                                            <option value="191">Croatia</option>
                                            <option value="192">Cuba</option>
                                            <option value="531">Curaçao</option>
                                            <option value="196">Cyprus</option>
                                            <option value="203">Czech Republic</option>
                                            <option value="208">Denmark</option>
                                            <option value="262">Djibouti</option>
                                            <option value="212">Dominica</option>
                                            <option value="214">Dominican Republic</option>
                                            <option value="218">Ecuador</option>
                                            <option value="818">Egypt</option>
                                            <option value="222">El Salvador</option>
                                            <option value="226">Equatorial Guinea</option>
                                            <option value="232">Eritrea</option>
                                            <option value="233">Estonia</option>
                                            <option value="231">Ethiopia</option>
                                            <option value="238">Falkland Islands (Malvinas)</option>
                                            <option value="234">Faroe Islands</option>
                                            <option value="242">Fiji</option>
                                            <option value="246">Finland</option>
                                            <option value="250">France</option>
                                            <option value="254">French Guiana</option>
                                            <option value="258">French Polynesia</option>
                                            <option value="260">French Southern Territories</option>
                                            <option value="266">Gabon</option>
                                            <option value="270">Gambia</option>
                                            <option value="268">Georgia</option>
                                            <option value="276">Germany</option>
                                            <option value="288">Ghana</option>
                                            <option value="292">Gibraltar</option>
                                            <option value="300">Greece</option>
                                            <option value="304">Greenland</option>
                                            <option value="308">Grenada</option>
                                            <option value="312">Guadeloupe</option>
                                            <option value="316">Guam</option>
                                            <option value="320">Guatemala</option>
                                            <option value="831">Guernsey</option>
                                            <option value="324">Guinea</option>
                                            <option value="624">Guinea-Bissau</option>
                                            <option value="328">Guyana</option>
                                            <option value="332">Haiti</option>
                                            <option value="334">Heard Island and McDonald Islands</option>
                                            <option value="336">Holy See (Vatican City State)</option>
                                            <option value="340">Honduras</option>
                                            <option value="344">Hong Kong</option>
                                            <option value="348">Hungary</option>
                                            <option value="352">Iceland</option>
                                            <option value="356">India</option>
                                            <option value="360">Indonesia</option>
                                            <option value="364">Iran, Islamic Republic of</option>
                                            <option value="368">Iraq</option>
                                            <option value="372">Ireland</option>
                                            <option value="833">Isle of Man</option>
                                            <option value="376">Israel</option>
                                            <option value="380">Italy</option>
                                            <option value="388">Jamaica</option>
                                            <option value="392">Japan</option>
                                            <option value="832">Jersey</option>
                                            <option value="400">Jordan</option>
                                            <option value="398">Kazakhstan</option>
                                            <option value="404">Kenya</option>
                                            <option value="296">Kiribati</option>
                                            <option value="408">Korea, Democratic People's Republic of</option>
                                            <option value="410">Korea, Republic of</option>
                                            <option value="414">Kuwait</option>
                                            <option value="417">Kyrgyzstan</option>
                                            <option value="418">Lao People's Democratic Republic</option>
                                            <option value="428">Latvia</option>
                                            <option value="422">Lebanon</option>
                                            <option value="426">Lesotho</option>
                                            <option value="430">Liberia</option>
                                            <option value="434">Libya</option>
                                            <option value="438">Liechtenstein</option>
                                            <option value="440">Lithuania</option>
                                            <option value="442">Luxembourg</option>
                                            <option value="446">Macao</option>
                                            <option value="807">Macedonia, the former Yugoslav Republic of</option>
                                            <option value="450">Madagascar</option>
                                            <option value="454">Malawi</option>
                                            <option value="458">Malaysia</option>
                                            <option value="462">Maldives</option>
                                            <option value="466">Mali</option>
                                            <option value="470">Malta</option>
                                            <option value="584">Marshall Islands</option>
                                            <option value="474">Martinique</option>
                                            <option value="478">Mauritania</option>
                                            <option value="480">Mauritius</option>
                                            <option value="175">Mayotte</option>
                                            <option value="484">Mexico</option>
                                            <option value="583">Micronesia, Federated States of</option>
                                            <option value="498">Moldova, Republic of</option>
                                            <option value="492">Monaco</option>
                                            <option value="496">Mongolia</option>
                                            <option value="499">Montenegro</option>
                                            <option value="500">Montserrat</option>
                                            <option value="504">Morocco</option>
                                            <option value="508">Mozambique</option>
                                            <option value="104">Myanmar</option>
                                            <option value="516">Namibia</option>
                                            <option value="520">Nauru</option>
                                            <option value="524">Nepal</option>
                                            <option value="528">Netherlands</option>
                                            <option value="540">New Caledonia</option>
                                            <option value="554">New Zealand</option>
                                            <option value="558">Nicaragua</option>
                                            <option value="562">Niger</option>
                                            <option value="566">Nigeria</option>
                                            <option value="570">Niue</option>
                                            <option value="574">Norfolk Island</option>
                                            <option value="580">Northern Mariana Islands</option>
                                            <option value="578">Norway</option>
                                            <option value="512">Oman</option>
                                            <option value="586">Pakistan</option>
                                            <option value="585">Palau</option>
                                            <option value="275">Palestinian Territory, Occupied</option>
                                            <option value="591">Panama</option>
                                            <option value="598">Papua New Guinea</option>
                                            <option value="600">Paraguay</option>
                                            <option value="604">Peru</option>
                                            <option value="608">Philippines</option>
                                            <option value="612">Pitcairn</option>
                                            <option value="616">Poland</option>
                                            <option value="620">Portugal</option>
                                            <option value="630">Puerto Rico</option>
                                            <option value="634">Qatar</option>
                                            <option value="638">Réunion</option>
                                            <option value="642">Romania</option>
                                            <option value="643">Russian Federation</option>
                                            <option value="646">Rwanda</option>
                                            <option value="652">Saint Barthélemy</option>
                                            <option value="654">Saint Helena, Ascension and Tristan da Cunha</option>
                                            <option value="659">Saint Kitts and Nevis</option>
                                            <option value="662">Saint Lucia</option>
                                            <option value="663">Saint Martin (French part)</option>
                                            <option value="666">Saint Pierre and Miquelon</option>
                                            <option value="670">Saint Vincent and the Grenadines</option>
                                            <option value="882">Samoa</option>
                                            <option value="674">San Marino</option>
                                            <option value="678">Sao Tome and Principe</option>
                                            <option value="682">Saudi Arabia</option>
                                            <option value="686">Senegal</option>
                                            <option value="688">Serbia</option>
                                            <option value="690">Seychelles</option>
                                            <option value="694">Sierra Leone</option>
                                            <option value="702">Singapore</option>
                                            <option value="534">Sint Maarten (Dutch part)</option>
                                            <option value="703">Slovakia</option>
                                            <option value="705">Slovenia</option>
                                            <option value="90">Solomon Islands</option>
                                            <option value="706">Somalia</option>
                                            <option value="710">South Africa</option>
                                            <option value="239">South Georgia and the South Sandwich Islands</option>
                                            <option value="728">South Sudan</option>
                                            <option value="724">Spain</option>
                                            <option value="144">Sri Lanka</option>
                                            <option value="729">Sudan</option>
                                            <option value="740">Suriname</option>
                                            <option value="744">Svalbard and Jan Mayen</option>
                                            <option value="748">Swaziland</option>
                                            <option value="752">Sweden</option>
                                            <option value="756">Switzerland</option>
                                            <option value="760">Syrian Arab Republic</option>
                                            <option value="158">Taiwan, Province of China</option>
                                            <option value="762">Tajikistan</option>
                                            <option value="834">Tanzania, United Republic of</option>
                                            <option value="764">Thailand</option>
                                            <option value="626">Timor-Leste</option>
                                            <option value="768">Togo</option>
                                            <option value="772">Tokelau</option>
                                            <option value="776">Tonga</option>
                                            <option value="780">Trinidad and Tobago</option>
                                            <option value="788">Tunisia</option>
                                            <option value="792">Turkey</option>
                                            <option value="795">Turkmenistan</option>
                                            <option value="796">Turks and Caicos Islands</option>
                                            <option value="798">Tuvalu</option>
                                            <option value="800">Uganda</option>
                                            <option value="804">Ukraine</option>
                                            <option value="784">United Arab Emirates</option>
                                            <option value="826">United Kingdom</option>
                                            <option value="840">United States</option>
                                            <option value="581">United States Minor Outlying Islands</option>
                                            <option value="858">Uruguay</option>
                                            <option value="860">Uzbekistan</option>
                                            <option value="548">Vanuatu</option>
                                            <option value="862">Venezuela, Bolivarian Republic of</option>
                                            <option value="704">Viet Nam</option>
                                            <option value="92">Virgin Islands, British</option>
                                            <option value="850">Virgin Islands, U.S.</option>
                                            <option value="876">Wallis and Futuna</option>
                                            <option value="732">Western Sahara</option>
                                            <option value="887">Yemen</option>
                                            <option value="894">Zambia</option>
                                            <option value="716">Zimbabwe</option>
                                        </select>
                                    </div>
                                </div>
                                <h3>Feasibility</h3>
                                <div class="field-wrapper">
                                    <label for="">Building type</label>
                                    <div class="form-field">
                                        <select formControlName="cceld_buildingtype" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="residential">Residential</option>
                                            <option value="commercial">Commercial</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Type of site</label>
                                    <div class="form-field">
                                        <select formControlName="cceld_sitetype" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="ind_house">Ind. House</option>
                                            <option value="villa">Villa</option>
                                            <option value="apartment">Apartment</option>
                                            <option value="others">Others</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Number of floors</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_totalfloor" placeholder="Number of floors" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_totalfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct number of floors</div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Customer floor</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_customerfloor" placeholder="Customer floor" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_customerfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct number of floors</div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Owner</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="1" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Yes</label>
                                        <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="0" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">No</label>
                                    </div>
                                </div>
                                <!-- <div class="field-wrapper">
                                    <label for="">Period of rent</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_rentperiod" placeholder="Period of rent" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div> -->
                                <div class="field-wrapper">
                                    <label for="">Roof Rights</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_roofright" name="cceld_roofright" value=1 (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Yes</label>
                                        <input type="radio" formControlName="cceld_roofright" name="cceld_roofright" value=0 (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">No</label>
                                    </div>
                                </div>
                                <h3>Roof Details</h3>
                                <div class="field-wrapper">
                                    <label for="">Roof Type</label>
                                    <div class="form-field">
                                        <select formControlName="cceld_rooftype" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="flat">Flat</option>
                                            <option value="slanted">Slanted</option>
                                            <option value="others">Others</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Area</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_roofarea" placeholder="Roof area" (focusout)="submitConsumerFormRequest(3)">
                                        <select formControlName="cceld_roofareaunit" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="sq_m">square meter</option>
                                            <option value="sq_ft">square feet</option>
                                            <option value="sq_yd">square yard</option>
                                        </select>
                                    </div>
                                </div>
    
                                <div class="field-wrapper field-with-other">
                                    <label for="">Other area if available</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_otherarea" placeholder="Other area if available" (focusout)="submitConsumerFormRequest(3)">
                                        <select formControlName="cceld_otherareaunit" (focusout)="submitConsumerFormRequest(3)">
                                            <option value="sq_m">square meter</option>
                                            <option value="sq_ft">square feet</option>
                                            <option value="sq_yd">square yard</option>
                                        </select>
                                    </div>
                                </div>
                                <h3>Affordability</h3>
                                <div class="field-wrapper">
                                    <label for="">Budget</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_budget" placeholder="INR" (focusout)="submitConsumerFormRequest(3)">
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_budget?.errors?.pattern && isSubmitCustomerFillFormRequest">Please enter correct budget</div>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Financing Required</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq" value="1" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Yes</label>
                                        <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq" value="0" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">No</label>
                                    </div>
                                </div>
                                <!-- <h3>Others</h3>
                                <div class="field-wrapper field-textarea">
                                    <label for="">Transport feasibility</label>
                                    <div class="form-field">
                                        <textarea formControlName="cceld_istransportfeasible" cols="30" rows="10" placeholder="Transport feasibility" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                    </div>
                                </div> -->
                            </div>
                            <div class="col-script">
                                <h3 class="mt0">Customer Care Script</h3>
                                <div class="script-data">
                                    <h4>Opening/Greetings</h4>
                                    <div class="script-text">
                                        <p>Hello Sir/Mam, I am calling from Luminous Customer Care. Is it a good time to talk to
                                            you.
                                        </p>
                                        <p>Sir/Mam this call is regarding the site survey request that you had placed on our website.</p>
                                        <p>Can you please let us know from where did you get to know about us?</p>
                                        <p>To schedule your site survey we need some details from you.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-n-script">
                            <div class="col-form">
                                <!-- <div class="form-actions">
                                    <input class="button button-blue" type="button" value="Save" (click)="submitConsumerFormRequest(1)">
                                </div> -->
                                <h3>Need Assessment</h3>
                                <!-- <div class="field-wrapper field-textarea">
                                    <label for="">Motive</label>
                                    <div class="form-field">
                                        <textarea formControlName="cceld_motive" cols="30" rows="10" placeholder="Motive" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                    </div>
                                </div> -->
                            </div>
                            <div class="col-script">
                                <div class="script-data">
                                    <h4>Site Survey Booking</h4>
                                    <div class="script-text">
                                        <p>Sir/Mam, now i am going to book a site survey for you,</p>
                                        <p>When should our site surveyor come to inspect your site ?</p>
                                        <p>What time would be convenient for you?</p>
                                        <p>Ok Sir/Mam i've booked the site survey for you on DATE/TIME</p>
                                        <p>If you have 5 more minutes we would like to ask you few more questions.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-n-script">
                            <div class="col-from">
                                <div class="field-wrapper">
                                    <label for="">Average Electricity Bill</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_avgelectricitybill" placeholder="INR" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Solution Required</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" [checked]="true" value="on_grid" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Savings/On-Grid</label>
                                        <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" value="off_grid" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Backup/Off-Grid</label>
                                        <!-- <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid" value="hybrid" (focusout)="submitConsumerFormRequest(3)"> -->
                                        <label for="">Hybrid</label>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Existing Power Source</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" [checked]="true" value="inverter"
                                            (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Inverter</label>
                                        <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="dg_setup" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">DG Setup</label>
                                        <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="society_backup" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Society Backup</label>
                                        <input type="radio" formControlName="cceld_existpowersource" name="cceld_existpowersource" value="other" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Other</label>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Enter Backup details</label>
                                    <div class="form-field">
                                        <textarea formControlName="cceld_backupdetail" placeholder="Load to be run on backup" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Type of connection</label>
                                    <div class="form-field">
                                        <input type="radio" formControlName="cceld_phasetype" [checked]="true" name="cceld_phasetype" value="single_phase" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Single Phase</label>
                                        <input type="radio" formControlName="cceld_phasetype" name="cceld_phasetype" value="three_phase" (focusout)="submitConsumerFormRequest(3)">
                                        <label for="">Three Phase</label>
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Average power cut during day</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_powercutinday" placeholder="hrs" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                <div class="field-wrapper">
                                    <label for="">Average power cut during night</label>
                                    <div class="form-field">
                                        <input type="text" formControlName="cceld_powercutinnight" placeholder="hrs" (focusout)="submitConsumerFormRequest(3)">
                                    </div>
                                </div>
                                
    
                            </div>
                            <div class="col-script">&nbsp;</div>
                        </div>
    
    
                        <div class="form-n-script">
                            <div class="col-form">
                                
    
                                <!--@roshan-->
                                <div class="field-wrapper">
                                    <label for="">Other Remark</label>
                                    <div class="form-field">
                                        <select formControlName="other_remark" (change)="otherRemarkchange($event)">
                                            <option value="">-- Not selected --</option>
                                            <option value="Price Inquiry">Price Inquiry</option>
                                            <option value="Need Off-Grid Inverter upto 2kW">Need Off-Grid Inverter upto 2kW </option>
                                            <option value="Need On-Grid Inverter but area not serviceable presently">Need On-Grid Inverter but area not serviceable presently </option>
                                            <option value="Need Off-Grid Inverter but area not serviceable presently">Need Off-Grid Inverter but area not serviceable presently</option>
                                            <option value="Installation site not ready">Installation site not ready </option>
                                        </select>
                                    </div>
                                </div>
    
                                <div class="field-wrapper">
                                        <label for="">Select Site Surveyor*</label>
                                        <div class="form-field">
                                            <ng-select class="mandate-field" [options]="surveyorList" formControlName="cceld_surveyerid" placeholder="Select Site Surveyor"
                                                (focusout)="submitConsumerFormRequest(3)"></ng-select>
                                            <div class="error" *ngIf=" isSubmitCustomerFillFormRequest && selectSiteSurveyorFlag == 2 && surveyerid_value==0 && otherRemark">{{lead_panal_form.BLANK_FIELD}}</div>
                                        </div>
                                    </div>
                                    <div class="field-wrapper">
                                        <label for="">Notes</label>
                                        <div class="form-field">
                                            <textarea formControlName="cceld_notes" cols="30" rows="10" placeholder="Note" (focusout)="submitConsumerFormRequest(3)"></textarea>
                                        </div>
                                    </div>
    
                                <h3>Schedule site visit</h3>
                                <div class="field-wrapper">
                                    <label for="">Date</label>
                                    <div class="form-field">
                                        <p-calendar class="form-text" dateFormat="dd/mm/y" [minDate]="minDate" readonlyInput="true" formControlName="cceld_scheduledate"
                                            placeholder="Date" (focusout)="submitConsumerFormRequest(3)"></p-calendar>
                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_scheduledate?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                                </div>
    
                                <div class="field-wrapper">
                                    <label for="">Time</label>
                                    <div class="form-field">
                                            <ng-select [options]="newSurveyTime" formControlName="cceld_scheduletime" (click)="checkTimeSlot()" (focusout)="submitConsumerFormRequest(3)" placeholder="Select Time"></ng-select>

                                        <div class="error" *ngIf="customerFillFormRequest.controls?.cceld_scheduletime?.errors?.required && isSubmitCustomerFillFormRequest">
                                            {{lead_panal_form.BLANK_FIELD}}
                                        </div>
                                    </div>
                                </div>
    
                                <div class="form-actions" style="flex-direction: column;">
                                    <div style="text-align: right;">
                                        <input *ngIf="!loading" class="button button-blue" type="button" value="Submit" (click)="submitConsumerFormRequest(2)">
                                        <button *ngIf="loading" class="button button-blue" type="button">
                                            <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                                        </button>
                                    </div>
                                    <div style="text-align: right;">
                                    </div>
                                </div>
    
                            </div>
                            <div class="col-script">
                                <div class="script-data">
                                    <h4>Closing</h4>
                                    <div class="script-text">
                                        <p>We have got the required information,</p>
                                        <p>Thanks for your time.</p>
                                        <p>Our site surveyor will get in touch with you before coming to the site.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
    </div>
    
    <div id="fill-form-widget" class="manage-top-spaces" *ngIf="PartnerTabData == 'Confirm-partner-to-lead'">
        <div class="box fill-form mb-30" >
                
            <h2 class="box-title">Convert To Lead</h2>

                <section class="box-content">
                    <span>Are you Sure want to convert this Partner as Lead</span>
                    <button type="submit" (click)="createConsumerLead()" class="btn btn-blue " style="width: 20%;">Create Lead</button>
                </section>
        </div>
    </div>

    <div class="box no-response" *ngIf="PartnerTabData=='reschedule_lead'">
        <h2 class="box-title">RESCHEDULE PARTNER LEAD ?</h2>
        <section class="box-content">
            <form id="not-response" [formGroup]="partnerReschedule" (ngSubmit)="submitReschedule()">

                <div class="field-wrapper">
                    <label for="">Date</label>
                    <div class="form-field">
                        
                        <p-calendar class="form-text" dateFormat="yy-mm-dd" readonlyInput="true" formControlName="schedule_date"
                            placeholder="Date" [minDate]="minDate"></p-calendar>
                        <div class="error" *ngIf="partnerReschedule.controls?.schedule_date?.errors?.required">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>


                <div class="field-wrapper">
                    <label for="">Time</label>
                    <div class="form-field">
                        
                        <p-calendar class="form-text" readonlyInput="true" formControlName="schedule_time"
                            placeholder="Time" showTime="true" [timeOnly]="true"></p-calendar>
                        <div class="error" *ngIf="partnerReschedule.controls?.schedule_time?.errors?.required">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Remarks*</label>
                    <div class="form-field">
                        <textarea formControlName="remark" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                        <div class="error" *ngIf="partnerReschedule.controls?.remark?.errors?.required">Mandatory Field</div>
                    </div>
                </div>
                <p class="reschedule">* These fields are mandatory</p>
                <div class="form-actions">
                    <input class="button button-blue" type="submit" value="Submit">
                </div>
            </form>
        </section>
    </div>

    <div class="box no-response" *ngIf="PartnerTabData=='no_response'">
            <h2 class="box-title">NO RESPONSE ?</h2>
            <section class="box-content">
                <form id="not-response" [formGroup]="partnerNoResponse" (ngSubmit)="submitNoResponsePartner()">
                    <div class="field-wrapper">
                        <label for="">Remarks*</label>
                        <div class="form-field">
                            <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                            <div class="error" *ngIf="partnerNoResponse.controls?.lead_callowner_remarks?.errors?.required">Mandatory Field</div>
                        </div>
                    </div>
                    <p class="reschedule">* These fields are mandatory</p>
                    <div class="form-actions">
                        <input class="button button-blue" type="submit" value="Submit">
                    </div>
                </form>
            </section>
    </div>
</div>


<div class="box schedule-call-back" *ngIf="(isListing == 'query_listing' && showQueryForm) || (isListing == 'inbound_query' && showQueryForm)">
    <h2 *ngIf="isListing == 'query_listing'" class="box-title">Respond To Query</h2>
    <h2 *ngIf="isListing == 'inbound_query'" class="box-title">New Inbound Query</h2>
    <section class="box-content">

        <form id="query-respond" [formGroup]="queryRespondForm">
            <div class="field-wrapper">
                <label for="">Customer First Name</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_name" placeholder="Customer First Name">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_name?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Customer Last Name</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_lname" placeholder="Customer last Name">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_lname?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Email</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_email" placeholder="Email">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_email?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_email?.errors?.pattern && isSubmitQueryUpdate">
                        {{lead_panal_form.EMAIL_PATTERN}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Contact Number</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_mobile" placeholder="Contact Number">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_mobile?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_mobile?.errors?.pattern && isSubmitQueryUpdate">
                        {{lead_panal_form.MOBILENO_PATTERN}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Address</label>
                <div class="form-field">
                    <textarea formControlName="uquery_address" placeholder="Address"></textarea>
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_address?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Question</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_question" placeholder="Question">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_question?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Conversation Notes</label>
                <div class="form-field">
                    <textarea formControlName="uquery_reply" placeholder="Conversation Notes"> </textarea>
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_reply?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <label for="">Duration (Minutes)</label>
                <div class="form-field">
                    <input type="text" formControlName="uquery_duration" placeholder="Duration (Minutes)">
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_duration?.errors?.required && isSubmitQueryUpdate">
                        {{lead_panal_form.BLANK_FIELD}}
                    </div>
                    <div class="error" *ngIf="queryRespondForm.controls?.uquery_duration?.errors?.pattern && isSubmitQueryUpdate">
                        Please enter only number.
                    </div>
                </div>
            </div>
            <div class="field-wrapper">
                <div class="form-field">
                    <input type="hidden" formControlName="uquery_id">
                </div>
            </div>
            <div class="form-actions">
                <input class="button button-grey" type="button" value="Cancel" (click)='cancelQueryUpdation()'>
                <input *ngIf="isListing == 'query_listing'" class="button button-blue" type="button" value="Save & Close" (click)="updateQuery(1)">
                <input *ngIf="isListing == 'inbound_query'" class="button button-blue" type="button" value="Save & Close" (click)="updateQuery(3)">
                <input *ngIf="isListing == 'query_listing'" class="button button-blue" type="button" value="Save & Create Lead" (click)="updateCreateLead('outbound')">
                <input *ngIf="isListing == 'inbound_query'" class="button button-blue" type="button" value="Save & Create Lead" (click)="updateCreateLead('inbound')">
            </div>
        </form>
    </section>
</div>


<div id="fill-form-widget" class="manage-top-spaces">
        <div class="tab-box fixed" *ngIf="showCceForm=='cce_form_for_outbound_query'">
                <div class="box">
                    <section class="lead-panel-tab">
                        <div class="tab" (click)="showTabData(22)" [ngClass]="{activatedFillForm: panelSteps == 2}">
                            <img src="/assets/images/cc-images/icon-fill-form.svg" alt="">
                            <span>Fill Form</span>
                        </div>
                        <div class="tab" (click)="showTabData(3)" [ngClass]="{activatedNoResponse: panelSteps == 3}">
                            <img src="/assets/images/cc-images/icon-no-response.svg" alt="">
                            <span>No Response</span>
                        </div>
                        <div class="tab" (click)="showTabData(4)" [ngClass]="{activatedNotInterested: panelSteps == 4}">
                            <img src="/assets/images/cc-images/icon-not-intrested.svg" alt="">
                            <span>Not Interested</span>
                        </div>
                        <div class="tab" (click)="showTabData(5)" [ngClass]="{activatedReschedule: panelSteps == 5}">
                            <img src="/assets/images/cc-images/icon-reschedule.svg" alt="">
                            <span>Reschedule</span>
                        </div>

                    </section>
                </div>
            </div>
    <div class="box fill-form mb-30" *ngIf="showCceForm=='cce_form_for_outbound_query'">
        <h2 class="box-title">APPLICATION FROM</h2>
        <section class="box-content" *ngIf="panelSteps==22">
        </section>
        <div class="box no-response" *ngIf="panelSteps == 3">
                <h2 class="box-title">NO RESPONSE ?</h2>
                <section class="box-content">
                    <h3>Call will be rescheduled after 1 hour.</h3>
                    <form id="not-response" [formGroup]="noResponseRequest" (ngSubmit)="submitNoResponseRequest()">
                        <div class="field-wrapper">
                            <label for="">Lead Reference</label>
                            <div class="form-field">
                                <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                                <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Reason*</label>
                            <div class="form-field">
                                <select formControlName="lead_callowner_notes">
                                    <option value="Did Not Pick Call">Did Not Pick Call</option>
                                    <option value="Disconnect by Customer">Disconnect by Customer </option>
                                    <option value="Not-reachable">Not-reachable </option>
                                    <option value="Others">Others </option>
                                </select>
                                <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Remarks*</label>
                            <div class="form-field">
                                <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                                <div class="error" *ngIf="noResponseRequest.controls?.lead_callowner_remarks?.errors?.required && isSubmitNoResponseRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <p class="reschedule">* These fields are mandatory</p>
                        <div class="form-actions">
                            <input class="button button-grey" type="button" value="Cancel">
                            <input class="button button-blue" type="submit" value="Submit">
                        </div>
                    </form>
                </section>
            </div>
            <!-- </div> -->
            <div class="box not-intrested" *ngIf="panelSteps == 4">
                <h2 class="box-title">CONSUMER NOT INTRESTED ?</h2>
                <section class="box-content">
                    <form id="not-interested" [formGroup]="notInterestedRequest" (ngSubmit)="submitNotInterestedRequest()">
                        <div class="field-wrapper">
                            <div class="form-field">
                                <input type="hidden" formControlName="lead_id" value="{{leadData.lead_id}}">
                                <!-- <input type="hidden" formControlName="lease_modifiedby" value="1">
                                <input type="hidden" formControlName="lead_callowner_duration" value="1"> -->
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Lead Reference</label>
                            <div class="form-field">
                                <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                                <div class="error" *ngIf="notInterestedRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitNotInterestedRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Reason*</label>
                            <div class="form-field">
                                <select formControlName="lead_callowner_notes">
                                    <!--option value="Needs Normal Solar Inverter: NXG">Needs Normal Solar Inverter: NXG</option-->
                                    <option value="Need Off-Grid Inverter upto 2kW">Need Off-Grid Inverter upto 2kW</option>
                                    <option value="Budget Constraint">Budget Constraint</option>
                                    <option value="Shadow Free Space Constraint">Shadow Free Space Constraint</option>
                                    <option value="Private Electricity Connection">Private Electricity Connection</option>
                                    <option value="High Value">High Value</option>
                                    <option value="Wrong information published / advertised">Wrong information published / advertised</option>
                                    <option value="No Roof Rights">No Roof Rights</option>
                                    <option value="Ownership of Electricity Connection is not available">Ownership of Electricity Connection is not available</option>
                                    <option value="Dealer/Distributor Enquiry">Dealer/Distributor Enquiry</option>
                                    <option value="Invalid Imported Lead">Invalid Imported Lead</option>
                                    <option value="Price Inquiry">Price Inquiry</option>
                                    <option value="Property Under Construction">Property Under Construction</option>
                                    <option value="Need On-Grid Inverter but area not serviceable presently">Need On-Grid Inverter but area not serviceable presently</option>
                                    <option value="Need Off-Grid Inverter but area not serviceable presently">Need Off-Grid Inverter but area not serviceable presently</option>
                                    <option value="Others">Others</option>
                                </select>
                                <div class="error" *ngIf="notInterestedRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitNotInterestedRequest">Mandatory Field</div>
        
                                <!-- <input type="text" name="" placeholder="Customer Care Executive"> -->
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Remarks*</label>
                            <div class="form-field">
                                <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                                <div class="error" *ngIf="(notInterestedRequest.controls?.lead_callowner_remarks?.errors?.required || notInterestedRequest.controls?.lead_callowner_remarks?.errors?.pattern) && isSubmitNotInterestedRequest">Mandatory Field</div>
        
                            </div>
                        </div>
                        <p class="not-intrested">* Mandatory Field.</p>
                        <div class="form-actions">
                            <input class="button button-grey" type="button" value="Cancel">
                            <input class="button button-blue" type="submit" value="Submit">
                        </div>
                    </form>
                </section>
            </div>
            <div class="box schedule-call-back" *ngIf="panelSteps == 5">
                <h2 class="box-title">Schedule Call Back</h2>
                <section class="box-content">
                    <h3>Select the date and time</h3>
                    <form id="call-reschedule" [formGroup]="callRescheduleRequest" (ngSubmit)="submitCallRescheduleRequest()">
                        <div class="field-wrapper">
                            <label for="">Schedule Call Back*</label>
        
                            <div class="form-field field-date-time">
                                <div class="field-date">
                                    <p-calendar class="form-text" [(ngModel)]="rescheduleDate" [minDate]="minDate" readonlyInput="true" dateFormat="dd/mm/y" formControlName="lead_scheduledate"
                                        placeholder="Date" [showIcon]="true"></p-calendar>
                                    <div class="error" *ngIf="(callRescheduleRequest.controls?.lead_scheduledate?.errors?.required||callRescheduleRequest.controls?.lead_scheduledate?.errors?.required) && isSubmitCallRescheduleRequest">Mandatory Field</div>
        
                                </div>
                                <div class="field-time">
                                    <p-calendar class="form-text" [(ngModel)]="rescheduleDate" [timeOnly]="true" [minDate]="minDate" readonlyInput="true" formControlName="lead_scheduletime"
                                        placeholder="Time" [showIcon]="true"></p-calendar>
                                        <div class="error" *ngIf="wrongTime">Invalid Time</div>
                                </div>
        
                            </div>
        
                        </div>
                        <div class="field-wrapper">
                            <label for="">Lead Reference</label>
                            <div class="form-field">
                                <ng-select [options]="refrenceList" formControlName="lead_callowner_reference_id" placeholder="Lead Reference"></ng-select>
                                <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_reference_id?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Reason*</label>
                            <div class="form-field">
                                <select formControlName="lead_callowner_notes">
                                    <option value="No response">No response </option>
                                    <option value="Disconnect by Customer">Disconnect by Customer </option>
                                    <option value="Request - call back later">Request - call back later </option>
                                    <option value="Not-reachable">Not-reachable </option>
                                    <option value="Unavailability of Customer">Unavailability of Customer </option>
                                    <option value="Others">Others </option>
                                </select>
                                <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_notes?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>
        
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Remarks*</label>
                            <div class="form-field">
                                <textarea formControlName="lead_callowner_remarks" cols="30" rows="10" placeholder="Add Remarks" required></textarea>
                                <div class="error" *ngIf="callRescheduleRequest.controls?.lead_callowner_remarks?.errors?.required && isSubmitCallRescheduleRequest">Mandatory Field</div>
                            </div>
                        </div>
                        <p class="reschedule">* These fields are mandatory</p>
                        <div class="form-actions">
                            <input class="button button-grey" type="button" value="Cancel">
                            <input class="button button-blue" type="submit" value="Submit">
                        </div>
                    </form>
                </section>
            </div>

    </div>
</div>



<div *ngIf="isData" style="margin: 30px; padding: 30px; background-color: #fff; font-size: 32px; text-align: center;">
    <p>{{leadData}}</p>
</div>
<div *ngIf="isLoginEmp == true" style="margin: 30px; padding: 30px; background-color: #fff; font-size: 32px; text-align: center;">
    <p>Unauthorised Access. Please login to access.</p>
</div>

<div class="sendBox" [ngClass]="{hideAside:cnfBoxForOffline,showAside:!cnfBoxForOffline}">
    <div class="box-wrapper cash-box">
        <div class="tableBoxx">
            <div class="cellBoxx">
                <div class="sendWrapper">
                    <h4>Confirmation </h4>
                    <div class="field-wrapper">
                        <p style="margin: 10px;"><label for="">Are you sure you want to go Offline?
                            </label></p>
                    </div>
                    <div class="field-wrapper">
                        <div class="form-field save-btn">
                            <button type="submit" (click)="confirmForOffline('close')" class="btn btn-blue btn-md">Cancel</button>
                            <button type="submit" (click)="toggleOnlineStatus()" class="btn btn-blue btn-md">Confirm</button>
                        </div>
                    </div>
                    <a href="javascript:void(0)" class="menu example5" (click)="confirmForOffline('close')">
                        <span>x</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="sendBox" [ngClass]="{hideAside:callingPopUp,showAside:!callingPopUp}">
    <div class="box-wrapper cash-box">
        <div class="tableBoxx">
            <div class="cellBoxx">
                <div class="sendWrapper">
                    <h4 >Call </h4 >
                    <div class="field-wrapper" *ngIf="callingError">
                        <p style="margin: 10px;"><label for="">{{ callingErrorMsg }}
                            </label></p>
                    </div>
                    <div class="field-wrapper" *ngIf="!callingError">
                        <p style="margin: 10px;"><label for="">Calling.....
                            </label></p>
                    </div>
                    <div class="field-wrapper">
                        <div class="form-field save-btn">
                            <button type="submit" (click)="closeCallingPopUp('close')" class="btn btn-blue btn-md">Ok</button>
                        </div>
                    </div>
                    <a href="javascript:void(0)" class="menu example5" (click)="closeCallingPopUp('close')">
                        <span>x</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .sendBox {
        position: fixed;
        z-index: 9999;
        background: rgba(0, 0, 0, 0.5);
        width: 100%;
        height: 100%;
        top: -100%;
        left: 0;
        opacity: 0
    }

    .sendBox.hideAside {
        top: 0;
        opacity: 1;
    }

    .box-wrapper {
        max-width: 500px;
        margin: 0 auto;
        height: 100%;
    }

    .tableBoxx {
        display: table;
        width: 100%;
        height: 100%;
    }

    .cellBoxx {
        display: table-cell;
        vertical-align: middle;
    }

    .sendWrapper {
        width: 100%;
        float: left;
        background: #fff;
        padding: 0px;
        border-radius: 5px;
        position: relative
    }

    .menu.example5 {
        position: absolute;
        color: #fff;
        background: #000;
        width: 30px;
        height: 30px;
        border-radius: 100%;
        line-height: 30px;
        text-align: center;
        font-size: 17px;
        padding: 0;
        vertical-align: middle;
        right: -16px;
        top: -16px;
    }

    .sendWrapper h4 {
        padding: 20px;
        margin-bottom: 0;
        background: #09357f;
        color: #fff;
    }

    .sendWrapper form .field-wrapper {
        flex-direction: column;
    }

    .cash-box .sendWrapper form .field-wrapper {
        display: block;
        width: 100%;
        float: left;
    }

    .sendWrapper form .field-wrapper label {
        padding: 0;
        margin-bottom: 10px;
        width: 100%;
    }

    .cash-box .sendWrapper form .field-wrapper label {
        width: 160px;
        float: left
    }

    .cash-box .sendWrapper form .field-wrapper .form-field {
        width: calc(100% - 160px);
        float: left
    }

    .cash-box .sendWrapper form .field-wrapper .form-field.save-btn {
        float: right;
    }

    .cash-box .error {
        width: calc(100% - 160px);
        float: right
    }

    .cash-box .sendWrapper form .field-wrapper .form-field input {
        width: 100%;
    }

    .sendWrapper form .field-wrapper .form-field {
        width: 100%;
    }

    .sendWrapper form {
        padding: 20px;
    }

    .sendWrapper .btn-blue {
        margin-top: 0
    }

    .coldData .btn.btn-blue {
        font-size: 14px;
        text-transform: capitalize;
    }

    .sendWrapper textarea {
        border: 1px solid #706f6f;
    }
</style>
