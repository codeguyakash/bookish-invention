<div class="main-container" [ngClass]="{'cc-container': isListing}">
    <aside class="sidebar">
        
        <div class="employee-info">
            <div class="pic">
                <i class="fa fa-user-circle" aria-hidden="true"></i>
            </div>
            <div class="detail">
                <span>Ops Head</span>
            </div>
        </div>
        <!-- <nav class="sidebar-tabs">
            <a (click)="searchProjects()"  [ngClass]="{'active':(isListing == 'project-search')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>SEARCH IN PROJECTS</span>
            </a>
        </nav>
        <nav class="sidebar-tabs">
            <a (click)="searchLeads()"  [ngClass]="{'active':(isListing == 'lead-search')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>SEARCH IN LEADS</span>
            </a>
        </nav> -->
        <!-- <nav class="sidebar-tabs">
            <a (click)="getLeadListDetails()" [ngClass]="{'active':(isListing == 'opshead_action_listing')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>SHOW LEAD LISTING</span>
            </a>
        </nav> -->

        <nav (click)="getLeadList_actionable()" class="sidebar-tabs">
            <a [ngClass]="{'active':(isListing == 'opshead_listing_actionable') }">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>Show Lead Listing(Actionable)</span>
            </a>
        </nav>


        <nav class="sidebar-tabs">
            <a (click)="getPojectListDetails(1)" [ngClass]="{'active':(isListing == 'project_status_listing')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>Project Status</span>
            </a>
        </nav>
        <nav class="sidebar-tabs">
            <a (click)="getFreshLeadList(1, 'both')"
                [ngClass]="{'active':(isListing=='fresh_leads_listing' && freshLeadType == 'both')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>Consumer Leads(Paid/Unpaid)</span>
            </a>
        </nav>
        <!--nav class="sidebar-tabs">
            <a (click)="getFreshLeadList(1, 'paid')"
                [ngClass]="{'active':(isListing=='fresh_leads_listing' && freshLeadType == 'paid')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>CONSUMER LEADS(PAID)</span>
            </a>
        </nav>
        <nav class="sidebar-tabs">
            <a (click)="getFreshLeadList(1, 'unpaid')"
                [ngClass]="{'active':(isListing=='fresh_leads_listing' && freshLeadType == 'unpaid')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>CONSUMER LEADS(NOT PAID)</span>
            </a>
        </nav-->
        <nav class="sidebar-tabs">
            <a (click)="getFreshLeadList(1, 'cbucket')"
                [ngClass]="{'active':(isListing=='fresh_leads_listing' && freshLeadType == 'cbucket')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>Consumer Leads(Cold Bucket)</span>
            </a>
        </nav>
        <!-- <nav class="sidebar-tabs">
            <a (click)="getQueryList(1)">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>MANAGE QUERY</span>
            </a>
        </nav> -->
        <nav class="sidebar-tabs">
            <a (click)="getAllLeadProjects(1)" [ngClass]="{'active':(isListing == 'all_leads_project')}">
                <i class="fa fa-address-card" aria-hidden="true"></i>
                <span>Consumer All Leads</span>
            </a>
        </nav>

    </aside>

    <smart-search (SearchResults)="smartSearchResults($event)" *ngIf="showSmartSearchComponent"></smart-search>
    <div class="container" *ngIf="isListing == 'opshead_action_listing'">
        <h2>Ops Head Lead-List</h2><br>
        <h2>Actionable</h2>
        <div class="table-wrapper" *ngIf="actionableList.length>0">
            <table>
                <thead>
                    <tr>
                        <th>
                            Customer ID
                        </th>
                        <th>
                            Project ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Surveyor Name
                        </th>
                        <th>
                            Project Status
                        </th>
                        <th>
                            Lead Source
                        </th>
                        <th>
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of actionableList; let i = index" class="highlight-row">
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.cceld_firstname}} {{data?.cceld_middlename}} {{data?.cceld_lastname}}</td>
                        <td>{{data?.cceld_mobileno}}</td>
                        <td>{{data?.cceld_address1}}</td>
                        <!-- <td>{{data?.cceld_scheduledate}}</td> -->
                        <td>{{data?.surveyor_name}}</td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{data?.pmstate_name}}
                        </td>
                        <td>
                            {{data?.source_master_name}}
                        </td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            <a class="gbgBtn"
                                (click)="openProjectChecklistDetails(data?.project_id,data?.cceld_consumerid)">Open</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="no-data" *ngIf="actionableList.length<=0">
            No Actionable Projects
        </div>
        <br>
        <h2>Non-Actionable</h2>
        <div class="table-wrapper" *ngIf="nonActionableList.length>0">
            <table>
                <thead>
                    <tr>
                        <th>
                            Customer ID
                        </th>
                        <th>
                            Project ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Surveyor Name
                        </th>
                        <th>
                            Project Status
                        </th>
                        <th>
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of nonActionableList; let i = index">
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.cceld_firstname}} {{data?.cceld_middlename}} {{data?.cceld_lastname}}</td>
                        <td>{{data?.cceld_mobileno}}</td>
                        <td>{{data?.cceld_address1}}</td>
                        <!-- <td>{{data?.cceld_scheduledate}}</td> -->
                        <td>{{data?.surveyor_name}}</td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{data?.pmstate_name}}
                        </td>
                        <!--|||||||||||||||||||||||-->
                        <td>

                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="no-data" *ngIf="nonActionableList.length<=0">
            No Non-Actionable Projects
        </div>
    </div>

    <div class="container" *ngIf="isListing == 'opshead_listing_actionable' ">
        <h2>Ops Head</h2><br>
        <div class="noRecordFound"  *ngIf="actionable_lst.length<1">
            <p style="padding:15px;">No Leads Found!</p>
          </div>
        <div class="table-wrapper opshead-table" *ngIf="actionable_lst.length>0">
            <table>
                <thead>
                    <tr>
                        <th>
                            Project Id
                        </th>
                        <th>
                            Customer Name
                        </th>

                        <th>
                            Address
                        </th>
                        <th>
                            Surveyor Name
                        </th>
                        <th>
                            Project Status
                        </th>
                        <th>
                            Handoff
                        </th>
                        <th>
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of actionable_lst; let i = index" class="">
                       
                        <td>{{data.handOff.h_data.consumerProject.project_code}}</td>
                        <td>{{data?.handOff.h_data.customer_name}}</td>
                        <td>{{data?.handOff.h_data.consumer?.consumer_address1 !='NULL' ?data.handOff.h_data.consumer.consumer_address1:''  }} {{data?.handOff.h_data.district_name !='NULL' ? data.handOff.h_data.district_name: '' }} {{data?.handOff.h_data.state_name !='NULL' ? data.handOff.h_data.state_name: ''}}</td>
                        <td>{{data?.emp_name}}</td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{(data.handOff.is_reject_project_manager==0)?'Pending for Project Management Allocation':'Rejected by Project Manager'}}
                        </td>
                         <td>
                            <a class="vielnk" (click)="ViewHandoffDetails(data?.handOff)">View HandOff</a>
                        </td>
                       <td style="width: 230px;">
                            <a class="btn mb-2" (click)="pmallocation(data?.handOff.h_projectid)">Allocate</a>
                            <a href="javascript:void(0)" (click)="RejectAllocationpopup(data?.handOff.h_projectid)" class="btn mb-2">Reject</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

    <div class="container" *ngIf="isListing == 'project-search'">
        <h2>Search In Projects</h2><br>
        <div class="dashboard-inner">
            <form [formGroup]="searchForm" (ngSubmit)="submitSearch()">
                <div class="field-wrapper">
                    <label for="">Search Type</label>
                    <div class="form-field">
                        <select formControlName="qType" [(ngModel)]="queryType">
                            <option value="">Select</option>
                            <option value="cceld_firstname">First Name</option>
                            <option value="cceld_middlename">Middle Name</option>
                            <option value="cceld_lastname">Last Name</option>
                            <option value="cceld_mobileno">Phone</option>
                            <option value="project_code">Project Id</option>
                            <option value="project_status">Status</option>
                        </select>
                    </div>
                </div>
                <div class="field-wrapper" *ngIf="queryType != 'project_status'">
                    <label for="">Search String</label>
                    <div class="form-field">
                        <input type="text" formControlName="q" placeholder="Please enter search string">
                        <div class="error" *ngIf="searchForm.controls?.q?.errors?.required && isSearchFormSubmitted">
                            Please enter search string</div>
                        <div class="error" *ngIf="searchForm.controls?.q?.errors?.pattern && isSearchFormSubmitted">
                            Special character not allowed</div>
                    </div>
                </div>
                <div class="field-wrapper" *ngIf="queryType == 'project_status'">
                    <label for="">Select Project Status*</label>
                    <div class="form-field select-bg">
                        <ng-select [options]="projectStatusList" formControlName="project_status"
                            placeholder="Select Project Status"></ng-select>
                    </div>
                    <div class="error" *ngIf="searchForm.controls?.project_status?.errors">Please select project status
                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <button type="submit" class="btn nbtn btn-blue btn-md">Search</button>
                    </div>
                </div>
            </form>
        </div>

        

        <div *ngIf="actionableList.length>0 || nonActionableList.length>0" align="right">
            <a href="{{downloadFileName}}" target="_blank" class="downLoad">Download</a>
        </div>
        <h2>Search Results</h2>
        <br>
        <h2>Actionable</h2>
        <div class="table-wrapper" *ngIf="actionableList.length>0">
            <table>
                <thead>
                    <tr>
                        <th>
                            Customer ID
                        </th>
                        <th>
                            Project ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Surveyor Name
                        </th>
                        <th>
                            Project Status
                        </th>
                        <th>
                            Action
                        </th>
                        <th>
                            Details
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of actionableList; let i = index" class="highlight-row">
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.cceld_firstname}} {{data?.cceld_middlename}} {{data?.cceld_lastname}}</td>
                        <td>{{data?.cceld_mobileno}}</td>
                        <td>{{data?.cceld_address1}}</td>
                        <!-- <td>{{data?.cceld_scheduledate}}</td> -->
                        <td>{{data?.surveyor_name}}</td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{data?.pmstate_name}}
                        </td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            <a class="gbgBtn"
                                (click)="openProjectChecklistDetails(data?.project_id,data?.cceld_consumerid)">Open</a>
                        </td>
                        <td>
                            <a (click)="getProjectStatusDataDetailed(data?.project_id)">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="no-data" *ngIf="actionableList.length<=0">
            No Actionable Projects
        </div>
        <br>
        <h2>Non-Actionable</h2>
        <div class="table-wrapper" *ngIf="nonActionableList.length>0">
            <table>
                <thead>
                    <tr>
                        <th>
                            Customer ID
                        </th>
                        <th>
                            Project ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Surveyor Name
                        </th>
                        <th>
                            Project Status
                        </th>
                        <th>
                            Action
                        </th>
                        <th>
                            Details
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of nonActionableList; let i = index">
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.cceld_firstname}} {{data?.cceld_middlename}} {{data?.cceld_lastname}}</td>
                        <td>{{data?.cceld_mobileno}}</td>
                        <td>{{data?.cceld_address1}}</td>
                        <!-- <td>{{data?.cceld_scheduledate}}</td> -->
                        <td>{{data?.surveyor_name}}</td>
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{data?.pmstate_name}}
                        </td>
                        <!--|||||||||||||||||||||||-->
                        <td>

                        </td>
                        <td>
                            <a (click)="getProjectStatusDataDetailed(data?.project_id)">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="no-data" *ngIf="nonActionableList.length<=0">
            No Non-Actionable Projects
        </div>
    </div>

    <div class="container" *ngIf="isListing == 'lead-search'">
        <h2>Search In Leads</h2><br>
        <div>
            <form [formGroup]="searchLeadForm" (ngSubmit)="submitLeadSearch()">
                <div class="field-wrapper">
                    <label for="">Search Type</label>
                    <div class="form-field">
                        <select formControlName="qType">
                            <option value="">Select</option>
                            <option value="lead_id">Lead Id</option>
                            <option value="lead_fname">First Name</option>
                            <option value="lead_mname">Middle Name</option>
                            <option value="lead_lname">Last Name</option>
                            <option value="lead_mobile">Phone</option>
                        </select>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Search String</label>
                    <div class="form-field">
                        <input type="text" formControlName="q" placeholder="Please enter search string">
                        <div class="error"
                            *ngIf="searchLeadForm.controls?.q?.errors?.required && isLeadSearchFormSubmitted">Please
                            enter search string</div>
                        <div class="error"
                            *ngIf="searchLeadForm.controls?.q?.errors?.pattern && isLeadSearchFormSubmitted">Special
                            character not allowed</div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <button type="submit" class="btn nbtn btn-blue btn-md">Search</button>
                    </div>
                </div>
            </form>
        </div>
        <h2>Lead Search Results</h2>
        <div class="table-wrapper" *ngIf="unprocessedLeads.length>0">
            <!-- <p>hello</p> -->
            <table cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            Lead ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Lead Created ON
                        </th>
                        <th>
                            Lead Status
                        </th>
                        <th>
                            Queue Status
                        </th>
                        <th>
                            Lead Payment Status
                        </th>
                        <th>
                            Locked By CCE
                        </th>
                        <th>
                            CCE ID
                        </th>
                        <th>
                            CCE Mobile
                        </th>
                        <th>
                            CCE Email
                        </th>
                        <th>
                            Send Payment Link
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of unprocessedLeads; let i = index">
                        <td>{{data?.lead_id}}</td>
                        <td>{{data?.lead_fname}} {{data?.lead_mname}} {{data?.lead_lname}}</td>
                        <td>{{data?.lead_mobile}}</td>
                        <td>{{data?.lead_address1}} {{data?.lead_address2}} {{data?.district_name}}
                            {{data?.state_name}}-{{data?.lead_lead_pincode}}</td>
                        <td>{{data?.lead_createdon}}</td>
                        <td>{{lead_states[data?.lead_status]}}</td>
                        <td>{{data?.lead_queuestatus}}</td>
                        <td>{{ (data?.lead_iswaived==0)?(data?.payment_status==3)?'Paid':'Not Paid':'Waived' }}
                        </td>
                        <td>{{data?.emp_firstname}} {{data?.emp_middlename}} {{data?.emp_lastname}}</td>
                        <td>{{data?.emp_code}}</td>
                        <td>{{data?.emp_mobileno}}</td>
                        <td>{{data?.emp_email}}</td>
                        <td>
                            <button *ngIf="!sendLinkLoader || i != currentButton" class="send-pay-button" type="button"
                                (click)="sendPaymentLink(data?.lead_id, i)">Send</button>
                            <button *ngIf="sendLinkLoader && i == currentButton" class="send-pay-button" type="button">
                                <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="no-data" *ngIf="unprocessedLeads.length<=0">
            No Results.
        </div>
    </div>

    <!-- project status listing -->
    <div class="container" *ngIf="isListing == 'project_status_listing'">
        <h2>Project Status List</h2>
        <div class="table-wrapper">
            <!-- <p>hello</p> -->
            <table cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            Customer ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Project ID
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <!-- <th>
                            Date
                        </th>
                        <th>
                            Time
                        </th> -->
                        <th>
                            Project Status
                        </th>
                        <th>
                            Lead Source
                        </th>
                        <th>
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of projectleadData; let i = index">
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.cceld_firstname}} {{data?.cceld_middlename}} {{data?.cceld_lastname}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.cceld_mobileno}}</td>
                        <td>{{data?.cceld_address1}}</td>
                        <!-- <td>{{data?.cceld_scheduledate}}</td>
                        <td>{{times[data?.cceld_scheduletime]}}</td> -->
                        <!--|||||||||||||||||||||||-->
                        <td>
                            {{data?.pmstate_name}}
                        </td>
                        <td>
                            {{data?.source_master_name}}
                        </td>
                        <!--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->

                        <td>
                            <a (click)="getProjectStatusDataDetailed(data?.project_id)">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <style>
            ul {
                overflow: hidden;
            }

            li {
                display: inline-block;
            }

            .custom-pagination input {
                margin: 10px;
                width: 70px;
                padding: 0 5px;
            }

            .btn-blue {
                background-color: #04357f;
                box-shadow: 0 4px 5.87px 0.13px rgba(32, 111, 230, .35);
                border-radius: 27px;
                color: #fff;
                text-align: center;
                font-size: 18px;
                border: none;
            }
        </style>
        <ul *ngIf="projectleadData" style="white-space:nowrap;">

            <li [ngClass]="{disabled:pages === 1}">
                <a (click)="getPojectListDetails(pages - 1)">
                    <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                    </i>
                </a>
            </li>
            &nbsp; &nbsp;
            <li>
                <a>Page {{pages}} of {{pageCount}}</a>
            </li>
            &nbsp; &nbsp;
            <li [ngClass]="{disabled:pages === pageCount}">
                <a (click)="getPojectListDetails(pages + 1)">
                    <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                    </i>
                </a>
            </li>
            <li>
                <div class="custom-pagination">
                    <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                        <input type="number" formControlName="page_number" class="" min="0" max="{{pageCount}}"
                            (keypress)=_keyPress($event)>
                        <button type="submit" class="btn btn-blue btn-md">Go</button>
                        <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number
                            must be less than or
                            equal to {{pageCount}}</span>
                    </form>

                </div>
            </li>
        </ul>

    </div>

    <!-- fresh lead listing -->
    <div class="container" *ngIf="isListing == 'fresh_leads_listing'">
        <h2 *ngIf="freshLeadType==='paid'">Consumer Leads List(Paid)</h2>
        <h2 *ngIf="freshLeadType==='unpaid'">Consumer Leads List(Not-Paid)</h2>
        <h2 *ngIf="freshLeadType==='cbucket'">Consumer Leads List(Cold-Bucket)</h2>
        <h2 *ngIf="freshLeadType==='both'">Consumer Leads List(Paid/Unpaid)</h2>
        <div class="table-wrapper coldData">
            <!-- <p>hello</p> -->
            <table cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            Lead ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <th>
                            Address
                        </th>
                        <th>
                            Lead Created ON
                        </th>
                        <th>
                            Lead Status
                        </th>
                        <th>
                            Queue Status
                        </th>
                        <th>
                            Locked By CCE
                        </th>
                        <th>
                            CCE ID
                        </th>
                        <th>
                            CCE Mobile
                        </th>
                        <th>
                            Lead Source
                        </th>
                        <th>
                            CCE Email
                        </th>
                        <th *ngIf="freshLeadType==='unpaid'">
                            Send Payment Link
                        </th>
                        <th *ngIf="freshLeadType==='cbucket'">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of freshleadData; let i = index">
                        <td>{{data?.lead_id}}</td>
                        <td>{{data?.lead_fname}} {{data?.lead_mname}} {{data?.lead_lname}}</td>
                        <td>{{data?.lead_mobile}}</td>
                        <td>{{data?.lead_address1}} {{data?.lead_address2}} {{data?.district_name}}
                            {{data?.state_name}}-{{data?.lead_lead_pincode}}</td>
                        <td>{{data?.lead_createdon}}</td>
                        <td>{{data?.lead_status_name}}</td>
                        <td>{{data?.lead_queuestatus}}</td>
                        <td>{{data?.emp_name}}</td>
                        <td>{{data?.emp_code}}</td>
                        <td>{{data?.emp_mobileno}}</td>
                        <td>{{data?.source_master_name}}</td>
                        <td>{{data?.emp_email}}</td>
                        <td *ngIf="freshLeadType==='unpaid'">
                            <button *ngIf="!sendLinkLoader || i != currentButton" class="send-pay-button" type="button"
                                (click)="sendPaymentLink(data?.lead_id, i)">Send</button>
                            <button *ngIf="sendLinkLoader && i == currentButton" class="send-pay-button" type="button">
                                <img src="/assets/images/loader.gif" style="width:20px;height:20px;" alt="LUMINOUS" />
                            </button>
                        </td>
                        <td *ngIf="freshLeadType==='cbucket'">
                            <button class="btn btn-blue btn-md"
                                (click)="openRevokeCommentBox(data?.lead_id);">Activate</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <style>
            ul {
                overflow: hidden;
            }

            li {
                display: inline-block;
            }
        </style>
        <ul *ngIf="freshleadData" style="white-space:nowrap;">
            <!--
            <li [ngClass]="{disabled:pages === 1}">
                <a (click)="getFreshLeadList(pages - 1, freshLeadType)">
                    <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                    </i>
                </a>
            </li>
            &nbsp; &nbsp; -->
            <li>
                <a>Page {{pages}} of {{pageCount}}</a>
            </li>
            <!-- &nbsp; &nbsp;
            <li [ngClass]="{disabled:pages === pageCount}">
                <a (click)="getFreshLeadList(pages + 1, freshLeadType)">
                    <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                    </i>
                </a>
            </li> -->
            <li>
                <div class="custom-pagination">
                    <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                        <input type="number" formControlName="page_number" class="" min="0" max="{{pageCount}}"
                            (keypress)=_keyPress($event)>
                        <button type="submit" class="btn btn-blue btn-md">Go</button>
                        <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number
                            must be less than or
                            equal to {{pageCount}}</span>
                    </form>

                </div>
            </li>
        </ul>
    </div>


    <div class="container" *ngIf="isListing == 'query_listing' && !showQueryForm && !showCceForm">
        <h2>Queries List</h2>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>
                            Query ID
                        </th>
                        <th>
                            Customer Name
                        </th>
                        <th>
                            Email
                        </th>
                        <th>
                            Contact No.
                        </th>
                        <!-- <th>
                            City
                        </th> -->
                        <th>
                            Address
                        </th>
                        <th>
                            Question
                        </th>
                        <th>
                            Reply
                        </th>
                        <th>
                            Duration
                        </th>
                        <!-- <th>
                            Query Status
                        </th> -->
                        <th>
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of queryList; let i = index">
                        <td>{{data?.uquery_id}}</td>
                        <td>{{data?.uquery_name}}</td>
                        <td>{{data?.uquery_email}}</td>
                        <td>{{data?.uquery_mobile}}</td>
                        <!-- <td>{{data?.uquery_city}}</td> -->
                        <td>{{data?.uquery_address}}</td>
                        <td>{{data?.uquery_question}}</td>
                        <td>{{data?.uquery_reply}}</td>
                        <td>{{data?.uquery_duration}}</td>
                        <!-- <td>{{data?.uquery_status}}</td>                                              -->
                        <td>
                            <a (click)="editQuery(data)">Respond</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <ul *ngIf="queryList" style="white-space:nowrap;">

            <li [ngClass]="{disabled:pages === 1}">
                <a (click)="getQueryList(pages - 1)">
                    <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                    </i>
                </a>
            </li>
            &nbsp; &nbsp;
            <li>
                <a>{{pages}}</a>
            </li>
            &nbsp; &nbsp;
            <li [ngClass]="{disabled:pages === pageCount}">
                <a (click)="getQueryList(pages + 1)">
                    <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                    </i>
                </a>
            </li>

        </ul>
    </div>

    <div class="container" *ngIf="!isListing">
        <!-- start audit page -->
        <div class="survey-page-container">
            <div class="survey-page-left" *ngIf="showForm=='audit_form'">
                <!-- start survey-form -->
                <div class="survey-form audit-form">
                    <p-panel header="Customer Care Form:" [toggleable]="true">
                        <div class="tab-content-detail">
                            <h3>Consumer Personal Information</h3>
                            <div class="field-wrapper">
                                <label for="">First Name *</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_firstname}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Middle Name </label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_middlename}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Last Name *</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_lastname}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address 1.</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_address1}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address 2</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_address2}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Pincode</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_pincode}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">City</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_cityid}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">State</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_stateid}}</span>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Contact Number</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_mobileno}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Email ID</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_email}}</span>
                                </div>
                            </div>

                        </div>
                    </p-panel>
                    <p-panel header="Project Cart Details:" [toggleable]="true">
                        <div class="tab-content-detail">
                            <h3>Project Cart Details</h3>
                            <div class="field-wrapper">
                                <label for="">Project Title</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_title}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Project Description</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_description}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Project Type</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_type}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Total Cost(â‚¹)</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_total_cost}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Advance Payment(%)</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_pre_payment_percentage}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">System Capacity(kW)</label>
                                <div class="form-field">
                                    <span>{{projectData?.project_system_capacity}}</span>
                                </div>
                            </div>
                        </div>
                    </p-panel>
                    <p-panel header="Survey Form:" [toggleable]="true">
                        <div class="tab-content-detail">
                            <h3>Electric Parameter</h3>
                            <div class="field-wrapper">
                                <label for="">Sanctioned Load Capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_sanctioned_load_capacity}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Type of Connection</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_connection_type}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Main Line Transformer Status (If installed by customer)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_mainline_transformer_status}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Transformer Capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_transformer_capacity}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Transformer Connection type</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_transformer_connection_type}}</span>
                                </div>
                            </div> -->
                            <h3>Existing Power Back-Up Solutions</h3>
                            <!-- <div class="field-wrapper">
                                <label for="">DG Set capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_dgset_capacity}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">DG Set Connection type</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_dgset_connection_type}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">DG Brand</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_dg_brand}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Inverter capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_inverter_capacity}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Inverter Connection type</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_inverter_connection_type}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Inverter Brand</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_inverter_brand}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Inverter DC Voltage (DC operation Voltage</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_inverterdc_voltage}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Battery Brand</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_battery_brand}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Battery Capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_battery_capacity}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Battery Rating Factor</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_battery_rating_factor}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Battery Type</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_battery_type}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Battery Age</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_battery_age}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Availability of Grid (7 AM-6 PM)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_availability_of_grid1}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Availability of Grid (6PM-7 AM)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_availability_of_grid2}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Primary Source of Supply during day</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_primary_source_of_supply_during_day}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Primary Source of Supply during evening</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_primary_source_of_supply_during_evening}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Minimum Running Load in day time (7 AM-6 PM)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_min_running_loadin_daytime}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Load running after (6 PM)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_load_running_after6}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Critical Load on which back up is required</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_critical_load_onwhich_backup_isrequired}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Operation Hours of Critical Load (Back up Hours)

                                </label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_operation_hour_of_critical_load}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Secondary Source of supply if available</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_secondary_source_of_supply_if_available}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Termination DB/LT panel capacity</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_secondary_source_of_supply_if_available}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">No. of existing Earthing Pit</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_no_of_existing_earthin_pit}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Evacuation Voltage</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_evacuation_voltage}}</span>
                                </div>
                            </div>

                            <h3>
                                SPACE Availability
                            </h3>

                            <div class="field-wrapper">
                                <label for="">Type of Roof</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_type_of_roof}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Shadow Free Area Available</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_shadow_free_area}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Installation Location (Name of Building)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_installation_location}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Other Spaces Available for Installation</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_other_spaces_available_for_installation}}</span>
                                </div>
                            </div>
                            <!-- <div class="field-wrapper">
                                <label for="">Number of floors in the building</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_no_of_floors_in_the_building}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Roof Accessibility</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_roof_accessibility}}</span>
                                </div>
                            </div> -->
                            <!-- <div class="field-wrapper">
                                <label for="">Distance of Existing LT Panel / LT Board from Roof</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_distance_of_existing_lt_panelboard_from_roof}}</span>
                                </div>
                            </div> -->
                            <!-- <div class="field-wrapper">
                                <label for="">Any preference (Floor/Location) for inverter installation</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_preference_for_invertor_installation}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Chipping on roof allowance</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_chipping_on_roof_allowance}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Can the panels be mounted facing towards true south</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_can_the_panels_be_mounted_facing_towards_true_south}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">In case of non true south sites (mention the diflection / azimuth
                                    angle)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_incase_of_nontrue_southsites}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">In case of shed, is the drilling allowed on it</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_incase_of_shed_isdrill_allowed}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Is the shed facing towards true south</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_isthe_shed_facing_towards_true_south}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Details of Shed</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_details_of_shed}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Area of the place where PCU / Battery to be placed</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_area_of_the_place_where_pcu}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Ventilation Available in Battery/PCU Room</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_ventilation_available_in_batterypcu_room}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Distance from Roof to Inverter / Battery Room</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_distance_from_roof_to_inverter_battery_room}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Distance from Inverter / Battery Room to LT Board</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_distance_from_inverter_battery_room_to_lt_board}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Length of wire-run from each array to Inverter</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_length_of_wirerun_from_each_array_to_inverter}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Space Available for Secure Storage of Material</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_space_available_for_secure_storage_of_material}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Space available for earthing</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_space_available_for_earthing}}</span>
                                </div>
                            </div>
                            <h3>Shadow Consideration</h3>
                            <!-- <div class="field-wrapper">
                                <label for="">Shading: describe type of shading here(Array 1:2: 3: 4:)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_shading}}</span>
                                </div>
                            </div> -->
                            <div class="field-wrapper">
                                <label for="">Height of the Parapet Wall</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_height_of_the_parapet_wall}}</span>
                                </div>
                            </div>


                            <div class="field-wrapper">
                                <label for="">Protruding Objects/Mumty in installation location(water tank,
                                    Dish,Antennae)</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_protruding_objects_mumty_in_installation_location}}</span>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Details of High Altitude Trees/Buildings facing south</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_details_of_high_altitude_trees_buildings_facing_south}}</span>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Latitude, Longitude of site</label>
                                <div class="form-field">
                                    <span>{{surveyorFormData?.sf_latitude_longitude_of_site}}</span>
                                </div>
                            </div>

                        </div>
                    </p-panel>
                    <p-panel header="Feasibility Status:" [toggleable]="true">
                        <br>
                        <div class="field-wrapper">
                            <label for="">Feasible Solution Type</label>
                            <div class="form-field">
                                <span>{{(surveyorFormData?.sf_feasible_solution_type)?solutionType[surveyorFormData?.sf_feasible_solution_type]:'Not
                                    Entered'}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Ground Clearance of structure recommended by surveyor</label>
                            <div class="form-field">
                                <span>{{surveyorFormData?.sf_ground_clearance_of_structure_recommended_by_surveyor}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Proposed DC Capacity</label>
                            <div class="form-field">
                                <span>{{surveyorFormData?.sf_proposed_dc_capacity}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Proposed AC Capacity</label>
                            <div class="form-field">
                                <span>{{(surveyorFormData?.sf_proposed_ac_capacity)?surveyorFormData?.sf_proposed_ac_capacity:'Not
                                    Entered'}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Feasible Solution Remarks:</label>
                            <div class="form-field">
                                <span>{{surveyorFormData?.sf_feasiblity_remarks}}</span>
                            </div>
                        </div>

                    </p-panel>
                    <!-- <p-panel header="Load Survey Form:" [toggleable]="true">
                        <div class="table-wrapper full-wth">
                            <table cellpadding="0" cellspacing="0">
                                <tr>
                                    <th>Load Category</th>
                                    <th>Device Description</th>
                                    <th>Operating Source</th>
                                    <th>Operating Voltage</th>
                                    <th>Power Watts (B)</th>
                                    <th>Quantity Day Time (A)</th>
                                    <th>Back-up Hours of use During Day time (c)</th>
                                    <th>Quantity night time (E)</th>
                                    <th>Back-up Hours of use During night time (D)</th>
                                    <th>
                                        <span>= A * B * C</span>
                                        Watt hour energy day time</th>
                                    <th>
                                        <span>= E * B * D</span>
                                        Watt hour energy night time</th>
                                    
                                </tr>
                                <tr *ngFor="let hero of loadSurveyorFormData; let i = index;">
                                    <td>
                                        <strong>{{hero?.lsf_load_category}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_device_description}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{opSource[hero?.lsf_operating_source]}}</strong>
                                    </td>
                                    <td>
                                        <strong>220~240V</strong>

                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_power_watts}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_quantity_day_time}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_backup_hours_of_use_during_day_time}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_quantity_night_time}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_backup_hours_of_use_during_night_time}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_watt_hour_energy_day_time}}</strong>
                                    </td>
                                    <td>
                                        <strong>{{hero?.lsf_watt_hour_energy_night_time}}</strong>
                                    </td>
                                    
                                </tr>


                            </table>
                        </div>
                    </p-panel> -->


                    <!-- <p-panel header="Audit Details:" [toggleable]="true">
                        <div class="tab-content-detail">
                            <ul class="audit-status">
                                <li>
                                    <strong>Audit Status</strong>
                                    <span>Qualified</span>
                                </li>
                                <li>
                                    <strong>Remarks</strong>
                                    <span>(Need to show remarks which Auditor has given)</span>
                                </li>
                                <li>
                                    <strong>Auditor Detail</strong>
                                    <span>Gokuld</span>
                                </li>
                                <li>
                                    <strong>Date</strong>
                                    <span>11 Nov 2017</span>
                                </li>
                                <li>
                                    <strong></strong>
                                    <span></span>
                                </li>
                            </ul>
                        </div>
                     </p-panel>  -->



                </div>
                <!--@description: to Show Existing Projects and leads of mobile
                        @developer: Roshan
                    -->
                <div *ngIf="showForm=='audit_form'">
                    <div *ngIf="ongoingLead || coldLead || ongoingProject || rejectedProject" class="table-wrapper">
                        <div>
                            <h2 class="box-title">
                                Existing Leads:
                            </h2>
                        </div>
                        <!--Existing projects Code-->
                        <div class="table-wrapper">
                            <table cellpadding="0" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>Lead Id</th>
                                        <th>Project Id</th>
                                        <th>Name</th>
                                        <th>Address</th>
                                        <th>Lead Status</th>
                                        <th>Project Status</th>
                                        <th>Lead Mobile</th>
                                        <th>Alternate Mobile</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="ongoingLead.length>0">
                                    <tr *ngFor="let ongLd of ongoingLead; let i = index">
                                        <td>{{ongLd?.lead_id}}</td>
                                        <td>N/A</td>
                                        <td>{{ongLd?.consumer_full_name}}</td>
                                        <td>{{(ongLd?.address.trim() !='')?ongLd?.address:'N/A'}}</td>
                                        <td>Lead In Progress</td>
                                        <td>N/A</td>
                                        <td>{{ongLd?.lead_mobile}}</td>
                                        <td>{{ongLd?.consumer_mobileno}}</td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="coldLead.length>0">
                                    <tr *ngFor="let coldLd of coldLead; let j = index">
                                        <td>{{coldLd?.lead_id}}</td>
                                        <td>N/A</td>
                                        <td>{{coldLd?.consumer_full_name}}</td>
                                        <td>{{(coldLd?.address.trim()!='')?coldLd?.address:'N/A'}}</td>
                                        <td>Rejected Lead</td>
                                        <td>N/A</td>
                                        <td>{{coldLd?.lead_mobile}}</td>
                                        <td>{{coldLd?.consumer_mobileno}}</td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="ongoingProject.length>0">
                                    <tr *ngFor="let ongPj of ongoingProject; let k = index">
                                        <td>{{ongPj?.lead_id}}</td>
                                        <td>{{ongPj?.project_code}}</td>
                                        <td>{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                                        <td>{{ongPj?.address}}</td>
                                        <td>N/A</td>
                                        <td>Project In Progress</td>
                                        <td>{{ongPj?.lead_mobile}}</td>
                                        <td>{{ongPj?.consumer_mobileno}}</td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="rejectedProject.length>0">
                                    <tr *ngFor="let rejPj of rejectedProject; let l = index">
                                        <td>{{rejPj?.lead_id}}</td>
                                        <td>{{rejPj?.project_code}}</td>
                                        <td>{{rejPj?.consumer_full_name}}</td>
                                        <td>{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                                        <td>N/A</td>
                                        <td>Project Rejected</td>
                                        <td>{{rejPj?.lead_mobile}}</td>
                                        <td>{{rejPj?.consumer_mobileno}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- end survey-form do task-->
                <!-- start survey-form table  -->

                <!-- end survey-form table  -->
            </div>

            <!-- start project status page -->
            <div class="survey-page-left" *ngIf="showForm == 'project_status_form'">
                <!-- start survey-form -->
                <div class="survey-form audit-form">
                    <p-panel header="Customer Care Form:" [toggleable]="true">
                        <div class="tab-content-detail">
                            <h3>Consumer Personal Information</h3>
                            <div class="field-wrapper">
                                <label for="">First Name *</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_firstname}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Middle Name </label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_middlename}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Last Name *</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_lastname}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address 1.</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_address1}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address 2</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_address2}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Pincode</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_pincode}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">City</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_city}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">State</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_state}}</span>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Contact Number</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_mobileno}}</span>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Email ID</label>
                                <div class="form-field">
                                    <span>{{consumerProjectData?.cceld_email}}</span>
                                </div>
                            </div>

                        </div>
                    </p-panel>
                    <!-- proposed -->
                    <!-- <p-panel header="Customer Care Form:" [toggleable]="true"> -->
                    <div class="tab-content-detail">
                        <h3>Proposed Solution</h3>
                        <div class="field-wrapper">
                            <label for="">Project Title</label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_title}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Project Description </label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_description}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Project Type</label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_type}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Total Cost(â‚¹)</label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_total_cost}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">Advanced Payment(%)</label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_pre_payment_percentage}}</span>
                            </div>
                        </div>
                        <div class="field-wrapper">
                            <label for="">System Capacity(kW)</label>
                            <div class="form-field">
                                <span>{{consumerProjectData?.project_system_capacity}}</span>
                            </div>
                        </div>
                    </div>
                    <!-- </p-panel> -->
                    <!-- project status detailed part -->
                    <p-panel header="Project History" [toggleable]="true">
                        <div class="table-wrapper">
                            <table cellpadding="0" cellspacing="0">
                                <tr>
                                    <th>S.no.</th>
                                    <th>Role</th>
                                    <th>Name</th>
                                    <th>Checklist</th>
                                    <th>Completion</th>
                                    <th>Status</th>
                                    <th>Date & Time</th>
                                    <!-- <th></th> -->
                                </tr>
                                <ng-template ngFor let-projectData [ngForOf]="projectDetail" let-i="index">
                                    <tr *ngIf="projectData?.pstatus_lastmodifiedby">
                                        <!-- <tr *ngFor="let projectData of projectDetail; let i = index;"> -->
                                        <td>
                                            <strong>{{ i+1 }}</strong>
                                        </td>
                                        <td>
                                            <strong>{{projectData?.role_name}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{projectData?.emp_firstname}} {{projectData?.emp_middlename}}
                                                {{projectData?.emp_lastname}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{projectData?.psm_status}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{yesNo[projectData?.pstatus_checkliststatus]}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{isSuccess[projectData?.pstatus_checkliststatus]}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{projectData?.pstatus_lastmodifiedon}}</strong>
                                        </td>

                                    </tr>
                                </ng-template>


                            </table>
                        </div>
                    </p-panel>
                    <!-- rejection details -->

                    <p-panel header="Rejection History" [toggleable]="true">
                        <div class="table-wrapper">
                            <table cellpadding="0" cellspacing="0">
                                <tr>
                                    <th>S.no.</th>
                                    <th>Role</th>
                                    <th>Name</th>
                                    <th>Checklist</th>
                                    <th>Remarks</th>

                                    <!-- <th></th> -->
                                </tr>
                                <ng-template ngFor let-rejectionData [ngForOf]="projectRejectionData" let-i="index">
                                    <tr *ngIf="rejectionData?.role_name">
                                        <td>
                                            <strong>{{ i+1 }}</strong>
                                        </td>
                                        <td>
                                            <strong>{{rejectionData?.role_name}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{rejectionData?.emp_firstname}} {{projectData?.emp_middlename}}
                                                {{projectData?.emp_lastname}}</strong>
                                        </td>
                                        <td>
                                            <strong>{{rejectionData?.psm_status}}</strong>
                                        </td>

                                        <td>
                                            <strong>{{rejectionData?.prd_remarks}}</strong>
                                        </td>
                                    </tr>
                                </ng-template>
                            </table>
                        </div>
                    </p-panel>
                    <!-- add more code -->
                </div>

            </div>

            <!-- end project status page -->



            <div class="survey-page-right" *ngIf="!isListing && checklistStatus">
                <div class="dashboard-inner">
                    <h2>Project Checklists Details</h2>
                    <form *ngIf="!actionLoader" id="surveyor_checklist_submit" [formGroup]="checklistSubmitForm"
                        (ngSubmit)="changeProjectStatus()">
                        <div class="col-md-6">
                            <div class="form-field">
                                <div class="field-addon">
                                    <span class="field-icon"></span>
                                    <ng-select [options]="ChecklistItems" formControlName="checklist_name"
                                        placeholder="Select Checklist" (selected)="checkIfRemarkable($event.value)">
                                    </ng-select>
                                </div>
                                <div class="error"
                                    *ngIf="checklistSubmitForm.controls?.checklist_name?.errors?.required && isSubmitChecklist">
                                    This Is Required
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <!-- <div class="form-field">
                                <h3>Checklist Status</h3>
                                <div class="field-addon">
                                    <span>
                                        <label for="">
                                            <input type="radio" value="0" name="checklist_status" formControlName="checklist_status"> No</label>
                                    </span>
                                    <span>
                                        <label for="">
                                            <input type="radio" value="1" name="checklist_status" formControlName="checklist_status"> Yes</label>
                                    </span>
                                </div>
                                <div class="error" *ngIf="checklistSubmitForm.controls?.checklist_status?.errors?.required && isSubmitChecklist">
                                    This Is Required
                                </div>
                            </div> -->
                            <div *ngIf="isRemarkable">
                                <textarea name="remarks" formControlName="remarks"
                                    placeholder="Enter Remarks.."></textarea>
                                <div class="error"
                                    *ngIf="checklistSubmitForm.controls?.remarks?.errors?.required && isSubmitChecklist">
                                    This Is Required
                                </div>
                            </div>
                        </div>

                        <div class="actions text-center">
                            <input type="submit" class="btn btn-green btn-md" value="Submit">
                        </div>
                    </form>
                    <div *ngIf="actionLoader=='checklist_loader'">
                        <img src="/assets/images/loader1.gif" alt="LUMINOUS" />
                    </div>
                </div>
                <div class="dashboard-inner" *ngIf="isListing == false">
                    <h3>Uploaded Documents</h3>
                    <div *ngIf="actionLoader=='uploadedDocs_loader'">
                        <img src="/assets/images/loader1.gif" alt="LUMINOUS" />
                    </div>
                    <div *ngIf="!actionLoader">
                        <div *ngFor="let docs of projectDocuments">
                            <div
                                *ngIf="['jpeg', 'jpg', 'png', 'JPEG', 'JPG', 'PNG'].indexOf(docs.pdoc_filename.split('.').pop())!=-1">
                                <a href="{{baseurl}}{{docs.pdoc_filename}}" target="_blank">
                                    <img width="200px" src="{{baseurl}}{{docs.pdoc_filename}}">
                                </a>
                                <div>{{docs.pdoc_type}}</div>
                            </div>
                            <div *ngIf="['pdf', 'PDF'].indexOf(docs.pdoc_filename.split('.').pop())!=-1">
                                <a href="{{baseurl}}{{docs.pdoc_filename}}" target="_blank">
                                    <img width="200px" src="/assets/images/pdf_image.png">
                                </a>
                                <div>{{docs.pdoc_type}}</div>
                            </div>
                            <div
                                *ngIf="['doc', 'docx', 'DOC', 'DOCX'].indexOf(docs.pdoc_filename.split('.').pop())!=-1">
                                <a href="{{baseurl}}{{docs.pdoc_filename}}" target="_blank">
                                    <img width="200px" src="/assets/images/docx.png">
                                </a>
                                <div>{{docs.pdoc_type}}</div>
                            </div>
                            <div
                                *ngIf="['xls', 'xlsx', 'csv', 'XLS', 'XLSX', 'CSV'].indexOf(docs.pdoc_filename.split('.').pop())!=-1">
                                <a href="{{baseurl}}{{docs.pdoc_filename}}" target="_blank">
                                    <img width="200px" src="/assets/images/xls.png">
                                </a>
                                <div>{{docs.pdoc_type}}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="survey-page-right">
                <h2>Upload Attachments</h2>
                <h3>Update Milestone</h3>
                <form action="">
                    <div>
                        <select name="" id="">
                            <option value="">Audit</option>
                            <option value="">Audit</option>
                            <option value="">Audit</option>
                        </select>
                    </div>
                    <div class="field-addon">
                        <span>
                            <label for="">
                                <input type="radio" name="option"> Yes</label>
                        </span>
                        <span>
                            <label for="">
                                <input type="radio" name="option"> No</label>
                        </span>
                    </div>
                    <div>
                        <textarea name="" id="" placeholder="Enter Remarks.."></textarea>
                    </div>
                    <div class="btnset">
                        <button class="btn btn-green">Qualified</button>
                        <button class="btn btn-org">Disqualified</button>
                    </div>
                    <h3>
                        Upload Documents
                    </h3>
                    <div>
                        <select name="" id="">
                            <option value="">Audit</option>
                            <option value="">Audit</option>
                            <option value="">Audit</option>
                        </select>
                    </div>
                    <div class="place-img">
                        <img src="assets/images/cc-images/img-placeholder.jpg" alt="">
                    </div>
                    <div class="typ-file">
                        <p-fileUpload mode="basic" name="myfile[]" url="./upload.php" chooseLabel="Browse"></p-fileUpload>
                    </div>
                    <div>
                        <button class="btn btn-green">update</button>
                    </div>
                </form>
            </div> -->


        </div>
        <!-- end audit page -->
    </div>

    <!--@description: List all Leads and Project table
----@Developer: Roshan
-->
    <div class="container" *ngIf="isListing == 'all_leads_project'">
        <h2>All Leads And Project List</h2>
        <br>
        <div class="table-wrapper" *ngIf="allLeadData.length>0">
            <table>
                <thead>
                    <tr>
                        <th>Sr. No.</th>
                        <th>Lead Id</th>
                        <th>Project Id</th>
                        <th>Consumer Id</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Mobile</th>
                        <!-- <th>Type</th> -->
                        <th>Source</th>
                        <th>Lead Updated By</th>
                        <th>Project Created By</th>
                        <th>Lead Status</th>
                        <th>Project Status</th>
                        <th>Lead Updated On</th>
                        <th>Detail</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of allLeadData; let i = index" class="highlight-row">
                        <td>{{i+1}}</td>
                        <td>{{data?.lead_id}}</td>
                        <td>{{data?.project_code}}</td>
                        <td>{{data?.consumer_code}}</td>
                        <td>{{data?.cceld_firstname}}</td>
                        <td>{{data?.cceld_lastname}}</td>
                        <td>{{data?.lead_mobile}}</td>
                        <!-- <td>{{data?.type}}</td> -->
                        <td>{{data?.source}}</td>
                        <td>{{data?.emp_lead_name}}</td>
                        <td>{{data?.emp_project_name}}</td>
                        <td>{{data?.lead_status_name}}</td>
                        <td>{{data?.pmstate_name}}</td>
                        <td>{{data?.lead_modifiedon | date: format: mediumDate}}</td>
                        <td><a href="javascript:void(0)" (click)="DetailForLead(data?.lead_id)">Detail</a></td>
                    </tr>
                </tbody>
            </table>
            <style>
                ul {
                    overflow: hidden;
                }

                li {
                    display: inline-block;
                }
            </style>
            <ul *ngIf="allLeadData" style="white-space:nowrap;">

                <li>
                    <a>Page {{pages}} of {{pageCount}}</a>
                </li>
                <li>
                    <div class="custom-pagination">
                        <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                            <input type="number" formControlName="page_number" class="" min="0"
                                max="{{pageCount}}" (keypress)=_keyPress($event)>
                            <button type="submit" class="btn btn-blue btn-md">Go</button>
                            <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page
                                number
                                must be less than or
                                equal to {{pageCount}}</span>
                        </form>
                    </div>
                </li>
            </ul>
        </div>
        <div class="no-data" *ngIf="allLeadData.length<=0">
            No Data
        </div>
    </div>
    <!--End List All Project and List-->

    <div class="container" *ngIf="isListing == 'detail_for_leads'">
        <div class="survey-form audit-form">
            <p-panel header="Customer Care (CCE) Form" class="luminous-panel-heading" [toggleable]="true">
                <div class="tab-content-detail">
                    <h3>Consumer Personal Information</h3>
                    <div class="field-wrapper">
                        <label for="">First Name *</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_firstname}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Middle Name </label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_middlename}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Last Name *</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_lastname}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Address 1.</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_address1}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Address 2</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_address2}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Pincode</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_pincode}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">City</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_cityid}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">State</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_stateid}}</span>
                        </div>
                    </div>

                    <div class="field-wrapper">
                        <label for="">Contact Number</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_mobileno}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Email ID</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_email}}</span>
                        </div>
                    </div>

                </div>
            </p-panel>

            <!---->
            <p-panel header="Survey Form" class="luminous-panel-heading" [toggleable]="true">
                <div class="tab-content-detail">
                    <h3>Electric Parameter</h3>
                    <div class="field-wrapper">
                        <label for="">Sanctioned Load Capacity</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_sanctioned_load_capacity}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Type of Connection</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_connection_type}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Main Line Transformer Status (If installed by customer)</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_mainline_transformer_status]}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Transformer Capacity</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_transformer_capacity}}</span>
                        </div>
                    </div>
                    <h3>Existing Power Back-Up Solutions</h3>

                    <div class="field-wrapper">
                        <label for="">Availability of Grid (7 AM-6 PM)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_availability_of_grid1}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Availability of Grid (6PM-7 AM)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_availability_of_grid2}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Minimum Running Load in day time (7 AM-6 PM)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_min_running_loadin_daytime}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Load running after (6 PM)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_load_running_after6}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Operation Hours of Critical Load (Back up Hours)

                        </label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_operation_hour_of_critical_load}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Termination DB/LT panel capacity</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_secondary_source_of_supply_if_available}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Evacuation Voltage</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_evacuation_voltage}}</span>
                        </div>
                    </div>

                    <h3>
                        SPACE Availability
                    </h3>

                    <div class="field-wrapper">
                        <label for="">Type of Roof</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_type_of_roof}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Shadow Free Area Available</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_shadow_free_area}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Other Spaces Available for Installation</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_other_spaces_available_for_installation}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Chipping on roof allowance</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_chipping_on_roof_allowance}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Can the panels be mounted facing towards true south</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_can_the_panels_be_mounted_facing_towards_true_south}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">In case of non true south sites (mention the diflection / azimuth angle)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_incase_of_nontrue_southsites}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">In case of shed, is the drilling allowed on it</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_incase_of_shed_isdrill_allowed]}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Is the shed facing towards true south</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_isthe_shed_facing_towards_true_south]}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Details of Shed</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_details_of_shed}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Area of the place where PCU / Battery to be placed</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_area_of_the_place_where_pcu}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Ventilation Available in Battery/PCU Room</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_ventilation_available_in_batterypcu_room]}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Distance from Roof to Inverter / Battery Room</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_distance_from_roof_to_inverter_battery_room}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Distance from Inverter / Battery Room to LT Board</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_distance_from_inverter_battery_room_to_lt_board}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Length of wire-run from each array to Inverter</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_length_of_wirerun_from_each_array_to_inverter}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Space Available for Secure Storage of Material</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_space_available_for_secure_storage_of_material]}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Space available for earthing</label>
                        <div class="form-field">
                            <span>{{yesNo[detailLead?.sf_space_available_for_earthing]}}</span>
                        </div>
                    </div>
                    <h3>Shadow Consideration</h3>
                    <div class="field-wrapper">
                        <label for="">Height of the Parapet Wall</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_height_of_the_parapet_wall}}</span>
                        </div>
                    </div>


                    <div class="field-wrapper">
                        <label for="">Protruding Objects/Mumty in installation location(water tank,
                            Dish,Antennae)</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_protruding_objects_mumty_in_installation_location}}</span>
                        </div>
                    </div>

                    <div class="field-wrapper">
                        <label for="">Details of High Altitude Trees/Buildings facing south</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_details_of_high_altitude_trees_buildings_facing_south}}</span>
                        </div>
                    </div>

                    <div class="field-wrapper">
                        <label for="">Latitude, Longitude of site</label>
                        <div class="form-field">
                            <span>{{detailLead?.sf_latitude_longitude_of_site}}</span>
                        </div>
                    </div>

                </div>
            </p-panel>
            <!---->

            <!----->
            <p-panel header="Solution Designer Form" class="luminous-panel-heading" [toggleable]="true">
                <div class="field-wrapper">
                    <label for="">Solution Type</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_solution_type}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Inverter Rating</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_inverter_rating}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Structure Type</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_structure_type}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">No Of Solar Panel</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_number_of_solar_panel}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Module Capacity</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_module_capacity}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Panel Type</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_panel_type}}</span>
                    </div>
                </div>

                <!-- <div class="field-wrapper">
                                    <label for="">Height In MM</label>
                                    <div class="form-field">
                                        <span>{{detailLead?.proposal_height_mm}}</span>
                                    </div>
                            </div> -->

                <div class="gold_wrapper">
                    <div class="field-wrapper">
                        <label for="">Project Value Gold</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_project_value_gold}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 1st Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_advanced}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 2nd Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_payment_2}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 3rd Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_payment_3}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Solar PV Panel</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_solar_pv_panels_gold}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Earthing PV Potection System</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_earthing_pv_protection_system_gold}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">EMI Gold</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_emi_gold}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">EMI Gold</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_emi_gold}}</span>
                        </div>
                    </div>
                </div>

                <div class="silver_wrapper">
                    <div class="field-wrapper">
                        <label for="">Project Value Gold</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_project_value_silver}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 1st Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_advance_silver}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 2nd Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_advance_silver_1}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Project Advance 3rd Tranche</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_advance_silver_2}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Solar PV Panel</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_solar_pv_panels_silver}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">Earthing PV Potection System</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_earthing_pv_protection_system_silver}}</span>
                        </div>
                    </div>
                    <div class="field-wrapper">
                        <label for="">EMI Silver</label>
                        <div class="form-field">
                            <span>{{detailLead?.proposal_emi_silver}}</span>
                        </div>
                    </div>
                </div>

                <div style="width: 100%; clear: both;"></div>

                <!-- <div class="field-wrapper">
                                    <label for="">Specific Energy</label>
                                    <div class="form-field">
                                        <span>{{detailLead?.proposal_specific_energy}}</span>
                                    </div>
                            </div> -->

                <div class="field-wrapper">
                    <label for="">Specific Yield</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_global_solr_irr}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Electricity Tarrif</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_electricity_terrif}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Service Support</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_service_support}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Proposal Amc</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_amc}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">No Of SPGS</label>
                    <div class="form-field">
                        <span>{{detailLead?.proposal_no_of_spgs}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Discom</label>
                    <div class="form-field">
                        <span>{{detailLead?.discom}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Structure Brief</label>
                    <div class="form-field">
                        <span>{{detailLead?.StrucBrief}}</span>
                    </div>
                </div>

                <div class="field-wrapper">
                    <label for="">Average Power Cut</label>
                    <div class="form-field">
                        <span>{{detailLead?.AvgPowerCut}}</span>
                    </div>
                </div>

            </p-panel>
            <!----->

            <!-- project status detailed part -->
            <p-panel header="Project History" class="luminous-panel-heading" [toggleable]="true">
                <div class="table-wrapper">
                    <table cellpadding="0" cellspacing="0">
                        <tr>
                            <th>S.no.</th>
                            <th>Role</th>
                            <th>Name</th>
                            <th>Checklist</th>
                            <th>Completion</th>
                            <th>Status</th>
                            <th>Date & Time</th>
                            <!-- <th></th> -->
                        </tr>
                        <ng-template ngFor let-projectData [ngForOf]="projectDetail" let-i="index">
                            <tr *ngIf="projectData?.pstatus_lastmodifiedby">
                                <!-- <tr *ngFor="let projectData of projectDetail; let i = index;"> -->
                                <td>
                                    <strong>{{ i+1 }}</strong>
                                </td>
                                <td>
                                    <strong>{{projectData?.role_name}}</strong>
                                </td>
                                <td>
                                    <strong>{{projectData?.emp_firstname}} {{projectData?.emp_middlename}}
                                        {{projectData?.emp_lastname}}</strong>
                                </td>
                                <td>
                                    <strong>{{projectData?.psm_status}}</strong>
                                </td>
                                <td>
                                    <strong>{{yesNo[projectData?.pstatus_checkliststatus]}}</strong>
                                </td>
                                <td>
                                    <strong>{{isSuccess[projectData?.pstatus_checkliststatus]}}</strong>
                                </td>
                                <td>
                                    <strong>{{projectData?.pstatus_lastmodifiedon}}</strong>
                                </td>

                            </tr>
                        </ng-template>


                    </table>
                </div>
            </p-panel>
            <!-- rejection details -->

            <p-panel header="Rejection History" class="luminous-panel-heading" [toggleable]="true">
                <div class="table-wrapper">
                    <table cellpadding="0" cellspacing="0">
                        <tr>
                            <th>S.no.</th>
                            <th>Role</th>
                            <th>Name</th>
                            <th>Checklist</th>
                            <th>Remarks</th>

                            <!-- <th></th> -->
                        </tr>
                        <ng-template ngFor let-rejectionData [ngForOf]="projectRejectionData" let-i="index">
                            <tr *ngIf="rejectionData?.role_name">
                                <td>
                                    <strong>{{ i+1 }}</strong>
                                </td>
                                <td>
                                    <strong>{{rejectionData?.role_name}}</strong>
                                </td>
                                <td>
                                    <strong>{{rejectionData?.emp_firstname}} {{projectData?.emp_middlename}}
                                        {{projectData?.emp_lastname}}</strong>
                                </td>
                                <td>
                                    <strong>{{rejectionData?.psm_status}}</strong>
                                </td>

                                <td>
                                    <strong>{{rejectionData?.prd_remarks}}</strong>
                                </td>
                            </tr>
                        </ng-template>
                    </table>
                </div>
            </p-panel>
            <p-panel header="Data With Duplicate Leads" class="luminous-panel-heading" [toggleable]="true">
                <div class="table-wrapper">
                    <table cellpadding="0" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Lead Id</th>
                                <th>Project Id</th>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Lead Status</th>
                                <th>Project Status</th>
                                <th>Lead Mobile</th>
                                <th>Cunsumer Mobile</th>
                                <!-- <th>Query/Reason</th>
                                                <th>Action</th> -->
                            </tr>
                        </thead>
                        <tbody *ngIf="ongoingLead">
                            <tr *ngFor="let ongLd of ongoingLead; let i = index">
                                <td>{{ongLd?.lead_id}}</td>
                                <td>N/A</td>
                                <td>{{ongLd?.consumer_full_name}}</td>
                                <td>{{(ongLd?.address.trim() !='')?ongLd?.address:'N/A'}}</td>
                                <td>Lead In Progress</td>
                                <td>N/A</td>
                                <td>{{ongLd?.lead_mobile}}</td>
                                <td>{{ongLd?.consumer_mobileno}}</td>
                                <!-- <td><input type="text" (input)="setQueryText($event.target.value, i, 'ong')"></td>
                                                <td><button type="button" (click)="updateExistingLead(ongLd?.lead_id, i, 'ong')">Click</button></td> -->
                            </tr>
                        </tbody>

                        <tbody *ngIf="coldLead">
                            <tr *ngFor="let coldLd of coldLead; let j = index">
                                <td>{{coldLd?.lead_id}}</td>
                                <td>N/A</td>
                                <td>{{coldLd?.consumer_full_name}}</td>
                                <td>{{(coldLd?.address.trim()!='')?coldLd?.address:'N/A'}}</td>
                                <td>Rejected Lead</td>
                                <td>N/A</td>
                                <td>{{coldLd?.lead_mobile}}</td>
                                <td>{{coldLd?.consumer_mobileno}}</td>
                                <!-- <td><input type="text" (input)="setQueryText($event.target.value, j, 'cld')"></td>
                                                <td><button type="button" (click)="updateExistingLead(coldLd?.lead_id, j, 'cld')">Click</button></td> -->
                            </tr>
                        </tbody>

                        <tbody *ngIf="ongoingProject">
                            <tr *ngFor="let ongPj of ongoingProject; let k = index">
                                <td>{{ongPj?.lead_id}}</td>
                                <td>{{ongPj?.project_code}}</td>
                                <td>{{ongPj?.consumer_full_name}}</td>
                                <td>{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                                <td>N/A</td>
                                <td>Project In Progress</td>
                                <td>{{ongPj?.lead_mobile}}</td>
                                <td>{{ongPj?.consumer_mobileno}}</td>
                                <!-- <td><input type="text" (input)="setQueryText($event.target.value, k, 'ogp')"></td>
                                                <td><button type="button" (click)="updateExistingProject(ongPj?.project_id, k, 'ogp')">Click</button></td> -->
                            </tr>
                        </tbody>

                        <tbody *ngIf="rejectedProject">
                            <tr *ngFor="let rejPj of rejectedProject; let l = index">
                                <td>{{rejPj?.lead_id}}</td>
                                <td>{{rejPj?.project_code}}</td>
                                <td>{{rejPj?.consumer_full_name}}</td>
                                <td>{{(ongPj?.address.trim()!='')?ongPj?.address:'N/A'}}</td>
                                <td>N/A</td>
                                <td>Project Rejected</td>
                                <td>{{rejPj?.lead_mobile}}</td>
                                <td>{{rejPj?.consumer_mobileno}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </p-panel>
            <!-- add more code -->
        </div>
    </div>

    <div id="container" *ngIf="isListing == 'view_hand_off'">
        <div id="content">
            <div class="row">
                <div class="col-12">
                    <div class="top-title d-flex align-items-center justify-content-between">
                        <!-- <h2>Create Handoff</h2> -->
                        <a href="javascript:void(0)" (click)="getIntercationLog(handoff_data?.h_data.consumerProject?.project_id)" class="btn viwintrbtn">View Interaction Log</a>
                        <a href="javascript:void(0)" (click)="getLeadList_actionable()"  class="btn p-1">Close</a>
                    </div>
                </div>
    
            </div>
            <div class="project-wrap">
                <div class="row">
                    <div class="col-12">
                        <div class="title d-flex align-items-center justify-content-between">
                            <div class="left">
                                <h3>Sales to Project Management Handing Over Document</h3>
                            </div>
                            <div class="right date d-flex align-items-center justify-content-between">
                                <strong>Date</strong>
                                <span> {{handoff_data.h_created_on | date: 'dd/MM/yyyy'}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="customer-detail">
                    <div class="row">
                        <div class="col-12">
                            <div class="divide-heading">
                                <h4>Customer Details</h4>
                            </div>
                            <div class="row-wrap border-top-0 d-flex align-items-center justify-content-between">
                                <div class="left">
                                    <strong>Proposal ID &amp; Date</strong>
                                    <span>{{handoff_data.h_data.proposalDetails.proposal_code}} (generated
                                        on
                                        {{handoff_data.h_data.proposalDetails.proposal_created_on | date: 'dd/MM/yyyy' }})</span>
                                </div>
                                <div class="right">
                                    <strong>Project ID</strong>
                                    <span>{{handoff_data.h_data.consumerProject.project_code}}</span>
                                </div>
                            </div>
                            <div class="row-wrap d-flex align-items-center justify-content-between">
                                <div class="left">
                                    <strong>Customer Name</strong>
                                    <span>{{handoff_data.h_data.customer_name}}</span>
                                </div>
                                <div class="right">
                                    <strong>Customer ID</strong>
                                    <span>{{handoff_data.h_data.consumer.consumer_code}}</span>
                                </div>
                            </div>
                            <div class="row-wrap white d-flex align-items-center justify-content-between">
                                <div class="left border-right-0">
                                    <strong>Site Address</strong>
                                    {{handoff_data.h_data?.cceLeaddata?.cceld_address1}}
                                        {{handoff_data.h_data?.cceLeaddata?.cceld_address2}}
                                        {{handoff_data.h_data?.district_name}}
                                        {{handoff_data.h_data?.state_name}}-{{handoff_data.h_data?.cceLeaddata?.cceld_pincode}}
                                </div>
    
                            </div>
                            <div class="row-wrap d-flex align-items-center justify-content-between">
                                <div class="left border-right-0">
                                    <strong>GST No (if applicable)</strong>
                                    <span>{{handoff_data.h_data.consumer.consumer_gst}}</span>
                                </div>
    
                            </div>
                        </div>
                    </div>
                </div>
                <div class="project-details">
                    <div class="row">
                        <div class="col-12">
                            <div class="divide-heading">
                                <h4>Project Details</h4>
                            </div>
                            <div class="row-wrap d-flex justify-content-between">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Solution Type</strong>
                                </div>
                                <div class="divide-three d-flex">
                                    <ul class="d-flex w-100 border-none">
                                        <li>
                                            <strong>Installation Type</strong>
                                            <!-- <span>{{(handoff_data.h_data?.proposalDetails?.proposal_solution_type == 1) ?"Grid-Tied" :"Off-Grid" }}</span> -->

                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 1">Grid-Tied</span>
                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 2">Off-Grid</span>
                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 3">Hybrid</span>
                                        </li>
                                        <!-- <li>
                                            <strong>Package</strong>
                                            <span>{{(handoff_data.h_data?.proposalDetails?.proposal_pricing_options == 1) ? "GOLD" : (HandoffLeadListingData?.proposalDetails?.proposal_pricing_options == 2) ? "SILVER" : "GOLD - SILVER"}}</span>
                                        </li> -->
                                        <li>
                                            <strong>DC Capacity</strong>
                                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_dc_capacity}}</span>
                                        </li>
                                        <li>
                                            <strong>Phases</strong>
                                            <span>{{handoff_data?.h_data?.surveyForm?.sf_connection_type}} <span>Phase</span></span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                             
                          <div class="row-wrap d-flex justify-content-between">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Panel Rating / Quantity</strong>
                                </div>
                                <div class="divide-three d-flex">
                                    <ul class="d-flex w-100 border-none">
                                        <li>
                                            <strong>Panel Type</strong>
                                            

                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 1">72-Cell Poly-Crystalline</span>
                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 2">144-Cell Mono PERC Half Cut</span>
                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 3">72-Cell Mono Crystalline</span>
                                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 4">72-Cell Mono Crystalline PERC</span>
                                        </li>
                                        
                                        <li>
                                            <strong>Module capacity</strong>
                                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_module_capacity}}</span>
                                        </li>
                                        <li>
                                            <strong>Panel Qty</strong>
                                            <span>{{handoff_data.h_data?.proposalDetails?.proposal_number_of_solar_panel}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row-wrap white  d-flex justify-content-between" *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type =='2' ">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Batteries</strong>
                                </div>
                                <div class="divide-two d-flex">
                                      <ul class="d-flex w-100 border-none">
                                            <li>
                                                <strong>Battery Type</strong>
                                                <span>{{handoff_data?.h_data?.proposalDetails?.proposal_solar_battery}}</span>
                                            </li>
                                            <li>
                                                <strong *ngIf="handoff_data?.h_data?.proposalDetails?.battery_nos">Battery Quantity</strong>
                                                <span>{{handoff_data?.h_data?.proposalDetails?.battery_nos}}</span>
                                            </li>
                                        </ul>
                                </div>
                            </div>

                            <div class="row-wrap d-flex justify-content-between" *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type =='2' ">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Battery Rating / Quantity</strong>
                                </div>
                                <div class="divide-three d-flex">
                                    <ul class="d-flex w-100 border-none">
                                        <li>
                                            <strong>Battery</strong>
                                            <span>{{handoff_data.h_data?.proposalDetails?.proposal_solar_battery}}</span>
                                        </li>
                                        
                                        <li>
                                            <strong>Battery H-Series/L-Series</strong>
                                            <span>{{handoff_data.h_data?.proposalDetails?.battery_series=='5' ? 'H Series / 5 Years': handoff_data.h_data?.proposalDetails?.battery_series=='3' ? 'L Series / 3 Years': ''}}</span>
                                        </li>
                                        <li>
                                            <strong>Battery Qty</strong>
                                            <span>{{handoff_data.h_data?.proposalDetails?.battery_nos}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>



                            <div class="row-wrap d-flex justify-content-between">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Other Customisation</strong>
                                </div>
                                <div class="customize-area d-flex align-items-center">
                                    {{handoff_data.h_customization_remark}}
                                </div>
                            </div>
                             
                              <div class="row-wrap d-flex justify-content-between" *ngIf="handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='1' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='2' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' " >
                                        <div class="docs-title d-flex  align-items-center ">
                                            <strong>Inverter Rating/ Quantity</strong>
                                        </div>
                                        <div class="divide-three d-flex"  >
                                            <ul class="d-flex w-100 border-none">
                                                <li>
                                                    <strong>Solar Inverter Rating (S.no.1)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Phase (S.no.1)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Quantity (S.no.1)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="row-wrap d-flex justify-content-between" *ngIf=" handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='2' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' " >
                                        <div class="docs-title d-flex  align-items-center ">
                                        </div>
                                        <div class="divide-three d-flex">
                                            <ul class="d-flex w-100 border-none">
                                                <li>
                                                    <strong>Solar Inverter Rating (S.no.2)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating2}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Phase (S.no.2)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase2}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Quantity (S.no.2)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity2}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="row-wrap d-flex justify-content-between" *ngIf="handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' " >
                                        <div class="docs-title d-flex  align-items-center ">
                                        </div>
                                        <div class="divide-three d-flex">
                                            <ul class="d-flex w-100 border-none">
                                                <li>
                                                    <strong>Solar Inverter Rating (S.no.3)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating3}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Phase (S.no.3)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase3}}</span>
                                                </li>
                                                <li>
                                                    <strong>Solar Inverter Quantity (S.no.3)</strong>
                                                    <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity3}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="row-wrap d-flex justify-content-between">
                                        <div class="docs-title d-flex  align-items-center ">
                                            <strong>Structure</strong>
                                        </div>
                                        <div class="divide-two d-flex">
                                            <div class="item top">
                                                <ul class="d-flex w-100 border-none">
                                                    <li>
                                                        <strong>Structure Type</strong>
                                                        <span>{{handoff_data?.h_data?.proposalDetails?.proposal_structure_type}}</span>
                                                    </li>
                                                    <li>
                                                        <strong>Structure BOM</strong>
                                                        <span>{{handoff_data?.h_data?.proposalDetails?.StrucBOM}}</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                        </div>
                    </div>
                </div>
                <div class="pricing-details">
                    <div class="row">
                        <div class="col-12">
                            <div class="divide-heading">
                                <h4>Pricing &amp; Other Terms</h4>
                            </div>
                            <div class="row-wrap white d-flex align-items-center justify-content-between">
                                <div class="left border-right-0">
                                    <strong>Solution Value including taxes (INR)</strong>
                                     <span
                                        *ngIf="handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">GOLD
                                        -
                                        â‚¹{{(handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount)}}</span>
                                    <span
                                        *ngIf="handoff_data.h_data?.proposalDetails?.proposal_project_value_silver && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver !=0" class="p-1">SILVER
                                        -
                                        â‚¹{{(handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver)}}</span>
                                </div>
    
                            </div>
                            <div class="row-wrap d-flex align-items-center justify-content-between">
                                <div class="left border-right-0">
                                    <strong>Payment Terms / Plan</strong>
                                    <span
                                        *ngIf="(handoff_data.plan_selected==1) && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">GOLD
                                        <span>{{handoff_data.h_data?.proposalDetails?.proposal_advanced}}-{{handoff_data.h_data?.proposalDetails?.proposal_payment_2}}-{{handoff_data.h_data?.proposalDetails?.proposal_payment_3}}</span><span *ngIf="handoff_data.h_data.proposalDetails.proposal_payment_4">-{{handoff_data.h_data?.proposalDetails?.proposal_payment_4}}
                                        </span>
                                    </span>
                                    <span
                                        *ngIf="(handoff_data.plan_selected==2) && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver !=0">SILVER
                                    <span>{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver}}-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1}}-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2}}</span><span *ngIf="handoff_data.h_data.proposalDetails.proposal_advance_silver_3">-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3}}</span>
                                      </span>
                                </div>
                            </div>
                            <div class="row-wrap white  d-flex justify-content-between"
                                *ngIf="(handoff_data.plan_selected==1) && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Payment GOLD Slabs
                                        (in INR)</strong>
                                </div>
                                <div class="divide-two">
                                    <div class="item top">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>P1</strong>
                                                <span>â‚¹
                                                    {{ ( handoff_data.h_data?.proposalDetails?.proposal_advanced?((handoff_data.h_data?.proposalDetails?.proposal_advanced* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                                            </li>
                                            <li>
                                                <strong>P2</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_2?((handoff_data.h_data?.proposalDetails?.proposal_payment_2* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="item bottom">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>P3</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_3?((handoff_data.h_data?.proposalDetails?.proposal_payment_3* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                                            </li>
                                            <li *ngIf="handoff_data.h_data?.proposalDetails?.proposal_payment_4">
                                                <strong>P4</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_4?((handoff_data.h_data?.proposalDetails?.proposal_payment_4* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
    
                            <div class="row-wrap white  d-flex justify-content-between"
                                *ngIf="(handoff_data.plan_selected==2) && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver !=0">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Payment SILVER Slabs
                                        (in INR)</strong>
                                </div>
                                <div class="divide-two">
                                    <div class="item top">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>P1</strong>
                                                <span>â‚¹
                                                    {{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                                            </li>
                                            <li>
                                                <strong>P2</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="item bottom">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>P3</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                                            </li>
                                            <li *ngIf="handoff_data.h_data?.proposalDetails?.proposal_advance_silver_4">
                                                <strong>P4</strong>
                                                <span>â‚¹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="(handoff_data.plan_selected == '1')" class="row-wrap   d-flex justify-content-between">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Other Inclusions/Commitments </strong>
                                </div>
                                <div class="divide-two">
                                    <div class="item top">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>Insurance</strong>
                                                <span>{{ handoff_data.h_data?.proposalDetails?.proposal_insurance_gold}}</span>
                                            </li>
                                            <li>
                                                <strong>Maintenance Visits</strong>
                                                <span>{{handoff_data.h_data?.proposalDetails?.proposal_maintenance_gold}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="item bottom">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>RMS</strong>
                                                <span>{{handoff_data.h_data?.proposalDetails?.proposal_remote_monitoring_system_gold}}</span>
                                            </li>
                                            <li>
                                                <strong>Any Other</strong>
                                                <span>  {{handoff_data.commitment_remark}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                             
                            <div *ngIf="(handoff_data.plan_selected == '2')" class="row-wrap   d-flex justify-content-between">
                                <div class="docs-title d-flex  align-items-center ">
                                    <strong>Other Inclusions/Commitments </strong>
                                </div>
                                <div class="divide-two">
                                    <div class="item top">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>Insurance</strong>
                                                <span>{{handoff_data.h_data?.proposalDetails?.proposal_insurance_silver}}</span>
                                            </li>
                                            <li>
                                                <strong>Maintenance Visits</strong>
                                                <span>{{handoff_data.h_data?.proposalDetails?.proposal_maintenance_silver}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="item bottom">
                                        <ul class="d-flex">
                                            <li>
                                                <strong>RMS</strong>
                                                <span>{{handoff_data.h_data?.proposalDetails?.proposal_remote_monitoring_system_silver}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div> 



                        </div>
                    </div>
                </div>
            </div> 
            <div class="project-document">
                <div class="row">
                    <div class="col-12">
                        <div class="title d-flex align-items-center justify-content-between">
                            <h3>Project Documents</h3>

                        </div>
                        <div class="doc-wrap d-flex justify-content-between">
                            <div class="upload">
                                <strong>Uploaded Document:</strong>
                                <ul class="d-flex flex-wrap">
                                    <li
                                        *ngFor="let projectDocuments of handoff_data.h_data?.ProjectDocuments; let i = index">
                                        <a href="{{baseurl}}{{projectDocuments.pdoc_filename}}" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                                viewBox="0 0 20 26">
                                                <g fill="none" fill-rule="nonzero">
                                                    <path fill="#E9E9E0"
                                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                                    <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                                    <path fill="#CC4B4C"
                                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                                    <g fill="#FFF">
                                                        <path
                                                            d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                                    </g>
                                                </g>
                                            </svg> 
                                            <span *ngIf="projectDocuments.pdoc_type != 'Add more files' && projectDocuments.pdoc_type != 'Other'" class="docnem">{{projectDocuments.pdoc_type}}</span>
                                            <span *ngIf="projectDocuments.pdoc_type === 'Add more files' || projectDocuments.pdoc_type === 'Other'" class="docnem">{{projectDocuments.pdoc_filename.split("/").pop()}}</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            </div>
                            </div>
                            </div>
            </div>
            <div class="remark-wrap d-flex  ">
                <h4 *ngIf="handoff_data.h_remark">Site surveyor remarks </h4>
                 <p>{{handoff_data.h_remark}}</p>
                <h4 style="margin-left: 15px;" *ngIf="handoff_data.is_reject_project_manager ==1 "  >Rejected remarks by project manager</h4>
                <p *ngIf="handoff_data.is_reject_project_manager ==1 " >{{handoff_remark.hrj_remark}}</p>
             </div>
            <div class="viewhandallocation" >
                <a class="btn mb-2" (click)="pmallocation(handoff_data.h_projectid)">Allocate</a>&nbsp;
                <a href="javascript:void(0)" (click)="RejectAllocationpopup(handoff_data.h_projectid)" class="btn mb-2">Reject</a>
            </div>
           
        </div>

    </div>

    <div class="box schedule-call-back" *ngIf="isListing == 'query_listing' && showQueryForm">
        <h2 class="box-title">Respond To Query</h2>
        <section class="box-content">

            <form id="query-respond" [formGroup]="queryRespondForm" (ngSubmit)="updateQuery(1)">
                <div class="field-wrapper">
                    <label for="">Customer Name</label>
                    <div class="form-field">
                        <input type="text" formControlName="uquery_name" placeholder="Customer Name">
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_name?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Email</label>
                    <div class="form-field">
                        <input type="text" formControlName="uquery_email" placeholder="Email">
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_email?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Contact Number</label>
                    <div class="form-field">
                        <input type="text" formControlName="uquery_mobile" placeholder="Contact Number" [readonly]=true>
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_mobile?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Address</label>
                    <div class="form-field">
                        <textarea formControlName="uquery_address" placeholder="Address"></textarea>
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_address?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Question</label>
                    <div class="form-field">
                        <input type="text" formControlName="uquery_question" placeholder="Question">
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_question?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Conversation Notes</label>
                    <div class="form-field">
                        <textarea formControlName="uquery_reply" placeholder="Conversation Notes"> </textarea>
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_reply?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <label for="">Duration (Minutes)</label>
                    <div class="form-field">
                        <input type="text" formControlName="uquery_duration" placeholder="Duration (Minutes)">
                        <div class="error"
                            *ngIf="queryRespondForm.controls?.uquery_duration?.errors?.required && isSubmitQueryUpdate">
                            {{lead_panal_form.BLANK_FIELD}}
                        </div>
                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="form-field">
                        <input type="hidden" formControlName="uquery_id">
                    </div>
                </div>
                <div class="form-actions">
                    <input class="button button-grey" type="button" value="Cancel" (click)='cancelQueryUpdation()'>
                    <input class="button button-blue" type="submit" value="Save">
                    <input class="button button-blue" type="button" value="Save & Create Lead"
                        (click)='updateCreateLead()'>
                </div>
            </form>
        </section>
    </div>


    <div id="fill-form-widget" class="manage-top-spaces">
        <div class="box fill-form mb-30" *ngIf="showCceForm">
            <h2 class="box-title">APPLICATION FROM</h2>
            <section class="box-content">

                <form id="lead-information" [formGroup]="customerFillFormRequest"
                    (ngSubmit)="submitConsumerFormRequest()">
                    <div class="form-n-script">
                        <div class="col-form">
                            <h3 class="mt0">Fill lead information below:-</h3>
                            <div class="field-wrapper">
                                <label for="">Lead Reference</label>
                                <div class="form-field">
                                    <select formControlName="cceld_reference">
                                        <option value="website">Website</option>
                                        <option value="social_media">Social Media</option>
                                        <option value="print_ads">Print Ads</option>
                                        <option value="tv">Tv</option>
                                        <option value="friends_and_family">Friends & Family</option>
                                        <option value="radio_channel">Radio</option>
                                        <option value="channel_partner">Channel Partner</option>
                                        <option value="others">Others</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">&nbsp;</label>
                                <div class="form-field ">
                                    <textarea formControlName="cceld_referenceremarks" cols="50" rows="3"
                                        placeholder="Add Remarks"></textarea>
                                </div>
                            </div>
                            <h3>Customer Information</h3>
                            <div class="field-wrapper">
                                <label for="">First Name</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps mandate-field" formControlName="cceld_firstname"
                                        placeholder="First Name">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_firstname?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Middle Name</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps" formControlName="cceld_middlename"
                                        placeholder="Middle Name">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Last Name</label>
                                <div class="form-field">
                                    <input type="text" class="text-caps mandate-field" formControlName="cceld_lastname"
                                        placeholder="Last Name">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_lastname?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Contact Number</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="cceld_mobileno"
                                        placeholder="Contact Number" maxlength="10">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_mobileno?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>

                            </div>
                            <div class="field-wrapper">
                                <label for="">Alternate Contact Number</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_alternatecntctno"
                                        placeholder="Alternate Contact Number" maxlength="10">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_alternatecntctno?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Name of contact person at site</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_contactperson"
                                        placeholder="Name of contact person at site">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Contact Number</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_contactnumber"
                                        placeholder="Contact Number" maxlength="10">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_contactnumber?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.MOBILENO_PATTERN}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Email ID</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_email" placeholder="Email ID">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_email?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.EMAIL_PATTERN}}
                                    </div>

                                </div>
                            </div>
                            <h3>Address Information</h3>
                            <div class="field-wrapper">
                                <label for="">Address1*</label>
                                <div class="form-field">
                                    <input class="mandate-field" type="text" formControlName="cceld_address1"
                                        placeholder="Address1">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_address1?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}
                                    </div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Address2</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_address2" placeholder="Address2">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Landmark</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_landmark" placeholder="Landmark">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Pincode</label>
                                <div class="form-field">
                                    <!-- <input type="text" formControlName="cceld_pincode" placeholder="Pincode"> -->

                                    <input class="form-text mandate-field" type="text" formControlName="cceld_pincode"
                                        placeholder="Pincode" (input)="knowYourStateCity($event.target.value)">
                                    <div class="error">
                                        <p *ngIf="isPincode == true"></p>
                                    </div>
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_pincode?.errors?.pattern && isSubmitCustomerFillFormRequest">

                                    </div>
                                    <div class="error"
                                        *ngIf="isPincode != true && customerFillFormRequest.controls?.cceld_pincode?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">State</label>
                                <div class="form-field">
                                    <!-- <select formControlName="cceld_state">
                                        <option value=0>Haryana</option>
                                        <option value=1>Punjab</option>
                                        <option value=2>UP</option>
                                        <option value=3>Bihar</option>
                                        <option value=4>Goa</option>
                                        <option value=5>Delhi</option>
                                        <option value=6>Gujrat</option>
                                        <option value=7>MP</option>
                                    </select> -->
                                    <ng-select class="mandate-field" [options]="stateList" formControlName="cceld_state"
                                        placeholder="Select State"></ng-select>
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_state?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">City</label>
                                <div class="form-field">
                                    <!-- <select formControlName="cceld_city">
                                        <option value=0>Ambala</option>
                                        <option value=1>Gurgaon</option>
                                        <option value=2>Zirakpur</option>
                                    </select> -->
                                    <ng-select class="mandate-field" [options]="cityList" formControlName="cceld_city"
                                        placeholder="Select City"></ng-select>
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_city?.errors?.required && isSubmitCustomerFillFormRequest">
                                        {{lead_panal_form.BLANK_FIELD}}</div>

                                </div>
                            </div>

                            <div class="field-wrapper">
                                <label for="">Locality</label>
                                <div class="form-field">
                                    <!-- <input type="text" formControlName="cceld_locality" placeholder="Locality"> -->
                                    <ng-select [options]="localityList" formControlName="cceld_locality"
                                        placeholder="Select Locality"></ng-select>
                                </div>
                            </div>


                            <div class="field-wrapper">
                                <label for="">Country</label>
                                <div class="form-field">
                                    <select class="mandate-field" formControlName="cceld_country">
                                        <option value="4">Afghanistan</option>
                                        <option value="248">Ã…land Islands</option>
                                        <option value="8">Albania</option>
                                        <option value="12">Algeria</option>
                                        <option value="16">American Samoa</option>
                                        <option value="20">Andorra</option>
                                        <option value="24">Angola</option>
                                        <option value="660">Anguilla</option>
                                        <option value="10">Antarctica</option>
                                        <option value="28">Antigua and Barbuda</option>
                                        <option value="32">Argentina</option>
                                        <option value="51">Armenia</option>
                                        <option value="533">Aruba</option>
                                        <option value="36">Australia</option>
                                        <option value="40">Austria</option>
                                        <option value="31">Azerbaijan</option>
                                        <option value="44">Bahamas</option>
                                        <option value="48">Bahrain</option>
                                        <option value="50">Bangladesh</option>
                                        <option value="52">Barbados</option>
                                        <option value="112">Belarus</option>
                                        <option value="56">Belgium</option>
                                        <option value="84">Belize</option>
                                        <option value="204">Benin</option>
                                        <option value="60">Bermuda</option>
                                        <option value="64">Bhutan</option>
                                        <option value="68">Bolivia, Plurinational State of</option>
                                        <option value="535">Bonaire, Sint Eustatius and Saba</option>
                                        <option value="70">Bosnia and Herzegovina</option>
                                        <option value="72">Botswana</option>
                                        <option value="74">Bouvet Island</option>
                                        <option value="76">Brazil</option>
                                        <option value="86">British Indian Ocean Territory</option>
                                        <option value="96">Brunei Darussalam</option>
                                        <option value="100">Bulgaria</option>
                                        <option value="854">Burkina Faso</option>
                                        <option value="108">Burundi</option>
                                        <option value="116">Cambodia</option>
                                        <option value="120">Cameroon</option>
                                        <option value="124">Canada</option>
                                        <option value="132">Cape Verde</option>
                                        <option value="136">Cayman Islands</option>
                                        <option value="140">Central African Republic</option>
                                        <option value="148">Chad</option>
                                        <option value="152">Chile</option>
                                        <option value="156">China</option>
                                        <option value="162">Christmas Island</option>
                                        <option value="166">Cocos (Keeling) Islands</option>
                                        <option value="170">Colombia</option>
                                        <option value="174">Comoros</option>
                                        <option value="178">Congo</option>
                                        <option value="180">Congo, the Democratic Republic of the</option>
                                        <option value="184">Cook Islands</option>
                                        <option value="188">Costa Rica</option>
                                        <option value="384">CÃ´te d'Ivoire</option>
                                        <option value="191">Croatia</option>
                                        <option value="192">Cuba</option>
                                        <option value="531">CuraÃ§ao</option>
                                        <option value="196">Cyprus</option>
                                        <option value="203">Czech Republic</option>
                                        <option value="208">Denmark</option>
                                        <option value="262">Djibouti</option>
                                        <option value="212">Dominica</option>
                                        <option value="214">Dominican Republic</option>
                                        <option value="218">Ecuador</option>
                                        <option value="818">Egypt</option>
                                        <option value="222">El Salvador</option>
                                        <option value="226">Equatorial Guinea</option>
                                        <option value="232">Eritrea</option>
                                        <option value="233">Estonia</option>
                                        <option value="231">Ethiopia</option>
                                        <option value="238">Falkland Islands (Malvinas)</option>
                                        <option value="234">Faroe Islands</option>
                                        <option value="242">Fiji</option>
                                        <option value="246">Finland</option>
                                        <option value="250">France</option>
                                        <option value="254">French Guiana</option>
                                        <option value="258">French Polynesia</option>
                                        <option value="260">French Southern Territories</option>
                                        <option value="266">Gabon</option>
                                        <option value="270">Gambia</option>
                                        <option value="268">Georgia</option>
                                        <option value="276">Germany</option>
                                        <option value="288">Ghana</option>
                                        <option value="292">Gibraltar</option>
                                        <option value="300">Greece</option>
                                        <option value="304">Greenland</option>
                                        <option value="308">Grenada</option>
                                        <option value="312">Guadeloupe</option>
                                        <option value="316">Guam</option>
                                        <option value="320">Guatemala</option>
                                        <option value="831">Guernsey</option>
                                        <option value="324">Guinea</option>
                                        <option value="624">Guinea-Bissau</option>
                                        <option value="328">Guyana</option>
                                        <option value="332">Haiti</option>
                                        <option value="334">Heard Island and McDonald Islands</option>
                                        <option value="336">Holy See (Vatican City State)</option>
                                        <option value="340">Honduras</option>
                                        <option value="344">Hong Kong</option>
                                        <option value="348">Hungary</option>
                                        <option value="352">Iceland</option>
                                        <option value="356">India</option>
                                        <option value="360">Indonesia</option>
                                        <option value="364">Iran, Islamic Republic of</option>
                                        <option value="368">Iraq</option>
                                        <option value="372">Ireland</option>
                                        <option value="833">Isle of Man</option>
                                        <option value="376">Israel</option>
                                        <option value="380">Italy</option>
                                        <option value="388">Jamaica</option>
                                        <option value="392">Japan</option>
                                        <option value="832">Jersey</option>
                                        <option value="400">Jordan</option>
                                        <option value="398">Kazakhstan</option>
                                        <option value="404">Kenya</option>
                                        <option value="296">Kiribati</option>
                                        <option value="408">Korea, Democratic People's Republic of</option>
                                        <option value="410">Korea, Republic of</option>
                                        <option value="414">Kuwait</option>
                                        <option value="417">Kyrgyzstan</option>
                                        <option value="418">Lao People's Democratic Republic</option>
                                        <option value="428">Latvia</option>
                                        <option value="422">Lebanon</option>
                                        <option value="426">Lesotho</option>
                                        <option value="430">Liberia</option>
                                        <option value="434">Libya</option>
                                        <option value="438">Liechtenstein</option>
                                        <option value="440">Lithuania</option>
                                        <option value="442">Luxembourg</option>
                                        <option value="446">Macao</option>
                                        <option value="807">Macedonia, the former Yugoslav Republic of</option>
                                        <option value="450">Madagascar</option>
                                        <option value="454">Malawi</option>
                                        <option value="458">Malaysia</option>
                                        <option value="462">Maldives</option>
                                        <option value="466">Mali</option>
                                        <option value="470">Malta</option>
                                        <option value="584">Marshall Islands</option>
                                        <option value="474">Martinique</option>
                                        <option value="478">Mauritania</option>
                                        <option value="480">Mauritius</option>
                                        <option value="175">Mayotte</option>
                                        <option value="484">Mexico</option>
                                        <option value="583">Micronesia, Federated States of</option>
                                        <option value="498">Moldova, Republic of</option>
                                        <option value="492">Monaco</option>
                                        <option value="496">Mongolia</option>
                                        <option value="499">Montenegro</option>
                                        <option value="500">Montserrat</option>
                                        <option value="504">Morocco</option>
                                        <option value="508">Mozambique</option>
                                        <option value="104">Myanmar</option>
                                        <option value="516">Namibia</option>
                                        <option value="520">Nauru</option>
                                        <option value="524">Nepal</option>
                                        <option value="528">Netherlands</option>
                                        <option value="540">New Caledonia</option>
                                        <option value="554">New Zealand</option>
                                        <option value="558">Nicaragua</option>
                                        <option value="562">Niger</option>
                                        <option value="566">Nigeria</option>
                                        <option value="570">Niue</option>
                                        <option value="574">Norfolk Island</option>
                                        <option value="580">Northern Mariana Islands</option>
                                        <option value="578">Norway</option>
                                        <option value="512">Oman</option>
                                        <option value="586">Pakistan</option>
                                        <option value="585">Palau</option>
                                        <option value="275">Palestinian Territory, Occupied</option>
                                        <option value="591">Panama</option>
                                        <option value="598">Papua New Guinea</option>
                                        <option value="600">Paraguay</option>
                                        <option value="604">Peru</option>
                                        <option value="608">Philippines</option>
                                        <option value="612">Pitcairn</option>
                                        <option value="616">Poland</option>
                                        <option value="620">Portugal</option>
                                        <option value="630">Puerto Rico</option>
                                        <option value="634">Qatar</option>
                                        <option value="638">RÃ©union</option>
                                        <option value="642">Romania</option>
                                        <option value="643">Russian Federation</option>
                                        <option value="646">Rwanda</option>
                                        <option value="652">Saint BarthÃ©lemy</option>
                                        <option value="654">Saint Helena, Ascension and Tristan da Cunha</option>
                                        <option value="659">Saint Kitts and Nevis</option>
                                        <option value="662">Saint Lucia</option>
                                        <option value="663">Saint Martin (French part)</option>
                                        <option value="666">Saint Pierre and Miquelon</option>
                                        <option value="670">Saint Vincent and the Grenadines</option>
                                        <option value="882">Samoa</option>
                                        <option value="674">San Marino</option>
                                        <option value="678">Sao Tome and Principe</option>
                                        <option value="682">Saudi Arabia</option>
                                        <option value="686">Senegal</option>
                                        <option value="688">Serbia</option>
                                        <option value="690">Seychelles</option>
                                        <option value="694">Sierra Leone</option>
                                        <option value="702">Singapore</option>
                                        <option value="534">Sint Maarten (Dutch part)</option>
                                        <option value="703">Slovakia</option>
                                        <option value="705">Slovenia</option>
                                        <option value="90">Solomon Islands</option>
                                        <option value="706">Somalia</option>
                                        <option value="710">South Africa</option>
                                        <option value="239">South Georgia and the South Sandwich Islands</option>
                                        <option value="728">South Sudan</option>
                                        <option value="724">Spain</option>
                                        <option value="144">Sri Lanka</option>
                                        <option value="729">Sudan</option>
                                        <option value="740">Suriname</option>
                                        <option value="744">Svalbard and Jan Mayen</option>
                                        <option value="748">Swaziland</option>
                                        <option value="752">Sweden</option>
                                        <option value="756">Switzerland</option>
                                        <option value="760">Syrian Arab Republic</option>
                                        <option value="158">Taiwan, Province of China</option>
                                        <option value="762">Tajikistan</option>
                                        <option value="834">Tanzania, United Republic of</option>
                                        <option value="764">Thailand</option>
                                        <option value="626">Timor-Leste</option>
                                        <option value="768">Togo</option>
                                        <option value="772">Tokelau</option>
                                        <option value="776">Tonga</option>
                                        <option value="780">Trinidad and Tobago</option>
                                        <option value="788">Tunisia</option>
                                        <option value="792">Turkey</option>
                                        <option value="795">Turkmenistan</option>
                                        <option value="796">Turks and Caicos Islands</option>
                                        <option value="798">Tuvalu</option>
                                        <option value="800">Uganda</option>
                                        <option value="804">Ukraine</option>
                                        <option value="784">United Arab Emirates</option>
                                        <option value="826">United Kingdom</option>
                                        <option value="840">United States</option>
                                        <option value="581">United States Minor Outlying Islands</option>
                                        <option value="858">Uruguay</option>
                                        <option value="860">Uzbekistan</option>
                                        <option value="548">Vanuatu</option>
                                        <option value="862">Venezuela, Bolivarian Republic of</option>
                                        <option value="704">Viet Nam</option>
                                        <option value="92">Virgin Islands, British</option>
                                        <option value="850">Virgin Islands, U.S.</option>
                                        <option value="876">Wallis and Futuna</option>
                                        <option value="732">Western Sahara</option>
                                        <option value="887">Yemen</option>
                                        <option value="894">Zambia</option>
                                        <option value="716">Zimbabwe</option>
                                    </select>
                                </div>
                            </div>
                            <h3>Feasibility</h3>
                            <div class="field-wrapper">
                                <label for="">Building type</label>
                                <div class="form-field">
                                    <select formControlName="cceld_buildingtype">
                                        <option value="residential">Residential</option>
                                        <option value="commercial">Commercial</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Type of site</label>
                                <div class="form-field">
                                    <select formControlName="cceld_sitetype">
                                        <option value="ind_house">Ind. House</option>
                                        <option value="villa">Villa</option>
                                        <option value="apartment">Apartment</option>
                                        <option value="others">Others</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Number of floors</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_totalfloor"
                                        placeholder="Number of floors">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_totalfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        Please enter correct number of floors</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Customer floor</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_customerfloor"
                                        placeholder="Customer floor">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_customerfloor?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        Please enter correct number of floors</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Owner</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="1">
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_isowner" name="cceld_isowner" value="0">
                                    <label for="">No</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Period of rent</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_rentperiod" placeholder="Period of rent">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Roof Rights</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_roofright" name="cceld_roofright"
                                        value=1>
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_roofright" name="cceld_roofright"
                                        value=0>
                                    <label for="">No</label>
                                </div>
                            </div>
                            <div class="field-wrapper field-with-other">
                                <label for="">Other area if available</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_otherarea"
                                        placeholder="Other area if available">
                                    <select formControlName="cceld_otherareaunit">
                                        <option value="sq_m">square meter</option>
                                        <option value="sq_ft">square feet</option>
                                        <option value="sq_yd">square yard</option>
                                    </select>
                                </div>
                            </div>
                            <h3>Affordability</h3>
                            <div class="field-wrapper">
                                <label for="">Budget</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_budget" placeholder="INR">
                                    <div class="error"
                                        *ngIf="customerFillFormRequest.controls?.cceld_budget?.errors?.pattern && isSubmitCustomerFillFormRequest">
                                        Please enter correct budget</div>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Financing Required</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq"
                                        value="1">
                                    <label for="">Yes</label>
                                    <input type="radio" formControlName="cceld_isfinancereq" name="cceld_isfinancereq"
                                        value="0">
                                    <label for="">No</label>
                                </div>
                            </div>
                            <h3>Others</h3>
                            <div class="field-wrapper field-textarea">
                                <label for="">Transport feasibility</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_istransportfeasible" cols="30" rows="10"
                                        placeholder="Transport feasibility"></textarea>
                                </div>
                            </div>
                            <h3>Schedule site visit</h3>
                            <div class="field-wrapper">
                                <label for="">Date</label>
                                <div class="form-field">
                                    <p-calendar class="form-text" dateFormat="dd/mm/y" [minDate]="minDate"
                                        readonlyInput="true" formControlName="cceld_scheduledate" placeholder="Date">
                                    </p-calendar>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Time</label>
                                <div class="form-field">
                                    <!-- <p-calendar class="form-text" [dateFormat]="'yy-mm-dd'" [timeOnly]="true"  [readonlyInput]="'true'" formControlName="cceld_scheduletime" placeholder="Time"></p-calendar> -->
                                    <select formControlName="cceld_scheduletime">
                                        <option value=1>10:00-12:00</option>
                                        <option value=2>12:00-14:00</option>
                                        <option value=3>14:00-16:00</option>
                                        <option value=4>16:00-18:00</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-script">
                            <h3 class="mt0">Customer Care Script</h3>
                            <div class="script-data">
                                <h4>Opening/Greetings</h4>
                                <div class="script-text">
                                    <p>Hello Sir/Mam, I am calling from Luminous Customer Care. Is it a good time to
                                        talk to you.
                                    </p>
                                    <p>Sir/Mam this call is regarding the site survey request that you had placed on our
                                        website.</p>
                                    <p>Can you please let us know from where did you get to know about us?</p>
                                    <p>To schedule your site survey we need some details from you.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-n-script">
                        <div class="col-form">
                            <!-- <div class="form-actions">
                                <input class="button button-blue" type="button" value="Save" (click)="submitConsumerFormRequest(1)">
                            </div> -->
                            <h3>Need Assessment</h3>
                            <div class="field-wrapper field-textarea">
                                <label for="">Motive</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_motive" cols="30" rows="10"
                                        placeholder="Motive"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-script">
                            <div class="script-data">
                                <h4>Site Survey Booking</h4>
                                <div class="script-text">
                                    <p>Sir/Mam, now i am going to book a site survey for you,</p>
                                    <p>When should our site surveyor come to inspect your site ?</p>
                                    <p>What time would be convenient for you?</p>
                                    <p>Ok Sir/Mam i've booked the site survey for you on DATE/TIME</p>
                                    <p>If you have 5 more minutes we would like to ask you few more questions.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-n-script">
                        <div class="col-from">
                            <div class="field-wrapper">
                                <label for="">Average Electricity Bill</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_avgelectricitybill" placeholder="INR">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Solution Required</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid"
                                        [checked]="true" value="on_grid">
                                    <label for="">Savings/On-Grid</label>
                                    <input type="radio" formControlName="cceld_ongridoffgrid" name="cceld_ongridoffgrid"
                                        value="off_grid">
                                    <label for="">Backup/Off-Grid</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Existing Power Source</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_existpowersource"
                                        name="cceld_existpowersource" [checked]="true" value="inverter">
                                    <label for="">Inverter</label>
                                    <input type="radio" formControlName="cceld_existpowersource"
                                        name="cceld_existpowersource" value="dg_setup">
                                    <label for="">DG Setup</label>
                                    <input type="radio" formControlName="cceld_existpowersource"
                                        name="cceld_existpowersource" value="society_backup">
                                    <label for="">Society Backup</label>
                                    <input type="radio" formControlName="cceld_existpowersource"
                                        name="cceld_existpowersource" value="other">
                                    <label for="">Other</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Enter Backup details</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_backupdetail" placeholder="Motive"></textarea>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Type of connection</label>
                                <div class="form-field">
                                    <input type="radio" formControlName="cceld_phasetype" [checked]="true"
                                        name="cceld_phasetype" value="single_phase">
                                    <label for="">Single Phase</label>
                                    <input type="radio" formControlName="cceld_phasetype" name="cceld_phasetype"
                                        value="three_phase">
                                    <label for="">Three Phase</label>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Average power cut during day</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_powercutinday" placeholder="hrs">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Average power cut during night</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_powercutinnight" placeholder="hrs">
                                </div>
                            </div>
                            <h3>Roof Details</h3>
                            <div class="field-wrapper">
                                <label for="">Roof Type</label>
                                <div class="form-field">
                                    <select formControlName="cceld_rooftype">
                                        <option value="flat">Flat</option>
                                        <option value="slanted">Slanted</option>
                                        <option value="others">Others</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Area</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_roofarea" placeholder="Roof area">
                                    <select formControlName="cceld_roofareaunit">
                                        <option value="sq_m">square meter</option>
                                        <option value="sq_ft">square feet</option>
                                        <option value="sq_yd">square yard</option>
                                    </select>
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Select Site Surveyor*</label>
                                <div class="form-field">
                                    <!-- <select formControlName="cceld_surveyerid">
                                        <option value=1>Harish</option>
                                        <option value=2>Lovish</option>
                                        <option value=3>Amit</option>
                                    </select> -->
                                    <ng-select class="mandate-field" [options]="surveyorList"
                                        formControlName="cceld_surveyerid" placeholder="Select Site Surveyor">
                                    </ng-select>
                                    <div class="error"
                                        *ngIf=" isSubmitCustomerFillFormRequest && selectSiteSurveyorFlag == 2 && surveyerid_value==0">
                                        {{lead_panal_form.BLANK_FIELD}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-script">&nbsp;</div>
                    </div>


                    <div class="form-n-script">
                        <div class="col-form">
                            <div class="field-wrapper">
                                <label for="">Remarks</label>
                                <div class="form-field">
                                    <input type="text" formControlName="cceld_remarks" placeholder="Remarks">
                                </div>
                            </div>
                            <div class="field-wrapper">
                                <label for="">Notes</label>
                                <div class="form-field">
                                    <textarea formControlName="cceld_notes" cols="30" rows="10"
                                        placeholder="Note"></textarea>
                                </div>
                            </div>
                            <div class="form-actions" style="flex-direction: column;">
                                <div style="text-align: right;">
                                    <!-- <input class="button button-blue" type="button" value="Save" (click)="submitConsumerFormRequest(1)"> -->
                                    <input class="button button-blue" type="button" value="Submit"
                                        (click)="submitConsumerFormRequest(2)">
                                </div>
                                <div style="text-align: right;">
                                </div>
                            </div>
                            <div class="field-wrapper">

                                <div class="form-field">
                                    <input type="hidden" formControlName="lead_id">
                                </div>
                            </div>

                        </div>
                        <div class="col-script">
                            <div class="script-data">
                                <h4>Closing</h4>
                                <div class="script-text">
                                    <p>We have got the required information,</p>
                                    <p>Thanks for your time.</p>
                                    <p>Our site surveyor will get in touch with you before coming to the site.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>

</div>

<!--  start of view interaction log -->    
                 <div *ngIf="viewinteractionlog" style="margin-top: 60px;">
                        <div class="loader-wrapper" >
                            <div class=" viewintraction">

                                  <!-- data -->
                                    <div class="overlay-wrap">
                                        <div class="overlay working-overlay">
                                        <div class="overlay-content">
                                            <div class="">
                                              <input type="button" class="btn p-0 pull-right" (click)="ViewinteractionClose()"  value="Close" >
                                            </div>
                                            <h3>Interaction Log</h3>
                                                <div class="table-wrapper call-history">
                                                <table>
                                                <thead>
                                                    <tr>
                                                        <th>
                                                        Date & Time
                                                        </th>
                                                        <th>
                                                        Username
                                                        </th>
                                                        <th>
                                                        User Role
                                                        </th>
                                                        <th>
                                                        Project Status
                                                        </th>
                                                        <th>
                                                        Interaction
                                                        </th>
                                                        <th>
                                                        Interaction Completed
                                                        </th>
                                                        <th>
                                                        SMS Sent
                                                        </th>
                                                        <th>
                                                        E-mail sent
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of interactionLog; let i = index">
                                                        <td> {{item.fui_created_at}} </td>
                                                        <td> {{item.emp_full_name}} </td>
                                                        <td> {{item.primary_role_name}} </td>
                                                        <td> {{item.fpsm_status}} </td>
                                                        <td> {{item.fui_conversation}}</td>
                                                        <td *ngIf="item.fui_is_submited === '0'" style="color: red">NO</td>
                                                        <td *ngIf="item.fui_is_submited === '1'" style="color: green">YES</td>
                                                        <td> {{item.fui_sent_sms}} </td>
                                                        <td><div [innerHtml]="item.fui_sent_email"></div> </td>
                                                    </tr>
                                                    <div *ngIf="interactionLog.length <= 0 " >No Record Found</div>
                                                </tbody>
                                                </table>
                                                </div>
                                                <div class="table-wrapper" *ngIf="!interactionLog" >
                                                No Interactions!
                                                </div>  
                                            


                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                 <!--  end of data -->
                            </div>
                        </div>

                 <!--  end of view interaction log -->



<div class="loader-wrapper" *ngIf="Allocation">
    <div class="sendWrapper wraperDelete">
        <form [formGroup]="pmallocationform" (ngSubmit)="allocateprojectManager()">
        <h3 class="" style="padding-bottom:10px">Allocate</h3>
        <div class="field-wrapper">
            <label for="">Select Project Manager*</label>
            <div class="form-field select-bg">
                <ng-select [options]="pm_list" formControlName="pm_id"></ng-select>
            </div>
            <input type="hidden" formControlName="project_id" >
        </div>
        <div class="field-wrapper">
            <label for="pm_remarks">Remarks</label>
            <textarea formControlName="pm_remarks">Remarks</textarea>
        </div>
        
        <div class="alignRight">
            <input type="submit"  class="button button-blue button-norm" *ngIf="alocating ==false" value="Allocate">
            <img style="height: 60px; width: 60px;" alt="LUMINOUS" *ngIf="alocating"  src="/assets/images/loader1.gif">
            <input type="button" (click)="Allocation= false;" class="button button-grey button-norm" value="Close">
        </div>
        </form>
    </div>
</div>

<div class="loader-wrapper" *ngIf="submitrejectallocation" >
        <div class="sendWrapper wraperDelete">
        <h3 class="padding">Are you sure you want to Reject?</h3>
        <div class="rejection-reason">
            <label>Reason:</label>
            
                <textarea class="form-control"  placeholder="Please enter the reason for rejection" [(ngModel)]="rejectionReason" ></textarea>
                <div class="error" *ngIf="!rejectionReason && isRejectionSubmitted">
                    This Field is required
                </div>
            
        </div>
        <div class="alignRight manageacptrjtbtn">
            <input type="button" class="btn acptbtn" (click)="RejectAllocation(pid)" value="Reject">
            <input type="button" (click)="submitrejectallocation=false; this.rejectionReason = ''" class="btn acptbtn"   value="Close" >
        </div>
        </div>
    </div>

<div *ngIf="isLoginEmp == true"
    style="margin: 30px; padding: 30px; background-color: #fff; font-size: 32px; text-align: center;">
    <p>Unauthorised Access. Please login to access.</p>
</div>

<div *ngIf="isLoader" style="text-align: center;">
    <img src="/assets/images/loader1.gif" alt="LUMINOUS" />
</div>

<div class="sendBox" [ngClass]="{hideAside:revokeCommentBox,showAside:!revokeCommentBox}">
    <div class="box-wrapper">
        <div class="tableBoxx">
            <div class="cellBoxx">
                <div class="sendWrapper">
                    <h4>Revoke Lead</h4>
                    <form [formGroup]="coldBucketCommentForm" (ngSubmit)="submitRevokeColdLead()">
                        <div class="field-wrapper">
                            <label for="">Comment</label>
                            <div class="form-field">
                                <!--<input type="textbox" formControlName="comment" name="comment" style="height:150px; width:150px;">-->
                                <textarea formControlName="comment" name="comment" cols="50" rows="3"
                                    placeholder="Add Comment"></textarea>
                            </div>
                            <div class="error" *ngIf="coldBucketCommentForm.controls?.comment?.errors"
                                style="width:100%;">Please enter comment</div>
                        </div>
                        <div class="field-wrapper">
                            <div class="form-field">
                                <button type="submit" class="btn btn-blue btn-md">Save</button>
                            </div>
                        </div>
                        <a href="javascript:void(0)" class="menu example5" (click)="revokeCommentBox=!revokeCommentBox">
                            <span>x</span>
                        </a>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="loader-wrapper" [style.display]="!userData ? 'block' : 'none'">
    <div class="loader"></div>
</div>