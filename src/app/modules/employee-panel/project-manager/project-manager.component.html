<div id="content">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="project-tab-wrap" *ngIf="isListing">
          <div class="tab-content">
            <ul>
              <li (click)="getAllocatedProject('allocated_project_listing')"
                [ngClass]="{'active':(isListing == 'allocated_project_listing')}">Allocated
                Projects
              </li>
              <li (click)="getOngoingProjectList('ongoing_project_listing')"
                [ngClass]="{'active':(isListing == 'ongoing_project_listing')}">Ongoing Projects
              </li>
              <li (click)="getCompletedProjectList('completed_project_listing')"
                [ngClass]="{'active':(isListing == 'completed_project_listing')}">
                Completed Projects
              </li>
              <li (click)="getAssignedProjectList('assigned_project_listing')"
                [ngClass]="{'active':(isListing == 'assigned_project_listing' || isListing =='view_hand_off')}">
                Assigned Projects
              </li>
            </ul>
          </div>
        </div>
        <div class="ongoing-project-list" *ngIf="isListing == 'ongoing_project_listing' ">
          <smart-search (SearchResults)="smartSearchResults($event)" *ngIf="showSmartSearchComponent"></smart-search>
          <div class="project-list" *ngIf="(ongoingProjects).length">
            <div class="project-info" *ngFor="let data of ongoingProjects; let i = index">
              <div class="title item">
                <span>{{data.handOff.h_data.consumerProject.project_code}}</span>
                <h2>
                  {{data.handOff.h_data.customer_name}}
                </h2>
              </div>
              <div class="item grid-info grid-area">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M6.792 14.155c.336-.336-.185-.858-.521-.521-.336.337.185.857.521.521zM2.67 2.777c-.548.59-.854 1.285-.819  1.857.029.479.765.426.736-.045-.017-.276.137-.785.624-1.311.487-.526.983-.716  1.26-.72.473-.007.464-.743-.011-.737-.573.008-1.242.365-1.79.956zM1.928  2.067c.7-.755 1.581-1.25 2.241-1.26.473-.006.464-.742-.01-.737-.866.013-1.928.586-2.772 1.5C.543 2.484.051 3.578.1 4.442c.03.479.765.427.737-.045-.037-.659.39-1.574 1.091-2.33z" />
                      <path
                        d="M15.6 17.975h-1.4l-3.588-6.745a2.539 2.539 0 0 0 .141-3.984 5.664 5.664 0 0 0-.018-3.74A5.593 5.593 0 0 0 9.4 1.4a.371.371 0 0 0-.522 0l-3.5 3.5-.825-.8c-.34-.329-.853.2-.512.531l.815.786L1.4  8.881a.368.368 0 0 0 0 .519 5.6 5.6 0 0 0 2.106 1.331 5.677 5.677 0 0 0   3.629.055c.136.166.293.315.466.443l-.63  1.187c-.219.414.43.764.652.346l.629-1.187a2.535  2.535 0 0 0 1.707 0l2.891  5.441-3.377-2.591v-1c0-.473-.737-.474-.737   0v1l-3.573 2.62.915-1.634a.369.369 0 1 0-.644-.36L3.8 17.974H2.611c-.474 0-.474.738 0  .738H15.6c.476 0 .476-.737 0-.737zM3.754 10.038a4.853 4.853 0 0  1-1.56-.906l6.94-6.94c.397.459.704.988.906  1.56.354.997.377 2.081.068 3.093a2.542 2.542 0 0  0-3.357 3.294 4.946 4.946 0 0 1-2.997-.101zM7.3  9.182a1.806 1.806 0 1 1 3.612 0 1.806 1.806 0 0  1-3.612 0zm1.8 5.888l3.786 2.905H5.14L9.1  15.07z" />
                      <path
                        d="M9.107 8a1.181 1.181 0 1 0 0 2.362 1.181 1.181 0 0 0 0-2.362zm0 1.624a.443.443 0 1 1 0-.888.443.443 0 0 1 0 .889v-.001z" />
                    </g>
                  </svg> {{ getSolutionType(data.handOff.h_data.proposalDetails.proposal_solution_type)}}</span>
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M8.376 1.18l1.768 1.808a.38.38 0 1 0 .542-.531L8.432.153c-.146-.15-.504-.17-.654-.023L5.474 2.385a.38.38 0 1 0 .53.543l1.492-1.46-.011  4.269c.005.107.05.207.124.284a.406.406 0  0 0 .276.122.424.424 0 0 0  .412-.396l.08-4.567zM15.908  7.811l-2.255-2.303a.38.38 0 0  0-.54.53l1.673 1.709-4.574-.024a.402.402  0 0  0-.396.388c-.004.102.033.2.102.276.06.061.145.092.23.082l4.396.017-1.596  1.558a.38.38 0 1 0  .532.542l2.304-2.256c.15-.146.27-.369.124-.519zM5.75  7.414l-4.265-.08 1.47-1.442a.38.38 0 1  0-.531-.542L.12  7.606c-.15.146-.034.404.112.553l2.255  2.305a.38.38 0 0 0 .542-.532L1.242  8.106l4.558.075a.359.359 0 0 0 .354-.38.412.412 0 0 0-.405-.387zM10.435  13.014a.379.379 0 0 0-.536-.005l-1.57  1.54.083-4.399a.351.351 0 0  0-.358-.366.337.337 0 0 0-.35.359l-.014  4.566-1.696-1.726a.38.38 0 1  0-.542.53l2.255  2.305c.147.149.27.134.418-.012l2.305-2.255a.379.379  0 0 0 .005-.537z" />
                    </g>
                  </svg>
                  DC Capacity/{{data.handOff.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </div>
              <div class="item address">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 16 18">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M14.225 13.57c-.825-.299-1.909-.529-3.16-.675.122-.122.241-.245.358-.372  1.12-1.203 1.866-2.38  2.28-3.598.889-2.615.016-5.853-2.033-7.534A5.903  5.903 0 0 0 7.935.066 5.905 5.905 0  0 0 4.2 1.39c-.97.796-1.716  1.965-2.103 3.293-.385 1.312-.385  2.7-.024 3.906.489 1.614 1.542 3.036  2.775  4.306-1.246.146-2.326.375-3.149.675-1.12.405-1.693.912-1.693   1.508 0 .728.835 1.318 2.484 1.754  1.466.385 3.408.601 5.47.601 2.063 0  4.004-.214 5.47-.601 1.649-.436  2.484-1.026 2.484-1.754  0-.596-.568-1.103-1.69-1.509zM2.755  4.875C3.103 3.68 3.77 2.63 4.635  1.92a5.24 5.24 0 0 1 6.6 0c.895.733  1.57 1.838 1.902 3.11.327 1.253.298  2.557-.082 3.675-.856 2.52-3.11  4.398-5.12 6.053C5.807 13 3.493  10.918 2.731  8.39c-.331-1.081-.321-2.33.024-3.516zm10.5 11.297c-1.41.373-3.29.578-5.295.578-2.003  0-3.885-.205-5.295-.578C1.105  15.759.69 15.29.69 15.079c0-.454  1.523-1.26 4.789-1.56a39.088 39.088  0 0 0 2.09 1.823c.28.232.447.235.734  0 .674-.557 1.412-1.165 2.12-1.825  3.277.3 4.806 1.108 4.806 1.562 0  .212-.415.681-1.974 1.093z" />
                      <path
                        d="M9.79 9.92c.398-.187.107-.806-.288-.619a3.693  3.693 0 0 1-1.542.355 3.507  3.507 0 1 1  3.23-2.138c-.173.404.456.675.629.269a4.194 4.194 0 1 0-3.856 2.55 4.398  4.398 0 0 0 1.828-.417z" />
                      <path
                        d="M10.767 8.437a.342.342  0 1 0-.001.684.342.342 0 0 0 .001-.684zM10.15  4.352a.953.953 0 0  0-1.336.172L7.36  6.413l-.386-.29a.951.951 0 1  0-1.157  1.51l1.136.868a.964.964 0 0  0  1.336-.174l2.033-2.64a.952.952  0 0  0-.173-1.335zm-.37.917L7.747  7.91a.27.27 0 0  1-.375.049L6.234  7.09c-.273-.209.05-.637.327-.425l.653.501a.342.342  0 0 0 .482-.062L9.36  4.947a.268.268 0 1 1  .424.326L9.78 5.27z" />
                    </g>
                  </svg>
                  {{data.handOff.h_data.consumer.consumer_address1 !='NULL' ? data.handOff.h_data.consumer.consumer_address1:'' }}
                  {{data.handOff.h_data.district_name !='NULL' ? data.handOff.h_data.district_name : ''}}
                  {{data.handOff.h_data.state_name !='NULL' ?data.handOff.h_data.state_name:'' }}</span>
                <span> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M.327 15.057A.327.327 0 0 1 0 14.73V1.385c0-.181.147-.327.327-.328h1.65v-.66c0-.181.147-.328.327-.328h1.73c.181   0  .328.147.328.328v.66h5.276v-.66c0-.181.147-.328.328-.328h1.73c.18   0  .327.147.327.328v.66h1.65c.18  0  .327.147.327.328V14.73c0  .18-.147.327-.327.327H.327zm13.018-.655V4.431H.655v9.971h12.69zm0-10.626V1.713h-1.322v.66c0  .181-.147.328-.327.328h-1.73a.327.327  0 0  1-.328-.327v-.661H4.362v.66c0  .181-.147.328-.328.328h-1.73a.327.327  0 0  1-.327-.327v-.661H.655v2.063h12.69zm-1.977-1.73V.724h-1.075v1.322h1.075zm-7.661  0V.724H2.632v1.322h1.075z" />
                      <path
                        d="M13.673  1.138h-1.73V.397a.246.246  0 0  0-.247-.247h-1.73a.246.246  0 0  0-.247.247v.74H4.28v-.74A.246.246  0 0 0  4.034.15h-1.73a.246.246  0 0  0-.247.247v.74H.327a.247.247  0 0  0-.247.248V14.73a.246.246  0 0 0  .247.247h13.346a.246.246  0 0 0  .247-.247V1.385a.247.247  0 0  0-.247-.247zm-3.46-.494h1.236v1.483h-1.236V.644zm-7.662  0h1.236v1.483H2.551V.644zm-1.977.989h1.483v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741H9.72v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741h1.483v2.223H.574V1.633zm0  12.85V4.35h12.852v10.133H.574z" />
                      <path
                        d="M2.224 13.08V5.753h9.552v7.327H2.224zm8.896-.655v-1.569H9.551v1.57h1.57zm-2.224 0v-1.569H7.327v1.57h1.57zm-2.223  0v-1.569h-1.57v1.57h1.57zm-2.224  0v-1.569h-1.57v1.57h1.57zm6.671-2.224V8.633H9.551V10.2h1.57zm-2.224  0V8.633H7.327V10.2h1.57zm-2.223  0V8.633h-1.57V10.2h1.57zm-2.224 0V8.633h-1.57V10.2h1.57zm6.671-2.224v-1.57H9.551v1.57h1.57zm-2.224  0v-1.57H7.327v1.57h1.57zm-2.223  0v-1.57h-1.57v1.57h1.57zm-2.224  0v-1.57h-1.57v1.57h1.57z" />
                      <path
                        d="M8.977 5.833H2.304V13h9.392V5.833h-2.72zm-1.73.494h1.73v1.73h-1.73v-1.73zm1.73  3.955h-1.73v-1.73h1.73v1.73zm-3.954-1.73h1.73v1.73h-1.73v-1.73zm0-2.225h1.73v1.73h-1.73v-1.73zm-2.224  0h1.73v1.73H2.8v-1.73zm0 2.225h1.73v1.73H2.8v-1.73zm1.73 3.954H2.8v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0H9.47v-1.73h1.73v1.73zm0-2.224H9.47v-1.73h1.73v1.73zm0-3.955v1.73H9.47v-1.73h1.73z" />
                    </g>
                  </svg>
                  {{data.handOff.h_created_on | date:'dd/MM/yyyy' }}</span>
              </div>
              <div class="item order-info">
                <div class="left d-flex align-items-center flex-wrap pr-4">
                  <div class="d-flex align-items-center justify-content-between mb-3 w-100"
                    *ngIf="(data.handOff.plan_selected==1) && data.handOff.h_data.proposalDetails.proposal_project_value_gold > 0 ">
                    <span class="m-0 pr-4">Gold Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_gold - data.handOff.h_data.proposalDetails.discount)}}</strong>
                  </div>
                  <div class="d-flex align-items-center justify-content-between w-100"
                    *ngIf="(data.handOff.plan_selected==2) &&data.handOff.h_data.proposalDetails.proposal_project_value_silver > 0 ">
                    <span class="m-0 pr-4">Silver Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_silver- data.handOff.h_data.proposalDetails.discount_silver)}}</strong>
                  </div>


                </div>
                <div class="right d-flex right-box-table">
                  <div class="viewhandoff">
                    <a href="javascript:void(0)" class=" p-1" (click)="ProjectDetailView(data.handOff)">View Project
                      Detail</a>
                  </div>
                  <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(data.handOff)" class="btn p-1">View
                    Plan</a>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="(ongoingProjects).length < 1"> No Ongoing Projects Found</div>
        </div>

        <!--  allocated project list -->
        <div class="ongoing-project-list" *ngIf="isListing == 'allocated_project_listing' ">
          <smart-search (SearchResults)="smartSearchResults($event)" *ngIf="showSmartSearchComponent"></smart-search>
          <div class="project-list" *ngIf="(allocateProjectList).length">
            <div class="project-info" *ngFor="let data of allocateProjectList; let i = index">
              <div class="title item">
                <span> {{data.handOff.h_data.consumerProject.project_code}}</span>
                <h2>
                  {{data.handOff.h_data.customer_name}}
                </h2>
              </div>
              <div class="item grid-info">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M6.792 14.155c.336-.336-.185-.858-.521-.521-.336.337.185.857.521.521zM2.67 2.777c-.548.59-.854 1.285-.819  1.857.029.479.765.426.736-.045-.017-.276.137-.785.624-1.311.487-.526.983-.716  1.26-.72.473-.007.464-.743-.011-.737-.573.008-1.242.365-1.79.956zM1.928  2.067c.7-.755 1.581-1.25 2.241-1.26.473-.006.464-.742-.01-.737-.866.013-1.928.586-2.772 1.5C.543 2.484.051 3.578.1 4.442c.03.479.765.427.737-.045-.037-.659.39-1.574 1.091-2.33z" />
                      <path
                        d="M15.6 17.975h-1.4l-3.588-6.745a2.539 2.539 0 0 0 .141-3.984 5.664 5.664 0 0 0-.018-3.74A5.593 5.593 0 0 0 9.4 1.4a.371.371 0 0 0-.522 0l-3.5 3.5-.825-.8c-.34-.329-.853.2-.512.531l.815.786L1.4  8.881a.368.368 0 0 0 0 .519 5.6 5.6 0 0 0 2.106 1.331 5.677 5.677 0 0 0   3.629.055c.136.166.293.315.466.443l-.63  1.187c-.219.414.43.764.652.346l.629-1.187a2.535  2.535 0 0 0 1.707 0l2.891  5.441-3.377-2.591v-1c0-.473-.737-.474-.737   0v1l-3.573 2.62.915-1.634a.369.369 0 1 0-.644-.36L3.8 17.974H2.611c-.474 0-.474.738 0  .738H15.6c.476 0 .476-.737 0-.737zM3.754 10.038a4.853 4.853 0 0  1-1.56-.906l6.94-6.94c.397.459.704.988.906  1.56.354.997.377 2.081.068 3.093a2.542 2.542 0 0  0-3.357 3.294 4.946 4.946 0 0 1-2.997-.101zM7.3  9.182a1.806 1.806 0 1 1 3.612 0 1.806 1.806 0 0  1-3.612 0zm1.8 5.888l3.786 2.905H5.14L9.1  15.07z" />
                      <path
                        d="M9.107 8a1.181 1.181 0 1 0 0 2.362 1.181 1.181 0 0 0 0-2.362zm0 1.624a.443.443 0 1 1 0-.888.443.443 0 0 1 0 .889v-.001z" />
                    </g>
                  </svg> {{ getSolutionType(data.handOff.h_data.proposalDetails.proposal_solution_type)}}</span>
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M8.376 1.18l1.768 1.808a.38.38 0 1 0 .542-.531L8.432.153c-.146-.15-.504-.17-.654-.023L5.474 2.385a.38.38 0 1 0 .53.543l1.492-1.46-.011  4.269c.005.107.05.207.124.284a.406.406 0  0 0 .276.122.424.424 0 0 0  .412-.396l.08-4.567zM15.908  7.811l-2.255-2.303a.38.38 0 0  0-.54.53l1.673 1.709-4.574-.024a.402.402  0 0  0-.396.388c-.004.102.033.2.102.276.06.061.145.092.23.082l4.396.017-1.596  1.558a.38.38 0 1 0  .532.542l2.304-2.256c.15-.146.27-.369.124-.519zM5.75  7.414l-4.265-.08 1.47-1.442a.38.38 0 1  0-.531-.542L.12  7.606c-.15.146-.034.404.112.553l2.255  2.305a.38.38 0 0 0 .542-.532L1.242  8.106l4.558.075a.359.359 0 0 0 .354-.38.412.412 0 0 0-.405-.387zM10.435  13.014a.379.379 0 0 0-.536-.005l-1.57  1.54.083-4.399a.351.351 0 0  0-.358-.366.337.337 0 0 0-.35.359l-.014  4.566-1.696-1.726a.38.38 0 1  0-.542.53l2.255  2.305c.147.149.27.134.418-.012l2.305-2.255a.379.379  0 0 0 .005-.537z" />
                    </g>
                  </svg>
                  DC Capacity/{{data.handOff.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </div>
              <div class="item address">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 16 18">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M14.225 13.57c-.825-.299-1.909-.529-3.16-.675.122-.122.241-.245.358-.372  1.12-1.203 1.866-2.38  2.28-3.598.889-2.615.016-5.853-2.033-7.534A5.903  5.903 0 0 0 7.935.066 5.905 5.905 0  0 0 4.2 1.39c-.97.796-1.716  1.965-2.103 3.293-.385 1.312-.385  2.7-.024 3.906.489 1.614 1.542 3.036  2.775  4.306-1.246.146-2.326.375-3.149.675-1.12.405-1.693.912-1.693   1.508 0 .728.835 1.318 2.484 1.754  1.466.385 3.408.601 5.47.601 2.063 0  4.004-.214 5.47-.601 1.649-.436  2.484-1.026 2.484-1.754  0-.596-.568-1.103-1.69-1.509zM2.755  4.875C3.103 3.68 3.77 2.63 4.635  1.92a5.24 5.24 0 0 1 6.6 0c.895.733  1.57 1.838 1.902 3.11.327 1.253.298  2.557-.082 3.675-.856 2.52-3.11  4.398-5.12 6.053C5.807 13 3.493  10.918 2.731  8.39c-.331-1.081-.321-2.33.024-3.516zm10.5 11.297c-1.41.373-3.29.578-5.295.578-2.003  0-3.885-.205-5.295-.578C1.105  15.759.69 15.29.69 15.079c0-.454  1.523-1.26 4.789-1.56a39.088 39.088  0 0 0 2.09 1.823c.28.232.447.235.734  0 .674-.557 1.412-1.165 2.12-1.825  3.277.3 4.806 1.108 4.806 1.562 0  .212-.415.681-1.974 1.093z" />
                      <path
                        d="M9.79 9.92c.398-.187.107-.806-.288-.619a3.693  3.693 0 0 1-1.542.355 3.507  3.507 0 1 1  3.23-2.138c-.173.404.456.675.629.269a4.194 4.194 0 1 0-3.856 2.55 4.398  4.398 0 0 0 1.828-.417z" />
                      <path
                        d="M10.767 8.437a.342.342  0 1 0-.001.684.342.342 0 0 0 .001-.684zM10.15  4.352a.953.953 0 0  0-1.336.172L7.36  6.413l-.386-.29a.951.951 0 1  0-1.157  1.51l1.136.868a.964.964 0 0  0  1.336-.174l2.033-2.64a.952.952  0 0  0-.173-1.335zm-.37.917L7.747  7.91a.27.27 0 0  1-.375.049L6.234  7.09c-.273-.209.05-.637.327-.425l.653.501a.342.342  0 0 0 .482-.062L9.36  4.947a.268.268 0 1 1  .424.326L9.78 5.27z" />
                    </g>
                  </svg>
                  {{data.handOff.h_data.consumer.consumer_address1 !='NULL' ? data.handOff.h_data.consumer.consumer_address1:'' }}
                  {{data.handOff.h_data.district_name !='NULL' ? data.handOff.h_data.district_name : ''}}
                  {{data.handOff.h_data.state_name !='NULL' ?data.handOff.h_data.state_name:'' }}</span>
                <span> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M.327 15.057A.327.327 0 0 1 0 14.73V1.385c0-.181.147-.327.327-.328h1.65v-.66c0-.181.147-.328.327-.328h1.73c.181   0  .328.147.328.328v.66h5.276v-.66c0-.181.147-.328.328-.328h1.73c.18   0  .327.147.327.328v.66h1.65c.18  0  .327.147.327.328V14.73c0  .18-.147.327-.327.327H.327zm13.018-.655V4.431H.655v9.971h12.69zm0-10.626V1.713h-1.322v.66c0  .181-.147.328-.327.328h-1.73a.327.327  0 0  1-.328-.327v-.661H4.362v.66c0  .181-.147.328-.328.328h-1.73a.327.327  0 0  1-.327-.327v-.661H.655v2.063h12.69zm-1.977-1.73V.724h-1.075v1.322h1.075zm-7.661  0V.724H2.632v1.322h1.075z" />
                      <path
                        d="M13.673  1.138h-1.73V.397a.246.246  0 0  0-.247-.247h-1.73a.246.246  0 0  0-.247.247v.74H4.28v-.74A.246.246  0 0 0  4.034.15h-1.73a.246.246  0 0  0-.247.247v.74H.327a.247.247  0 0  0-.247.248V14.73a.246.246  0 0 0  .247.247h13.346a.246.246  0 0 0  .247-.247V1.385a.247.247  0 0  0-.247-.247zm-3.46-.494h1.236v1.483h-1.236V.644zm-7.662  0h1.236v1.483H2.551V.644zm-1.977.989h1.483v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741H9.72v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741h1.483v2.223H.574V1.633zm0  12.85V4.35h12.852v10.133H.574z" />
                      <path
                        d="M2.224 13.08V5.753h9.552v7.327H2.224zm8.896-.655v-1.569H9.551v1.57h1.57zm-2.224 0v-1.569H7.327v1.57h1.57zm-2.223  0v-1.569h-1.57v1.57h1.57zm-2.224  0v-1.569h-1.57v1.57h1.57zm6.671-2.224V8.633H9.551V10.2h1.57zm-2.224  0V8.633H7.327V10.2h1.57zm-2.223  0V8.633h-1.57V10.2h1.57zm-2.224 0V8.633h-1.57V10.2h1.57zm6.671-2.224v-1.57H9.551v1.57h1.57zm-2.224  0v-1.57H7.327v1.57h1.57zm-2.223  0v-1.57h-1.57v1.57h1.57zm-2.224  0v-1.57h-1.57v1.57h1.57z" />
                      <path
                        d="M8.977 5.833H2.304V13h9.392V5.833h-2.72zm-1.73.494h1.73v1.73h-1.73v-1.73zm1.73  3.955h-1.73v-1.73h1.73v1.73zm-3.954-1.73h1.73v1.73h-1.73v-1.73zm0-2.225h1.73v1.73h-1.73v-1.73zm-2.224  0h1.73v1.73H2.8v-1.73zm0 2.225h1.73v1.73H2.8v-1.73zm1.73 3.954H2.8v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0H9.47v-1.73h1.73v1.73zm0-2.224H9.47v-1.73h1.73v1.73zm0-3.955v1.73H9.47v-1.73h1.73z" />
                    </g>
                  </svg>
                  {{data.handOff.h_created_on | date:'dd/MM/yyyy' }}</span>
              </div>
              <div class="item order-info">
                <div class="left d-flex align-items-center flex-wrap pr-4">
                  <div class="d-flex align-items-center justify-content-between mb-3 w-100"
                    *ngIf="(data.handOff.plan_selected==1) && data.handOff.h_data.proposalDetails.proposal_project_value_gold > 0 ">
                    <span class="m-0 pr-4">Gold Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_gold - data.handOff.h_data.proposalDetails.discount)}}</strong>
                  </div>
                  <div class="d-flex align-items-center justify-content-between w-100"
                    *ngIf="(data.handOff.plan_selected==2) && data.handOff.h_data.proposalDetails.proposal_project_value_silver > 0 ">
                    <span class="m-0 pr-4">Silver Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_silver - data.handOff.h_data.proposalDetails.discount_silver)}}</strong>
                  </div>
                </div>
                <div class="right">
                  <a *ngIf="data.handOff.h_is_draft == 0" href="javascript:void(0)"
                    (click)="CreateProjectPlan(data.handOff.h_id,data.handOff)" class="btn p-0 crtplan">Create Plan</a>
                  <a *ngIf="data.handOff.h_is_draft == 1" href="javascript:void(0)"
                    (click)="ViewProjectPlan(data.handOff.h_id,data.handOff)" class="btn p-1">View Plan</a>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="(allocateProjectList).length < 1"> No Allocated Projects Found</div>
        </div>
        <!-- end of  allocated project list -->

        <!--  completed project list -->
        <div class="ongoing-project-list" *ngIf="isListing == 'completed_project_listing' ">
          <smart-search (SearchResults)="smartSearchResults($event)" *ngIf="showSmartSearchComponent"></smart-search>
          <div class="project-list" *ngIf="(completedProjectlist).length">
            <div class="project-info" *ngFor="let data of completedProjectlist;">
              <div class="title item">
                <span>{{data.handOff.h_data.consumerProject.project_code}}</span>
                <h2>
                  {{data.handOff.h_data.customer_name}}
                </h2>
              </div>
              <div class="item grid-info">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M6.792 14.155c.336-.336-.185-.858-.521-.521-.336.337.185.857.521.521zM2.67 2.777c-.548.59-.854 1.285-.819  1.857.029.479.765.426.736-.045-.017-.276.137-.785.624-1.311.487-.526.983-.716  1.26-.72.473-.007.464-.743-.011-.737-.573.008-1.242.365-1.79.956zM1.928  2.067c.7-.755 1.581-1.25 2.241-1.26.473-.006.464-.742-.01-.737-.866.013-1.928.586-2.772 1.5C.543 2.484.051 3.578.1 4.442c.03.479.765.427.737-.045-.037-.659.39-1.574 1.091-2.33z" />
                      <path
                        d="M15.6 17.975h-1.4l-3.588-6.745a2.539 2.539 0 0 0 .141-3.984 5.664 5.664 0 0 0-.018-3.74A5.593 5.593 0 0 0 9.4 1.4a.371.371 0 0 0-.522 0l-3.5 3.5-.825-.8c-.34-.329-.853.2-.512.531l.815.786L1.4  8.881a.368.368 0 0 0 0 .519 5.6 5.6 0 0 0 2.106 1.331 5.677 5.677 0 0 0   3.629.055c.136.166.293.315.466.443l-.63  1.187c-.219.414.43.764.652.346l.629-1.187a2.535  2.535 0 0 0 1.707 0l2.891  5.441-3.377-2.591v-1c0-.473-.737-.474-.737   0v1l-3.573 2.62.915-1.634a.369.369 0 1 0-.644-.36L3.8 17.974H2.611c-.474 0-.474.738 0  .738H15.6c.476 0 .476-.737 0-.737zM3.754 10.038a4.853 4.853 0 0  1-1.56-.906l6.94-6.94c.397.459.704.988.906  1.56.354.997.377 2.081.068 3.093a2.542 2.542 0 0  0-3.357 3.294 4.946 4.946 0 0 1-2.997-.101zM7.3  9.182a1.806 1.806 0 1 1 3.612 0 1.806 1.806 0 0  1-3.612 0zm1.8 5.888l3.786 2.905H5.14L9.1  15.07z" />
                      <path
                        d="M9.107 8a1.181 1.181 0 1 0 0 2.362 1.181 1.181 0 0 0 0-2.362zm0 1.624a.443.443 0 1 1 0-.888.443.443 0 0 1 0 .889v-.001z" />
                    </g>
                  </svg> {{ getSolutionType(data.handOff.h_data.proposalDetails.proposal_solution_type)}}</span>
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M8.376 1.18l1.768 1.808a.38.38 0 1 0 .542-.531L8.432.153c-.146-.15-.504-.17-.654-.023L5.474 2.385a.38.38 0 1 0 .53.543l1.492-1.46-.011  4.269c.005.107.05.207.124.284a.406.406 0  0 0 .276.122.424.424 0 0 0  .412-.396l.08-4.567zM15.908  7.811l-2.255-2.303a.38.38 0 0  0-.54.53l1.673 1.709-4.574-.024a.402.402  0 0  0-.396.388c-.004.102.033.2.102.276.06.061.145.092.23.082l4.396.017-1.596  1.558a.38.38 0 1 0  .532.542l2.304-2.256c.15-.146.27-.369.124-.519zM5.75  7.414l-4.265-.08 1.47-1.442a.38.38 0 1  0-.531-.542L.12  7.606c-.15.146-.034.404.112.553l2.255  2.305a.38.38 0 0 0 .542-.532L1.242  8.106l4.558.075a.359.359 0 0 0 .354-.38.412.412 0 0 0-.405-.387zM10.435  13.014a.379.379 0 0 0-.536-.005l-1.57  1.54.083-4.399a.351.351 0 0  0-.358-.366.337.337 0 0 0-.35.359l-.014  4.566-1.696-1.726a.38.38 0 1  0-.542.53l2.255  2.305c.147.149.27.134.418-.012l2.305-2.255a.379.379  0 0 0 .005-.537z" />
                    </g>
                  </svg>
                  DC Capacity/{{data.handOff.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </div>
              <div class="item address">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 16 18">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M14.225 13.57c-.825-.299-1.909-.529-3.16-.675.122-.122.241-.245.358-.372  1.12-1.203 1.866-2.38  2.28-3.598.889-2.615.016-5.853-2.033-7.534A5.903  5.903 0 0 0 7.935.066 5.905 5.905 0  0 0 4.2 1.39c-.97.796-1.716  1.965-2.103 3.293-.385 1.312-.385  2.7-.024 3.906.489 1.614 1.542 3.036  2.775  4.306-1.246.146-2.326.375-3.149.675-1.12.405-1.693.912-1.693   1.508 0 .728.835 1.318 2.484 1.754  1.466.385 3.408.601 5.47.601 2.063 0  4.004-.214 5.47-.601 1.649-.436  2.484-1.026 2.484-1.754  0-.596-.568-1.103-1.69-1.509zM2.755  4.875C3.103 3.68 3.77 2.63 4.635  1.92a5.24 5.24 0 0 1 6.6 0c.895.733  1.57 1.838 1.902 3.11.327 1.253.298  2.557-.082 3.675-.856 2.52-3.11  4.398-5.12 6.053C5.807 13 3.493  10.918 2.731  8.39c-.331-1.081-.321-2.33.024-3.516zm10.5 11.297c-1.41.373-3.29.578-5.295.578-2.003  0-3.885-.205-5.295-.578C1.105  15.759.69 15.29.69 15.079c0-.454  1.523-1.26 4.789-1.56a39.088 39.088  0 0 0 2.09 1.823c.28.232.447.235.734  0 .674-.557 1.412-1.165 2.12-1.825  3.277.3 4.806 1.108 4.806 1.562 0  .212-.415.681-1.974 1.093z" />
                      <path
                        d="M9.79 9.92c.398-.187.107-.806-.288-.619a3.693  3.693 0 0 1-1.542.355 3.507  3.507 0 1 1  3.23-2.138c-.173.404.456.675.629.269a4.194 4.194 0 1 0-3.856 2.55 4.398  4.398 0 0 0 1.828-.417z" />
                      <path
                        d="M10.767 8.437a.342.342  0 1 0-.001.684.342.342 0 0 0 .001-.684zM10.15  4.352a.953.953 0 0  0-1.336.172L7.36  6.413l-.386-.29a.951.951 0 1  0-1.157  1.51l1.136.868a.964.964 0 0  0  1.336-.174l2.033-2.64a.952.952  0 0  0-.173-1.335zm-.37.917L7.747  7.91a.27.27 0 0  1-.375.049L6.234  7.09c-.273-.209.05-.637.327-.425l.653.501a.342.342  0 0 0 .482-.062L9.36  4.947a.268.268 0 1 1  .424.326L9.78 5.27z" />
                    </g>
                  </svg>
                  {{data.handOff.h_data.consumer.consumer_address1 !='NULL' ? data.handOff.h_data.consumer.consumer_address1:'' }}
                  {{data.handOff.h_data.district_name !='NULL' ? data.handOff.h_data.district_name : ''}}
                  {{data.handOff.h_data.state_name !='NULL' ?data.handOff.h_data.state_name:'' }}</span>
                <span> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M.327 15.057A.327.327 0 0 1 0 14.73V1.385c0-.181.147-.327.327-.328h1.65v-.66c0-.181.147-.328.327-.328h1.73c.181   0  .328.147.328.328v.66h5.276v-.66c0-.181.147-.328.328-.328h1.73c.18   0  .327.147.327.328v.66h1.65c.18  0  .327.147.327.328V14.73c0  .18-.147.327-.327.327H.327zm13.018-.655V4.431H.655v9.971h12.69zm0-10.626V1.713h-1.322v.66c0  .181-.147.328-.327.328h-1.73a.327.327  0 0  1-.328-.327v-.661H4.362v.66c0  .181-.147.328-.328.328h-1.73a.327.327  0 0  1-.327-.327v-.661H.655v2.063h12.69zm-1.977-1.73V.724h-1.075v1.322h1.075zm-7.661  0V.724H2.632v1.322h1.075z" />
                      <path
                        d="M13.673  1.138h-1.73V.397a.246.246  0 0  0-.247-.247h-1.73a.246.246  0 0  0-.247.247v.74H4.28v-.74A.246.246  0 0 0  4.034.15h-1.73a.246.246  0 0  0-.247.247v.74H.327a.247.247  0 0  0-.247.248V14.73a.246.246  0 0 0  .247.247h13.346a.246.246  0 0 0  .247-.247V1.385a.247.247  0 0  0-.247-.247zm-3.46-.494h1.236v1.483h-1.236V.644zm-7.662  0h1.236v1.483H2.551V.644zm-1.977.989h1.483v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741H9.72v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741h1.483v2.223H.574V1.633zm0  12.85V4.35h12.852v10.133H.574z" />
                      <path
                        d="M2.224 13.08V5.753h9.552v7.327H2.224zm8.896-.655v-1.569H9.551v1.57h1.57zm-2.224 0v-1.569H7.327v1.57h1.57zm-2.223  0v-1.569h-1.57v1.57h1.57zm-2.224  0v-1.569h-1.57v1.57h1.57zm6.671-2.224V8.633H9.551V10.2h1.57zm-2.224  0V8.633H7.327V10.2h1.57zm-2.223  0V8.633h-1.57V10.2h1.57zm-2.224 0V8.633h-1.57V10.2h1.57zm6.671-2.224v-1.57H9.551v1.57h1.57zm-2.224  0v-1.57H7.327v1.57h1.57zm-2.223  0v-1.57h-1.57v1.57h1.57zm-2.224  0v-1.57h-1.57v1.57h1.57z" />
                      <path
                        d="M8.977 5.833H2.304V13h9.392V5.833h-2.72zm-1.73.494h1.73v1.73h-1.73v-1.73zm1.73  3.955h-1.73v-1.73h1.73v1.73zm-3.954-1.73h1.73v1.73h-1.73v-1.73zm0-2.225h1.73v1.73h-1.73v-1.73zm-2.224  0h1.73v1.73H2.8v-1.73zm0 2.225h1.73v1.73H2.8v-1.73zm1.73 3.954H2.8v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0H9.47v-1.73h1.73v1.73zm0-2.224H9.47v-1.73h1.73v1.73zm0-3.955v1.73H9.47v-1.73h1.73z" />
                    </g>
                  </svg>
                  {{data.handOff.h_created_on | date:'dd/MM/yyyy' }}</span>
              </div>
              <div class="item order-info">
                <div class="leftd-flex align-items-center flex-wrap pr-4">
                  <div class="d-flex align-items-center justify-content-between mb-3 w-100"
                    *ngIf="(data.handOff.plan_selected==1) && data.handOff.h_data.proposalDetails.proposal_project_value_gold > 0 ">
                    <span class="m-0 pr-4">Gold Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_gold - data.handOff.h_data.proposalDetails.discount)}}</strong>
                  </div>
                  <div class="d-flex align-items-center justify-content-between w-100"
                    *ngIf="(data.handOff.plan_selected==2) && data.handOff.h_data.proposalDetails.proposal_project_value_silver > 0 ">
                    <span class="m-0 pr-4">Silver Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_silver - data.handOff.h_data.proposalDetails.discount_silver)}}</strong>
                  </div>
                </div>
                <div class="right d-flex right-box-table">
                  <a href="javascript:void(0)" class="p-1" (click)="ProjectDetailView(data.handOff)">View Project
                    Detail</a>
                  <a href="javascript:void(0)" (click)="Completedviewprojectplan(data.handOff)" class="btn p-1">View
                    Plan</a>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="(completedProjectlist).length < 1"> No Completed Projects Found</div>
        </div>
        <!-- end of  completed project list -->

        <!--  assigned project list -->
        <div class="ongoing-project-list" *ngIf="isListing == 'assigned_project_listing' ">
          <smart-search (SearchResults)="smartSearchResults($event)" *ngIf="showSmartSearchComponent"></smart-search>
          <div class="project-list" *ngIf="(assignedProjectList).length">
            <div class="project-info" *ngFor="let data of assignedProjectList; let i = index">
              <div class="title item">
                <span>{{data.handOff.h_data.consumerProject.project_code}}</span>
                <h2>
                  {{data.handOff.h_data.customer_name}}
                </h2>
              </div>
              <div class="item grid-info grid-area">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M6.792 14.155c.336-.336-.185-.858-.521-.521-.336.337.185.857.521.521zM2.67 2.777c-.548.59-.854 1.285-.819  1.857.029.479.765.426.736-.045-.017-.276.137-.785.624-1.311.487-.526.983-.716  1.26-.72.473-.007.464-.743-.011-.737-.573.008-1.242.365-1.79.956zM1.928  2.067c.7-.755 1.581-1.25 2.241-1.26.473-.006.464-.742-.01-.737-.866.013-1.928.586-2.772 1.5C.543 2.484.051 3.578.1 4.442c.03.479.765.427.737-.045-.037-.659.39-1.574 1.091-2.33z" />
                      <path
                        d="M15.6 17.975h-1.4l-3.588-6.745a2.539 2.539 0 0 0 .141-3.984 5.664 5.664 0 0 0-.018-3.74A5.593 5.593 0 0 0 9.4 1.4a.371.371 0 0 0-.522 0l-3.5 3.5-.825-.8c-.34-.329-.853.2-.512.531l.815.786L1.4  8.881a.368.368 0 0 0 0 .519 5.6 5.6 0 0 0 2.106 1.331 5.677 5.677 0 0 0   3.629.055c.136.166.293.315.466.443l-.63  1.187c-.219.414.43.764.652.346l.629-1.187a2.535  2.535 0 0 0 1.707 0l2.891  5.441-3.377-2.591v-1c0-.473-.737-.474-.737   0v1l-3.573 2.62.915-1.634a.369.369 0 1 0-.644-.36L3.8 17.974H2.611c-.474 0-.474.738 0  .738H15.6c.476 0 .476-.737 0-.737zM3.754 10.038a4.853 4.853 0 0  1-1.56-.906l6.94-6.94c.397.459.704.988.906  1.56.354.997.377 2.081.068 3.093a2.542 2.542 0 0  0-3.357 3.294 4.946 4.946 0 0 1-2.997-.101zM7.3  9.182a1.806 1.806 0 1 1 3.612 0 1.806 1.806 0 0  1-3.612 0zm1.8 5.888l3.786 2.905H5.14L9.1  15.07z" />
                      <path
                        d="M9.107 8a1.181 1.181 0 1 0 0 2.362 1.181 1.181 0 0 0 0-2.362zm0 1.624a.443.443 0 1 1 0-.888.443.443 0 0 1 0 .889v-.001z" />
                    </g>
                  </svg> {{ getSolutionType(data.handOff.h_data.proposalDetails.proposal_solution_type)}}</span>
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M8.376 1.18l1.768 1.808a.38.38 0 1 0 .542-.531L8.432.153c-.146-.15-.504-.17-.654-.023L5.474 2.385a.38.38 0 1 0 .53.543l1.492-1.46-.011  4.269c.005.107.05.207.124.284a.406.406 0  0 0 .276.122.424.424 0 0 0  .412-.396l.08-4.567zM15.908  7.811l-2.255-2.303a.38.38 0 0  0-.54.53l1.673 1.709-4.574-.024a.402.402  0 0  0-.396.388c-.004.102.033.2.102.276.06.061.145.092.23.082l4.396.017-1.596  1.558a.38.38 0 1 0  .532.542l2.304-2.256c.15-.146.27-.369.124-.519zM5.75  7.414l-4.265-.08 1.47-1.442a.38.38 0 1  0-.531-.542L.12  7.606c-.15.146-.034.404.112.553l2.255  2.305a.38.38 0 0 0 .542-.532L1.242  8.106l4.558.075a.359.359 0 0 0 .354-.38.412.412 0 0 0-.405-.387zM10.435  13.014a.379.379 0 0 0-.536-.005l-1.57  1.54.083-4.399a.351.351 0 0  0-.358-.366.337.337 0 0 0-.35.359l-.014  4.566-1.696-1.726a.38.38 0 1  0-.542.53l2.255  2.305c.147.149.27.134.418-.012l2.305-2.255a.379.379  0 0 0 .005-.537z" />
                    </g>
                  </svg>
                  DC Capacity/{{data.handOff.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </div>
              <div class="item assign-address">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 16 18">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M14.225 13.57c-.825-.299-1.909-.529-3.16-.675.122-.122.241-.245.358-.372  1.12-1.203 1.866-2.38  2.28-3.598.889-2.615.016-5.853-2.033-7.534A5.903  5.903 0 0 0 7.935.066 5.905 5.905 0  0 0 4.2 1.39c-.97.796-1.716  1.965-2.103 3.293-.385 1.312-.385  2.7-.024 3.906.489 1.614 1.542 3.036  2.775  4.306-1.246.146-2.326.375-3.149.675-1.12.405-1.693.912-1.693   1.508 0 .728.835 1.318 2.484 1.754  1.466.385 3.408.601 5.47.601 2.063 0  4.004-.214 5.47-.601 1.649-.436  2.484-1.026 2.484-1.754  0-.596-.568-1.103-1.69-1.509zM2.755  4.875C3.103 3.68 3.77 2.63 4.635  1.92a5.24 5.24 0 0 1 6.6 0c.895.733  1.57 1.838 1.902 3.11.327 1.253.298  2.557-.082 3.675-.856 2.52-3.11  4.398-5.12 6.053C5.807 13 3.493  10.918 2.731  8.39c-.331-1.081-.321-2.33.024-3.516zm10.5 11.297c-1.41.373-3.29.578-5.295.578-2.003  0-3.885-.205-5.295-.578C1.105  15.759.69 15.29.69 15.079c0-.454  1.523-1.26 4.789-1.56a39.088 39.088  0 0 0 2.09 1.823c.28.232.447.235.734  0 .674-.557 1.412-1.165 2.12-1.825  3.277.3 4.806 1.108 4.806 1.562 0  .212-.415.681-1.974 1.093z" />
                      <path
                        d="M9.79 9.92c.398-.187.107-.806-.288-.619a3.693  3.693 0 0 1-1.542.355 3.507  3.507 0 1 1  3.23-2.138c-.173.404.456.675.629.269a4.194 4.194 0 1 0-3.856 2.55 4.398  4.398 0 0 0 1.828-.417z" />
                      <path
                        d="M10.767 8.437a.342.342  0 1 0-.001.684.342.342 0 0 0 .001-.684zM10.15  4.352a.953.953 0 0  0-1.336.172L7.36  6.413l-.386-.29a.951.951 0 1  0-1.157  1.51l1.136.868a.964.964 0 0  0  1.336-.174l2.033-2.64a.952.952  0 0  0-.173-1.335zm-.37.917L7.747  7.91a.27.27 0 0  1-.375.049L6.234  7.09c-.273-.209.05-.637.327-.425l.653.501a.342.342  0 0 0 .482-.062L9.36  4.947a.268.268 0 1 1  .424.326L9.78 5.27z" />
                    </g>
                  </svg>
                  {{data.handOff.h_data.consumer.consumer_address1 !='NULL' ? data.handOff.h_data.consumer.consumer_address1:'' }}
                  {{data.handOff.h_data.district_name !='NULL' ? data.handOff.h_data.district_name : ''}}
                  {{data.handOff.h_data.state_name !='NULL' ?data.handOff.h_data.state_name:'' }}</span>
                <span> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                    <g fill="#000" fill-rule="nonzero" opacity=".7">
                      <path
                        d="M.327 15.057A.327.327 0 0 1 0 14.73V1.385c0-.181.147-.327.327-.328h1.65v-.66c0-.181.147-.328.327-.328h1.73c.181   0  .328.147.328.328v.66h5.276v-.66c0-.181.147-.328.328-.328h1.73c.18   0  .327.147.327.328v.66h1.65c.18  0  .327.147.327.328V14.73c0  .18-.147.327-.327.327H.327zm13.018-.655V4.431H.655v9.971h12.69zm0-10.626V1.713h-1.322v.66c0  .181-.147.328-.327.328h-1.73a.327.327  0 0  1-.328-.327v-.661H4.362v.66c0  .181-.147.328-.328.328h-1.73a.327.327  0 0  1-.327-.327v-.661H.655v2.063h12.69zm-1.977-1.73V.724h-1.075v1.322h1.075zm-7.661  0V.724H2.632v1.322h1.075z" />
                      <path
                        d="M13.673  1.138h-1.73V.397a.246.246  0 0  0-.247-.247h-1.73a.246.246  0 0  0-.247.247v.74H4.28v-.74A.246.246  0 0 0  4.034.15h-1.73a.246.246  0 0  0-.247.247v.74H.327a.247.247  0 0  0-.247.248V14.73a.246.246  0 0 0  .247.247h13.346a.246.246  0 0 0  .247-.247V1.385a.247.247  0 0  0-.247-.247zm-3.46-.494h1.236v1.483h-1.236V.644zm-7.662  0h1.236v1.483H2.551V.644zm-1.977.989h1.483v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741H9.72v.74a.246.246  0 0 0  .247.248h1.73a.246.246  0 0 0  .247-.247v-.741h1.483v2.223H.574V1.633zm0  12.85V4.35h12.852v10.133H.574z" />
                      <path
                        d="M2.224 13.08V5.753h9.552v7.327H2.224zm8.896-.655v-1.569H9.551v1.57h1.57zm-2.224 0v-1.569H7.327v1.57h1.57zm-2.223  0v-1.569h-1.57v1.57h1.57zm-2.224  0v-1.569h-1.57v1.57h1.57zm6.671-2.224V8.633H9.551V10.2h1.57zm-2.224  0V8.633H7.327V10.2h1.57zm-2.223  0V8.633h-1.57V10.2h1.57zm-2.224 0V8.633h-1.57V10.2h1.57zm6.671-2.224v-1.57H9.551v1.57h1.57zm-2.224  0v-1.57H7.327v1.57h1.57zm-2.223  0v-1.57h-1.57v1.57h1.57zm-2.224  0v-1.57h-1.57v1.57h1.57z" />
                      <path
                        d="M8.977 5.833H2.304V13h9.392V5.833h-2.72zm-1.73.494h1.73v1.73h-1.73v-1.73zm1.73  3.955h-1.73v-1.73h1.73v1.73zm-3.954-1.73h1.73v1.73h-1.73v-1.73zm0-2.225h1.73v1.73h-1.73v-1.73zm-2.224  0h1.73v1.73H2.8v-1.73zm0 2.225h1.73v1.73H2.8v-1.73zm1.73 3.954H2.8v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0h-1.73v-1.73h1.73v1.73zm2.224  0H9.47v-1.73h1.73v1.73zm0-2.224H9.47v-1.73h1.73v1.73zm0-3.955v1.73H9.47v-1.73h1.73z" />
                    </g>
                  </svg>
                  {{data.handOff.h_created_on | date:'dd/MM/yyyy' }}</span>
              </div>
              <div class="item assign-order d-flex">
                <div class="left w-100 d-flex align-items-center flex-wrap">
                  <div class="d-flex align-items-center justify-content-between mb-3 w-100"
                    *ngIf="(data.handOff.plan_selected==1) && data.handOff.h_data.proposalDetails.proposal_project_value_gold > 0 ">
                    <span class="m-0 pr-4">Gold Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_gold - data.handOff.h_data.proposalDetails.discount)}}</strong>
                  </div>
                  <div class="d-flex align-items-center justify-content-between w-100"
                    *ngIf="(data.handOff.plan_selected==2) && data.handOff.h_data.proposalDetails.proposal_project_value_silver > 0 ">
                    <span class="m-0 pr-4">Silver Order Value</span>
                    <strong>₹{{(data.handOff.h_data.proposalDetails.proposal_project_value_silver - data.handOff.h_data.proposalDetails.discount_silver)}}</strong>
                  </div>

                </div>

              </div>

              <div class="item view-info d-flex">
                <div class="veiw-wrap w-100 d-flex align-items-center justify-content-between">
                  <div class="viewhandoff">
                    <a class="vielnk" (click)="ViewHandoffDetails(data?.handOff)">View HandOff</a>
                  </div>
                  <div class="accptrjct d-flex align-items-center justify-content-between">
                    <a href="javascript:void(0)" (click)="AcceptAssignedProject(data.handOff.h_id , '2')"
                      class="btn p-1">Accept</a>
                    <a href="javascript:void(0)" (click)="RejectAssignedProject(data.handOff.h_id)"
                      class="reject">Reject</a>
                  </div>
                </div>
              </div>

            </div>


          </div>
          <div *ngIf="(assignedProjectList).length < 1"> No Assigned Projects Found</div>
        </div>
        <!--  end of assigned project list -->
        <ul
          *ngIf="pageCount && (isListing == 'assigned_project_listing' || isListing == 'completed_project_listing' || isListing == 'allocated_project_listing' || isListing == 'ongoing_project_listing')"
          style="white-space:nowrap;">

          <li [ngClass]="{disabled:pages === 1}">
            <a (click)="getprojectsList(pages - 1)">
              <!-- <i *ngIf="pages > 1" class="fa fa-angle-left" style="cursor:pointer;">
                        </i> -->
            </a>
          </li>
          &nbsp; &nbsp;
          <li>
            <a>Page {{pages}} of {{pageCount}}</a>
          </li>
          &nbsp; &nbsp;
          <li [ngClass]="{disabled:pages === pageCount}">
            <a (click)="getprojectsList(pages + 1)">
              <!-- <i *ngIf="pages < pageCount" class="fa fa-angle-right" style="cursor:pointer;">
                        </i> -->
            </a>
          </li>
          <li>
            <div class="custom-pagination ">
              <form [formGroup]="paginationSubmitForm" (ngSubmit)="pageSubmit()">
                <div class="row">
                  <input type="number" formControlName="page_number" class="form-text" min="0" max="{{pageCount}}"
                    (keypress)=_keyPresspagination($event)>
                  &nbsp;&nbsp;<button type="submit" class="btn btn-blue btn-md">Go</button>
                  <span class="error" *ngIf="paginationSubmitForm.controls?.page_number?.errors?.max">Page number
                    must be less than or
                    equal to {{pageCount}}</span>
                </div>
              </form>
            </div>
          </li>
          <li>Total records: <strong>{{totalItem}}</strong></li>
        </ul>

        <div id="container" *ngIf="isListing == 'view_hand_off'">
          <div id="content">
            <div class="row">
              <div class="col-12">
                <div class="top-title d-flex align-items-center justify-content-between">
                  <!-- <h2>Create Handoff</h2> -->
                  <a href="javascript:void(0)"
                    (click)="getIntercationLog(handoff_data?.h_data.consumerProject?.project_id)"
                    class="btn p-1 viwintrbtn">View Interaction Log</a>
                  <a href="javascript:void(0)" (click)="getAssignedProjectList()" class="btn p-1">Close</a>
                </div>
              </div>

            </div>
            <div class="project-wrap">
              <div class="row">
                <div class="col-12">
                  <div class="title d-flex align-items-center justify-content-between">
                    <div class="left">
                      <h3>Sales to Project Management Handing Over Document</h3>
                    </div>
                    <div class="right date d-flex align-items-center justify-content-between">
                      <strong>Date</strong>
                      <span> {{handoff_data.h_created_on | date: 'dd/MM/yyyy'}}</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="customer-detail">
                <div class="row">
                  <div class="col-12">
                    <div class="divide-heading">
                      <h4>Customer Details</h4>
                    </div>
                    <div class="row-wrap border-top-0 d-flex align-items-center justify-content-between">
                      <div class="left">
                        <strong>Proposal ID &amp; Date</strong>
                        <span>{{handoff_data.h_data.proposalDetails.proposal_code}} (generated
                          on
                          {{handoff_data.h_data.proposalDetails.proposal_created_on | date: 'dd/MM/yyyy' }})</span>
                      </div>
                      <div class="right">
                        <strong>Project ID</strong>
                        <span>{{handoff_data.h_data.consumerProject.project_code}}</span>
                      </div>
                    </div>
                    <div class="row-wrap d-flex align-items-center justify-content-between">
                      <div class="left">
                        <strong>Customer Name</strong>
                        <span>{{handoff_data.h_data.customer_name}}</span>
                      </div>
                      <div class="right">
                        <strong>Customer ID</strong>
                        <span>{{handoff_data.h_data.consumer.consumer_code}}</span>
                      </div>
                    </div>
                    <div class="row-wrap white d-flex align-items-center justify-content-between">
                      <div class="left border-right-0">
                        <strong>Site Address</strong>
                        {{handoff_data.h_data.cceLeaddata.cceld_address1}}
                        {{handoff_data.h_data.cceLeaddata.cceld_address2}}
                        {{handoff_data.h_data.cceLeaddata.district_name}}
                        {{handoff_data.h_data.cceLeaddata.state_name}}-{{handoff_data.h_data.cceLeaddata.cceld_pincode}}
                      </div>

                    </div>
                    <div class="row-wrap d-flex align-items-center justify-content-between">
                      <div class="left border-right-0">
                        <strong>GST No (if applicable)</strong>
                        <span>{{handoff_data.h_data.consumer.consumer_gst}}</span>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
              <div class="project-details">
                <div class="row">
                  <div class="col-12">
                    <div class="divide-heading">
                      <h4>Project Details</h4>
                    </div>
                    <div class="row-wrap d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Solution Type</strong>
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Installation Type</strong>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 1">Grid-Tied</span>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 2">Off-Grid</span>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type == 3">Hybrid</span>
                          </li>
                          <!-- <li>
                                                    <strong>Package</strong>
                                                    <span>{{(handoff_data.h_data?.proposalDetails?.proposal_pricing_options == 1) ? "GOLD" : (HandoffLeadListingData?.proposalDetails?.proposal_pricing_options == 2) ? "SILVER" : "GOLD - SILVER"}}</span>
                                                </li> -->
                          <li>
                            <strong>DC Capacity</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_dc_capacity}}</span>
                          </li>
                          <li>
                            <strong>Phases</strong>
                            <span>{{handoff_data?.h_data?.surveyForm?.sf_connection_type}} <span>Phase</span></span>
                          </li>
                        </ul>
                      </div>
                    </div>

                    <div class="row-wrap d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Panel Rating / Quantity</strong>
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Panel Type</strong>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 1">72-Cell Poly-Crystalline</span>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 2">144-Cell Mono PERC Half Cut</span>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 3">72-Cell Mono Crystalline</span>
                            <span *ngIf="handoff_data.h_data?.proposalDetails?.proposal_panel_type == 4">72-Cell Mono Crystalline PERC</span>
                          </li>

                          <li>
                            <strong>Module capacity</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_module_capacity}}</span>
                          </li>
                          <li>
                            <strong>Panel Qty</strong>
                            <span>{{handoff_data.h_data?.proposalDetails?.proposal_number_of_solar_panel}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>

                    <div *ngIf="handoff_data?.h_data?.proposalDetails?.proposal_solution_type =='2' "
                    class="row-wrap white  d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Batteries</strong>
                      </div>
                      <div class="divide-two d-flex">
                        <div class="item top">
                          <ul class="d-flex w-100 border-none">
                            <li>
                              <strong>Battery Type</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_solar_battery}}</span>
                            </li>
                            <li>
                              <strong *ngIf="handoff_data.h_data?.proposalDetails?.battery_nos">Battery
                                Quantity</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.battery_nos}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div class="row-wrap d-flex justify-content-between"
                      *ngIf="handoff_data.h_data?.proposalDetails?.proposal_solution_type =='2' ">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Battery Rating / Quantity</strong>
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Battery</strong>
                            <span>{{handoff_data.h_data?.proposalDetails?.proposal_solar_battery}}</span>
                          </li>

                          <li>
                            <strong>Battery H-Series/L-Series</strong>
                            <span>{{handoff_data.h_data?.proposalDetails?.battery_series=='5' ? 'H Series / 5 Years': handoff_data.h_data?.proposalDetails?.battery_series=='3' ? 'L Series / 3 Years': ''}}</span>
                          </li>
                          <li>
                            <strong>Battery Qty</strong>
                            <span>{{handoff_data.h_data?.proposalDetails?.battery_nos}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>


                    <div class="row-wrap d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Other Customisation</strong>
                      </div>
                      <div class="customize-area d-flex align-items-center">
                        {{handoff_data.h_customization_remark}}
                      </div>
                    </div>

                    <div class="row-wrap d-flex justify-content-between"
                      *ngIf="handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='1' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='2' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' ">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Inverter Rating/ Quantity</strong>
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Solar Inverter Rating (S.no.1)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Phase (S.no.1)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Quantity (S.no.1)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>

                    <div class="row-wrap d-flex justify-content-between"
                      *ngIf=" handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='2' || handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' ">
                      <div class="docs-title d-flex  align-items-center ">
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Solar Inverter Rating (S.no.2)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating2}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Phase (S.no.2)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase2}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Quantity (S.no.2)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity2}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>

                    <div class="row-wrap d-flex justify-content-between"
                      *ngIf="handoff_data?.h_data?.proposalDetails?.proposal_inverter_number =='3' ">
                      <div class="docs-title d-flex  align-items-center ">
                      </div>
                      <div class="divide-three d-flex">
                        <ul class="d-flex w-100 border-none">
                          <li>
                            <strong>Solar Inverter Rating (S.no.3)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_rating3}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Phase (S.no.3)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_phase3}}</span>
                          </li>
                          <li>
                            <strong>Solar Inverter Quantity (S.no.3)</strong>
                            <span>{{handoff_data?.h_data?.proposalDetails?.proposal_inverter_quantity3}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="row-wrap d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Structure</strong>
                      </div>
                      <div class="divide-two d-flex">
                        <div class="item top">
                          <ul class="d-flex w-100 border-none">
                            <li>
                              <strong>Structure Type</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_structure_type}}</span>
                            </li>
                            <li>
                              <strong>Structure BOM</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.StrucBOM}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pricing-details">
                <div class="row">
                  <div class="col-12">
                    <div class="divide-heading">
                      <h4>Pricing &amp; Other Terms</h4>
                    </div>
                    <div class="row-wrap white d-flex align-items-center justify-content-between">
                      <div class="left border-right-0">
                        <strong>Solution Value including taxes (INR)</strong>
                        <span
                          *ngIf="handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">GOLD
                          -
                          ₹{{(handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount)}}</span>
                        <span
                          *ngIf="handoff_data.h_data?.proposalDetails?.proposal_project_value_silver && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver !=0">SILVER
                          -
                          ₹{{(handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver)}}</span>
                      </div>

                    </div>
                    <div class="row-wrap d-flex align-items-center justify-content-between">
                      <div class="left border-right-0">
                        <strong>Payment Terms / Plan</strong>
                        <span
                          *ngIf="(handoff_data.plan_selected==1) && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">GOLD
                          -
                          <span>{{handoff_data.h_data?.proposalDetails?.proposal_advanced}}-{{handoff_data.h_data?.proposalDetails?.proposal_payment_2}}-{{handoff_data.h_data?.proposalDetails?.proposal_payment_3}}</span>
                          <span
                            *ngIf="handoff_data.h_data.proposalDetails.proposal_payment_4">-{{handoff_data.h_data?.proposalDetails?.proposal_payment_4}}
                          </span>
                        </span>
                        <span
                          *ngIf="(handoff_data.plan_selected==2) && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver && handoff_data.h_data?.proposalDetails?.proposal_project_value_silver !=0">SILVER
                          <span>{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver}}-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1}}-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2}}
                          </span>
                          <span
                            *ngIf="handoff_data.h_data.proposalDetails.proposal_advance_silver_3 > 0">-{{handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3}}
                          </span>
                        </span>
                      </div>
                    </div>
                    <div class="row-wrap white  d-flex justify-content-between"
                      *ngIf="(handoff_data.plan_selected==1) && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold && handoff_data.h_data?.proposalDetails?.proposal_project_value_gold !=0">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Payment GOLD Slabs
                          (in INR)</strong>
                      </div>
                      <div class="divide-two">
                        <div class="item top">
                          <ul class="d-flex">
                            <li>
                              <strong>P1</strong>
                              <span>₹
                                {{ ( handoff_data.h_data?.proposalDetails?.proposal_advanced?((handoff_data.h_data?.proposalDetails?.proposal_advanced* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                            </li>
                            <li>
                              <strong>P2</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_2?((handoff_data.h_data?.proposalDetails?.proposal_payment_2* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="item bottom">
                          <ul class="d-flex">
                            <li>
                              <strong>P3</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_3?((handoff_data.h_data?.proposalDetails?.proposal_payment_3* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                            </li>
                            <li *ngIf="handoff_data.h_data?.proposalDetails?.proposal_payment_4">
                              <strong>P4</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_payment_4?((handoff_data.h_data?.proposalDetails?.proposal_payment_4* (handoff_data.h_data?.proposalDetails?.proposal_project_value_gold - handoff_data.h_data?.proposalDetails?.discount) )/100):'' )}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div class="row-wrap white  d-flex justify-content-between"
                      *ngIf="(handoff_data.plan_selected==2) && HandoffLeadListingData?.proposalDetails?.proposal_project_value_silver && HandoffLeadListingData?.proposalDetails?.proposal_project_value_silver !=0">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Payment SILVER Slabs
                          (in INR)</strong>
                      </div>
                      <div class="divide-two">
                        <div class="item top">
                          <ul class="d-flex">
                            <li>
                              <strong>P1</strong>
                              <span>₹
                                {{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                            </li>
                            <li>
                              <strong>P2</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_1* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="item bottom">
                          <ul class="d-flex">
                            <li>
                              <strong>P3</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_2* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                            </li>
                            <li *ngIf="data.h_data?.proposalDetails?.proposal_advance_silver_4">
                              <strong>P4</strong>
                              <span>₹{{ ( handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3?((handoff_data.h_data?.proposalDetails?.proposal_advance_silver_3* (handoff_data.h_data?.proposalDetails?.proposal_project_value_silver - handoff_data.h_data?.proposalDetails?.discount_silver) )/100):'' )}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="(handoff_data.plan_selected == '1')" class="row-wrap   d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Other Inclusions/Commitments </strong>
                      </div>
                      <div class="divide-two">
                        <div class="item top">
                          <ul class="d-flex">
                            <li>
                              <strong>Insurance</strong>
                              <span>{{ handoff_data.h_data?.proposalDetails?.proposal_insurance_gold}}</span>
                            </li>
                            <li>
                              <strong>Maintenance Visits</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_maintenance_gold}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="item bottom">
                          <ul class="d-flex">
                            <li>
                              <strong>RMS</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_remote_monitoring_system_gold}}</span>
                            </li>
                            <li>
                              <strong>Any Other</strong>
                              <span> {{handoff_data.commitment_remark}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="(handoff_data.plan_selected == '2')" class="row-wrap   d-flex justify-content-between">
                      <div class="docs-title d-flex  align-items-center ">
                        <strong>Other Inclusions/Commitments </strong>
                      </div>
                      <div class="divide-two">
                        <div class="item top">
                          <ul class="d-flex">
                            <li>
                              <strong>Insurance</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_insurance_silver}}</span>
                            </li>
                            <li>
                              <strong>Maintenance Visits</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_maintenance_silver}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="item bottom">
                          <ul class="d-flex">
                            <li>
                              <strong>RMS</strong>
                              <span>{{handoff_data.h_data?.proposalDetails?.proposal_remote_monitoring_system_silver}}</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>




                  </div>
                </div>
              </div>
            </div>
            <div class="project-document">
              <div class="row">
                <div class="col-12">
                  <div class="title d-flex align-items-center justify-content-between">
                    <h3>Project Documents</h3>

                  </div>
                  <div class="doc-wrap d-flex justify-content-between">
                    <div class="upload">
                      <strong>Uploaded Document:</strong>
                      <ul class="d-flex flex-wrap">
                        <li *ngFor="let projectDocuments of handoff_data.h_data?.ProjectDocuments; let i = index">
                          <a href="{{baseurl}}{{projectDocuments.pdoc_filename}}" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="26" viewBox="0 0 20 26">
                              <g fill="none" fill-rule="nonzero">
                                <path fill="#E9E9E0"
                                  d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                <path fill="#CC4B4C"
                                  d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                <g fill="#FFF">
                                  <path
                                    d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                </g>
                              </g>
                            </svg>
                            <span *ngIf="projectDocuments.pdoc_type != 'Add more files' && projectDocuments.pdoc_type != 'Other'" class="docnem">{{projectDocuments.pdoc_type}}</span>
                            <span *ngIf="projectDocuments.pdoc_type === 'Add more files' || projectDocuments.pdoc_type === 'Other'" class="docnem">{{projectDocuments.pdoc_filename.split("/").pop()}}</span>
                          </a>
                        </li>

                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="remark-wrap d-flex  ">
              <h4 *ngIf="handoff_data.h_remark">Site surveyor remarks</h4>
              <p>{{handoff_data.h_remark}}</p>
              <h4 style="margin-left: 15px;">Ops head remarks</h4>
              {{handoff_remark?.hrj_remark}}
            </div>
            <div class="viewhandaccptrjct pull-right">
              <a href="javascript:void(0)" (click)="AcceptAssignedProject(handoff_data.h_id , '2')"
                class="btn p-1">Accept</a>
              <a href="javascript:void(0)" (click)="RejectAssignedProject(handoff_data.h_id)" class="btn p-1">Reject</a>
            </div>


          </div>
        </div>

        <div id="container" *ngIf="isListing == 'view_project_detail'">
          <div class="row">
            <div class="col-lg-12">
              <div class="heading-blk">
                <h1 class="main-heading" style="padding: 5px;">Project Details</h1>
                <div class="backdv">
                  <a href="javascript:void(0)" class="btn pull-right p-1" (click)="CloseProjectDetail()"
                    style="margin-bottom: 10px">Back</a>
                </div>
              </div>
            </div>
            <div class="col-lg-8">
              <div class="data-blks project-details">
                <div class="data-blk">
                  <div class="table-responsive table-blk">
                    <table class="table table-bordered">
                      <thead class="thead-dark">
                        <tr>
                          <th colspan="4">Customer Details</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>Proposal ID & Date </td>
                          <td> <span class="disable-text">{{projectDetailData.proposalDetails.proposal_code}} (generated
                              on {{projectDetailData.proposalDetails.proposal_created_on}})</span>
                          </td>
                          <td>Project ID </td>
                          <td> <span class="disable-text">{{projectDetailData.consumerProject.project_code}}</span></td>
                        </tr>
                        <tr>
                          <td>Customer Name </td>
                          <td> <span
                              class="disable-text">{{projectDetailData.cceLeaddata.cceld_firstname+' '+projectDetailData.cceLeaddata.cceld_lastname }}</span>
                          </td>
                          <td>Customer ID </td>
                          <td> <span class="disable-text">{{projectDetailData.consumer.consumer_id}}</span></td>
                        </tr>
                        <tr>
                          <td>Email </td>
                          <td> <span style="text-transform: none;"
                              class="disable-text">{{projectDetailData.cceLeaddata.cceld_email}}</span></td>
                          <td>Phone No. </td>
                          <td> <span class="disable-text">{{projectDetailData.cceLeaddata.cceld_contactnumber}}</span>
                          </td>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <td>Site Address </td>
                          <td colspan="3"> <span
                              class="disable-text">{{projectDetailData.cceLeaddata.cceld_address1+ ' '+projectDetailData.cceLeaddata.cceld_address2   +' '+projectDetailData.district_name+' '+projectDetailData.state_name}}</span>
                          </td>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <td>GST No (if applicable) </td>
                          <td colspan="3"> <span class="disable-text">{{projectDetailData.consumer.consumer_gst}}</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="data-blk">
                  <div class="table-responsive table-blk">
                    <table class="table table-bordered">
                      <thead class="thead-dark">
                        <tr>
                          <th colspan="5">Solution Offered</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td rowspan="4">Solution Type </td>
                        </tr>
                        <tr>
                          <td colspan="2">Installation Type</td>
                          <td colspan="2">
                              <span *ngIf="projectDetailData.proposalDetails.proposal_solution_type==1"
                              class="disable-text">
                              Grid-Tied
                              </span>
                              <span *ngIf="projectDetailData.proposalDetails.proposal_solution_type==2"
                              class="disable-text">
                              Off-Grid
                              </span>
                              <span *ngIf="projectDetailData.proposalDetails.proposal_solution_type==3"
                              class="disable-text">
                              Hybrid
                              </span>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2">Package </td>
                          <td colspan="2"> <span
                              class="disable-text">{{projectDetailData.plan_selected==1?'GOLD':'SILVER'}}</span>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2">Phases </td>
                          <td colspan="2"> <span
                              class="disable-text">{{projectDetailData.surveyForm.sf_connection_type}}</span>
                          </td>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <td rowspan="3">Rating / Quantity</td>
                        </tr>
                        <tr>
                          <td>GTI/PCU</td>
                          <td> <span
                              class="disable-text">{{projectDetailData.proposalDetails?.proposal_inverter_phase}}</span>
                          </td>
                          <td>PV Panels </td>
                          <td> <span
                              class="disable-text">{{projectDetailData.proposalDetails?.proposal_number_of_solar_panel}}</span>
                          </td>
                        </tr>
                        <tr>
                          <td>Batteries</td>
                          <td colspan="3"> <span
                              class="disable-text">{{projectDetailData?.proposalDetails?.proposal_solar_battery}}</span>
                          </td>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <td rowspan="2">Other Customisation Required</td>
                        </tr>
                        <tr>
                          <td colspan="3"> <span
                              class="disable-text">{{projectDetailData.h_customization_status=='1'?'Yes':'No'}}</span>
                          </td>
                          <td colspan="3"> <span
                              class="disable-text">{{projectDetailData.h_customization_remark}}</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="data-blk">
                  <div class="table-responsive table-blk">
                    <table class="table table-bordered small-division">
                      <thead class="thead-dark">
                        <tr>
                          <th colspan="4">Partners</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>1. Site Surveyor</td>
                          <td> <span class="disable-text">{{projectDetailData.surveyour_name}}</span></td>
                          <td>2. Solution Designer</td>
                          <td> <span class="disable-text">{{projectDetailData.sol_designer_name}}</span></td>
                        </tr>
                        <tr>
                          <td>3. Project Manager</td>
                          <td> <span class="disable-text">{{projectDetailData.project_mgr_name}}</span></td>
                          <td>4. Partner</td>
                          <td> <span class="disable-text">{{projectDetailData.partner_name}}</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="data-blk">
                  <div class="table-responsive table-blk">
                    <table class="table table-bordered text-center all-border small-division">
                      <thead class="thead-dark">
                        <tr>
                          <th colspan="3">Project Status</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                      <tbody>
                        <tr>
                          <td>Task</td>
                          <td>Status</td>
                          <td>Completed Date</td>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr *ngFor="let data of projectDetailData.taskData; let i = index">

                          <td class="text-left">{{i+1}}. {{data.plnm_name}}</td>
                          <td> <span
                              class="text-success">{{data.projectPlan.pp_status==3?'Ongoing':data.projectPlan.pp_status==2?'Completed':'Pending'}}</span>
                          </td>
                          <td> <span class="disable-text">{{data.projectPlan.pp_actual_end_date}}</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="download-section">
                <h3 class="primary-bg-heding">Uploaded Documents</h3>
                <ul class="download-list">
                  <li *ngFor="let projectDocument of projectDetailData.ProjectDocuments; let i = index">
                    <a href="{{baseurl}}{{projectDocument.pdoc_filename}}" download target="_blank">
                      <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                        viewBox="0 0 20 26">
                        <g fill="none" fill-rule="nonzero">
                          <path fill="#E9E9E0"
                            d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                          <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                          <path fill="#CC4B4C"
                            d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                          <g fill="#FFF">
                            <path
                              d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                          </g>
                        </g>
                      </svg>
                      <!-- {{projectDocument.pdoc_type}} -->
                      <span *ngIf="projectDocument?.pdoc_type != 'Add more files' && projectDocument?.pdoc_type != 'Other'" class="docnem">{{projectDocument?.pdoc_type}}</span>
                      <span *ngIf="projectDocument?.pdoc_type === 'Add more files' || projectDocument?.pdoc_type === 'Other'"
                        class="docnem">{{projectDocument?.pdoc_filename.split("/").pop()}}</span>
                      <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                        viewBox="0 0 14 15">
                        <path fill="#003374" fill-rule="nonzero"
                          d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                      </svg>
                    </a>
                  </li>
                  <!-----------------------TASK DOCUMENTS------------------------------------>
                  <li *ngFor="let projectDocument of projectDetailData.TaskDocuments; let i = index">
                    <a href="{{baseurl}}/public/uploads/task/{{projectDocument.tdoc_hid}}/{{projectDocument.tdoc_filename}}"
                      download target="_blank">
                      <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                        viewBox="0 0 20 26">
                        <g fill="none" fill-rule="nonzero">
                          <path fill="#E9E9E0"
                            d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                          <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                          <path fill="#CC4B4C"
                            d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                          <g fill="#FFF">
                            <path
                              d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                          </g>
                        </g>
                      </svg>
                      {{projectDocument.tdoc_filetype}}
                      <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                        viewBox="0 0 14 15">
                        <path fill="#003374" fill-rule="nonzero"
                          d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                      </svg>
                    </a>
                  </li>
                  <!----------------------------------------------------------->
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!--  create project plan -->
        <div *ngIf="isView === 'create_project_plan' " style="margin-top: 60px;">
          <div class="project-detail-wrap">
            <ul class="info-list">
              <li><strong>Project ID -</strong><span>
                  {{ currentHandOffData.h_data.consumerProject.project_code}}</span></li>
              <li><strong>Customer - </strong><span> {{currentHandOffData.h_data.customer_name}}</span></li>
              <li><strong>System Type -
                </strong>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==1">Grid-Tied</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==2">Off Grid</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==3">Hybrid</span>
              </li>
              <li><strong>Order Value -
                </strong><span>₹{{currentHandOffData.plan_selected =='1' ?
                                ((currentHandOffData.h_data?.proposalDetails?.proposal_project_value_gold - currentHandOffData.h_data?.proposalDetails?.discount))
                              :(currentHandOffData.h_data.proposalDetails.proposal_project_value_silver - currentHandOffData.h_data?.proposalDetails?.discount_silver)}}</span>
              </li>
              <li><strong>Order Date -
                </strong><span>{{currentHandOffData.h_data.proposalDetails.proposal_modified_on | date:'dd/MM/yyyy' }}</span>
              </li>
              <li><strong>Address -
                </strong><span>{{currentHandOffData.h_data.cceld_address1}}{{currentHandOffData.h_data.district_name}}
                  {{currentHandOffData.h_data.state_name}}</span></li>
              <li><strong>System Size (Watts)- </strong>
                <span>DC Capacity/{{currentHandOffData.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </li>
            </ul>
            <div class="template-wrap">
              <h1>Available Templates</h1>
              <ul>
                <li (click)="CheckProjectSize(1)">
                  <div class="icon d-flex align-items-center justify-content-center " [ngClass]="{'active':(1 == 1)}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="86" height="104" viewBox="0 0 86 104">
                      <g fill="none" fill-rule="nonzero">
                        <path fill="#325889"
                          d="M66.588 104H3.412C1.527 104 0 102.448 0 100.533V11.467C0 9.552 1.527 8 3.412 8h63.176C68.473 8 70 9.552 70 11.467v89.066c0 1.915-1.527 3.467-3.412 3.467z" />
                        <path fill="#818181"
                          d="M66.45 8h-3.72v84.825c0 1.993-1.59 3.608-3.55 3.608H0v3.959C0 102.384 1.59 104 3.55 104h62.9c1.96 0 3.55-1.616 3.55-3.608V11.608C70 9.616 68.41 8 66.45 8z" />
                        <path fill="#729DD5"
                          d="M46.978 15H23.022C21.905 15 21 14.065 21 12.911V5.014C21 2.244 23.173 0 25.853 0h18.294C46.827 0 49 2.245 49 5.014v7.897C49 14.064 48.095 15 46.978 15z" />
                        <path fill="#729DD5"
                          d="M43.948 0H42.66c.105.42.161.86.161 1.312V8.92c0 1.201-.942 2.175-2.104 2.175H21v1.73c0 1.201.942 2.175 2.105 2.175h23.79C48.059 15 49 14.026 49 12.825V5.218C49 2.336 46.738 0 43.948 0zM83 33c0 9.941-8.059 18-18 18s-18-8.059-18-18c0-9.942 8.059-18 18-18s18 8.058 18 18z" />
                        <path fill="#729DD5"
                          d="M76.477 28.69c0 10.301-8.01 18.653-17.89 18.653-2.326 0-4.548-.464-6.587-1.306C55.267 49.705 59.931 52 65.11 52 74.99 52 83 43.649 83 33.348 83 25.47 78.318 18.735 71.698 16c2.964 3.33 4.78 7.788 4.78 12.69z" />
                        <path fill="#828282"
                          d="M64.112 41c-.931 0-1.825-.38-2.483-1.053l-8.6-8.804a3.656 3.656 0 0 1 0-5.084 3.455 3.455 0 0 1 4.966 0l6.117 6.26 15.893-16.266a3.455 3.455 0 0 1 4.966 0 3.656 3.656 0 0 1 0 5.085L66.596 39.947A3.472 3.472 0 0 1 64.112 41z" />
                        <path fill="#828282"
                          d="M84.962 15.913A3.513 3.513 0 0 0 83.45 15a3.665 3.665 0 0 1-.896 3.57L64.013 37.486a3.512 3.512 0 0 1-2.507 1.058c-.94 0-1.842-.38-2.506-1.06l2.407 2.457A3.512 3.512 0 0 0 63.913 41a3.51 3.51 0 0 0 2.506-1.06l18.543-18.914a3.667 3.667 0 0 0 0-5.113z" />
                        <g fill="#AAA">
                          <path
                            d="M40.776 41.497H21.917a1.56 1.56 0 0 1-1.547-1.572 1.56 1.56 0 0 1 1.547-1.572h18.859a1.56 1.56 0 0 1 1.547 1.572 1.56 1.56 0 0 1-1.547 1.572zM18.962 25.271H8.548A1.56 1.56 0 0 1 7.002 23.7a1.56 1.56 0 0 1 1.546-1.572h10.414A1.56 1.56 0 0 1 20.51 23.7a1.56 1.56 0 0 1-1.548 1.571zM40.776 48.789H21.917a1.56 1.56 0 0 1-1.547-1.572 1.56 1.56 0 0 1 1.547-1.572h18.859a1.56 1.56 0 0 1 1.547 1.572 1.56 1.56 0 0 1-1.547 1.572zM47.29 60.561H21.917a1.56 1.56 0 0 1-1.547-1.572 1.56 1.56 0 0 1 1.547-1.571H47.29a1.56 1.56 0 0 1 1.548 1.571c0 .87-.693 1.572-1.548 1.572zM34.604 67.853H21.917a1.56 1.56 0 0 1-1.547-1.571 1.56 1.56 0 0 1 1.547-1.572h12.687a1.56 1.56 0 0 1 1.548 1.572 1.56 1.56 0 0 1-1.548 1.571zM40.776 79.646H21.917a1.56 1.56 0 0 1-1.547-1.572 1.56 1.56 0 0 1 1.547-1.571h18.859a1.56 1.56 0 0 1 1.547 1.571 1.56 1.56 0 0 1-1.547 1.572zM47.29 86.938H21.917a1.56 1.56 0 0 1-1.547-1.572 1.56 1.56 0 0 1 1.547-1.572H47.29a1.56 1.56 0 0 1 1.547 1.572 1.56 1.56 0 0 1-1.547 1.572z" />
                        </g>
                        <path fill="#AAA"
                          d="M16 42.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0zM16 62.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0zM16 81.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0z" />
                      </g>
                    </svg>
                    <svg class="check-icon" xmlns="http://www.w3.org/2000/svg" width="55" height="55"
                      viewBox="0 0 55 55">
                      <g fill="none" fill-rule="evenodd" transform="translate(1 1)">
                        <circle cx="27" cy="27" r="20" fill="#FFF" stroke="#979797" />
                        <path fill="#003374" fill-rule="nonzero"
                          d="M26.667-.333c-14.911 0-27 12.089-27 27s12.089 27 27 27c14.913 0 27-12.089 27-27s-12.088-27-27-27zm-5 41l-12-12 4-4 8 8 18-18 4 4-22 22z" />
                      </g>
                    </svg>
                  </div>
                  <strong>Standard Size Project</strong>
                </li>
              </ul>
              <div class="btn-wrap"><a href="javascript:void(0)" (click)="ProceedProjectPlan()"
                  class="btn p-1">Proceed</a></div>
            </div>
          </div>

        </div>
        <!-- end of create project plan -->


        <!--  view project plan -->
        <div *ngIf="isView === 'view_project_plan' " style="margin-top: 60px;">
          <!--Content Area Start-->

          <div class="project-list-wrap">
            <ul class="info-list">
              <li><strong>Project ID -</strong><span>
                  {{ currentHandOffData.h_data.consumerProject.project_code}}</span></li>
              <li><strong>Customer - </strong><span> {{currentHandOffData.h_data.customer_name}}</span></li>
              <li><strong>System Type -
                </strong>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==1">Grid-Tied</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==2">Off Grid</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==3">Hybrid</span>
              </li>
              <li><strong>Order Value -
                </strong><span>₹{{currentHandOffData.plan_selected =='1' ?
                          (currentHandOffData.h_data?.proposalDetails?.proposal_project_value_gold - currentHandOffData.h_data?.proposalDetails?.discount)
                          :(currentHandOffData.h_data.proposalDetails.proposal_project_value_silver - currentHandOffData.h_data?.proposalDetails?.discount_silver)}}</span>
              </li>
              <li><strong>Order Date -
                </strong><span>{{currentHandOffData.h_data.proposalDetails.proposal_modified_on | date:'dd/MM/yyyy'}}</span>
              </li>
              <li><strong>Address -
                </strong><span>{{currentHandOffData.h_data.cceld_address1 !='NULL' ?currentHandOffData.h_data.cceld_address1 :'' }}{{currentHandOffData.h_data.district_name !='NULL'? currentHandOffData.h_data.district_name:''}}
                  {{currentHandOffData.h_data.state_name !='NULL'?currentHandOffData.h_data.state_name:''}}</span></li>
              <li><strong>System Size (Watts)- </strong>
                <span>DC Capacity/{{currentHandOffData.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </li>
              <li><strong>Phone No -
                </strong><span>{{currentHandOffData.h_data.cceLeaddata.cceld_mobileno}}</span></li>
            </ul>
            <div class="backdv">
              <a href="javascript:void(0)" class="btn pull-right p-1 backbtn" (click)="getAllocatedProject()">Back</a>
            </div>
          </div>
          <div class="project-list-table">
            <div class="table-responsive">
              <a href="javascript:void(0)" class="btn pull-right p-1" (click)="updateHoliday()">Update Holiday Plan</a>
              <table class="table">
                <thead>
                  <tr>
                    <th width="180">Milestone</th>
                    <th width="160">Planned <br>
                      Start Date</th>
                    <th width="140">Planned <br>
                      End Date</th>
                    <th width="80">Estimated <br>
                      days</th>

                    <!-- <th width="140">Actual <br>
                                  Start Date</th>
                                <th width="140">Actual <br>
                                  End Date</th> -->
                    <th width="140">Tasks</th>
                    <th width="140">Status</th>


                  </tr>
                </thead>
                <tbody>

                  <tr *ngFor="let plan of projectplan;let i=index">
                    <td class="title">{{plan.Milestone.plnm_name}}</td>

                    <td>
                      <p-calendar *ngIf="i==0" dateFormat="dd/mm/yy" showIcon="true" class="form-text" name="startdate"
                        [(ngModel)]="projectplan[i].startdate" required placeholder="Date"
                        (keypress)="datecheck($event)" (onSelect)="calculateEndDate(i,calender)" [monthNavigator]="true"
                        yearNavigator="true" yearRange="2000:2099"></p-calendar>
                      <p-calendar *ngIf="i > 0" dateFormat="dd/mm/yy" readonly="true" class="form-text" name="startdate"
                        [(ngModel)]="projectplan[i].startdate" required placeholder="Date" disabled="disabled">
                      </p-calendar>
                    </td>
                    <td><input type="text" readonly name="enddate" [(ngModel)]="projectplan[i].enddate"></td>
                    <td>
                      <input type="text" name="noofdays" min="1" autocomplete="off" maxlength="2"
                        [(ngModel)]="projectplan[i].noofdays" (blur)="calculateEndDate(i,calender)"
                        (keypress)="_keyPress($event)" required>
                    </td>
                    <td id="task1" class="task" align="center">
                      <a class=""
                        (click)="CompleteTaskList(plan.Task,plan.Milestone.plnm_name)"><u>{{(plan.Task).length}}</u></a>
                    </td>
                    <td><a>Pending</a></td>
                  </tr>

                </tbody>
              </table>
            </div>
          </div>
          <div class="button-wrap text-center btndv">
            <a href="javascript:void(0)" (click)="submitmilestoneCalendar(2)" class="btn p-1">Submit</a>
            <a href="javascript:void(0)" (click)="submitmilestoneCalendar(1)" class="btn  p-1">Save Draft</a>
          </div>

          <!--Content Area End-->

        </div>
        <!--  end of view project plan -->

        <!-- view ongoing project plan  -->
        <div *ngIf="isView === 'ongoing_view_project_plan' " style="margin-top: 60px;">
          <!--Content Area Start-->

          <div class="project-list-wrap">
            <ul class="info-list">
              <li><strong>Project ID -</strong><span>
                  {{ currentHandOffData.h_data.consumerProject.project_code}}</span></li>
              <li><strong>Customer - </strong><span> {{currentHandOffData.h_data.customer_name}}</span></li>
              <li><strong>System Type -
                </strong>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==1">Grid-Tied</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==2">Off Grid</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==3">Hybrid</span>
              </li>
              <li><strong>Order Value -
                </strong><span>₹{{currentHandOffData.plan_selected =='1' ?
                        (currentHandOffData.h_data?.proposalDetails?.proposal_project_value_gold - currentHandOffData.h_data?.proposalDetails?.discount)
                        :(currentHandOffData.h_data.proposalDetails.proposal_project_value_silver - currentHandOffData.h_data?.proposalDetails?.discount_silver) }}</span>
              </li>
              <li><strong>Order Date -
                </strong><span>{{currentHandOffData.h_data.proposalDetails.proposal_modified_on | date:'dd/MM/yyyy'}}</span>
              </li>
              <li><strong>Address -
                </strong><span>{{currentHandOffData.h_data.cceld_address1 !='NULL' ?currentHandOffData.h_data.cceld_address1 : ''   }}{{currentHandOffData.h_data.district_name !='NULL' ? currentHandOffData.h_data.district_name:''}}
                  {{currentHandOffData.h_data.state_name !='NULL'? currentHandOffData.h_data.state_name:''}}</span></li>
              <li><strong>System Size (Watts)- </strong>
                <span>DC Capacity/{{currentHandOffData.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </li>
              <li><strong>Phone No -
                </strong><span>{{currentHandOffData.h_data.cceLeaddata.cceld_mobileno}}</span></li>
            </ul>
          </div>
          <!-- Ongoing project list table -->
          <div class="project-list-table">
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th width="180">Milestone</th>
                    <th width="140">Planned <br>
                      Start Date</th>
                    <th width="140">Planned <br>
                      End Date</th>
                    <th>Tasks</th>
                    <th width="140">Actual <br>
                      Start Date</th>
                    <th width="140">Actual <br>
                      End Date</th>
                    <th width="140">Variation <br>
                      in days</th>
                    <th width="140">Days Pending</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let plan of projectplan;let i=index">
                    <td class="title">{{plan.Milestone.plnm_name}}</td>
                    <td>{{plan.Milestone.pp_startdate}}</td>
                    <td>{{plan.Milestone.pp_enddate}}</td>
                    <td class="task2" align="center">
                      <a class=""
                        (click)="OngoingTaskList(plan.Milestone.plnm_id, currentHandOffData, plan)"><u>{{(plan.Task).length}}</u></a>
                    </td>

                    <td>
                      {{plan.Milestone.pp_actual_start_date}}
                    </td>
                    <td class="date">
                      {{plan.Milestone.pp_actual_end_date}}
                    </td>
                    <td class="date">
                      <div class="days">
                        {{plan.Milestone.pp_variation}}d
                      </div>
                    </td>
                    <td class="date">
                      {{ getdatediff(plan.Milestone.pp_enddate) }}
                    </td>
                    <td [ngClass]="{'status-hover':(plan.Milestone.pp_status == 2)||(plan.Milestone.pp_status == 1)}"
                      [ngStyle]="{'background-color': (plan.Milestone.pp_status == 2) ? '#84e184' : (plan.Milestone.pp_status == 1) ? '#ff6666' : ''}"
                      style="border-bottom:1px solid white;">
                      <a [ngStyle]="{'color':'black'}"
                        href="javascript:void(0)">{{(plan.Milestone.pp_status == 2) ? 'Complete': (plan.Milestone.pp_status == 3)?'In Progress':'Pending'}}</a>
                    </td>
                  </tr>


                </tbody>
              </table>
            </div>
          </div>
          <div class="button-wrap text-center btndv">
            <a href="javascript:void(0)" class="btn p-1"
              (click)="Submit_milestone_ongoing('2', currentHandOffData.h_id)">Submit</a>
            <a href="javascript:void(0)" class="btn  p-1" (click)="getOngoingProjectList()">Cancel</a>
          </div>

          <!--Content Area End-->

        </div>

        <!-- end of ongoing project plan  -->


        <!-- view detail project plan in completed -->
        <div *ngIf="isView === 'completed_view_detail_project_plan' " style="margin-top: 60px;">
          <!--Content Area Start-->

          <div class="project-list-wrap">
            <ul class="info-list">
              <li><strong>Project ID -</strong><span>{{ currentHandOffData.h_data.consumerProject.project_code}}</span>
              </li>
              <li><strong>Customer - </strong><span> {{currentHandOffData.h_data.customer_name}}</span></li>
              <li><strong>System Type -
                </strong>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==1">Grid-Tied</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==2">Off Grid</span>
                <span *ngIf="currentHandOffData.h_data.proposalDetails.proposal_solution_type==3">Hybrid</span>
              </li>
              <li><strong>Order Value -
                </strong><span>₹{{currentHandOffData.plan_selected =='1' ?
                      (currentHandOffData.h_data?.proposalDetails?.proposal_project_value_gold - currentHandOffData.h_data?.proposalDetails?.discount)
                      :(currentHandOffData.h_data.proposalDetails.proposal_project_value_silver - currentHandOffData.h_data?.proposalDetails?.discount_silver) }}</span>
              </li>
              <li><strong>Order Date -
                </strong><span>{{currentHandOffData.h_data.proposalDetails.proposal_modified_on | date:'dd/MM/yyyy'}}</span>
              </li>
              <li><strong>Address -
                </strong><span>{{currentHandOffData.h_data.cceld_address1 !='NULL' ?currentHandOffData.h_data.cceld_address1:'' }}{{currentHandOffData.h_data.district_name !='NULL'? currentHandOffData.h_data.district_name:''}}
                  {{currentHandOffData.h_data.state_name!='NULL'?currentHandOffData.h_data.state_name:''}}</span></li>
              <li><strong>System Size (Watts)- </strong>
                <span>DC Capacity/{{currentHandOffData.h_data.proposalDetails.proposal_dc_capacity}} kW</span>
              </li>
              <li><strong>Phone No -
                </strong><span>{{currentHandOffData.h_data.cceLeaddata.cceld_mobileno}}</span></li>
            </ul>
            <div class="backdv">
              <a href="javascript:void(0)" class="btn pull-right p-1 backbtn"
                (click)="getCompletedProjectList()">Back</a>
            </div>
          </div>
          <!-- Completed Project list table -->
          <div class="project-list-table">
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th width="180">Milestone</th>
                    <th width="140">Planned <br>
                      Start Date</th>
                    <th width="140">Planned <br>
                      End Date</th>
                    <th>Tasks</th>

                    <th width="140">Actual <br>
                      Start Date</th>
                    <th width="140">Actual <br>
                      End Date</th>
                    <th width="140">Variation <br>
                      in days</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let plan of projectplan;let i=index">
                    <td class="title">{{plan.Milestone.plnm_name}}</td>
                    <td>{{plan.Milestone.pp_startdate}}</td>
                    <td>{{plan.Milestone.pp_enddate}}</td>
                    <td id="task2" class="task" align="center">
                      <a class=""
                        (click)="CompletedTaskList(plan.Milestone.plnm_id, currentHandOffData, plan)"><u>{{(plan.Task).length}}</u></a>
                    </td>

                    <td class="date">
                      {{plan.Milestone.pp_actual_start_date}}
                    </td>
                    <td class="date">
                      {{plan.Milestone.pp_actual_end_date}}
                    </td>
                    <td class="date">
                      <div class="days">
                        {{plan.Milestone.pp_variation}}d
                      </div>
                    </td>
                    <td><a href="javascript:void(0)">{{(plan.Milestone.pp_status == 2) ? 'Completed': 'Pending'}}</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>

        <!--end of view detail project plan in completed -->

        <!--  start of view overlay -->
        <div *ngIf="isView === 'working_day_proceed_plan' " style="margin-top: 60px;">
          <div class="loader-wrapper" *ngIf="ProceedPlan">
            <div class="sendWrapper wraperDelete">

              <!-- data -->
              <div class="overlay-wrap">
                <div class="overlay working-overlay">
                  <div class="overlay-content">
                    <form [formGroup]="calenderForm" (ngSubmit)="SaveWorkingDaysProjectPlan()">
                      <h3>Working Days</h3>
                      <ul>
                        <li>
                          <label class="check-wrap">
                            Monday
                            <input [checked]="isSelected(1)" (change)="onChangecheckbox(1, $event.target.checked)"
                              type="checkbox">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Tuesday
                            <input [checked]="isSelected(2)" (change)="onChangecheckbox(2, $event.target.checked)"
                              type="checkbox">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Wednesday
                            <input type="checkbox" [checked]="isSelected(3)"
                              (change)="onChangecheckbox(3, $event.target.checked)">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Thursday
                            <input type="checkbox" [checked]="isSelected(4)"
                              (change)="onChangecheckbox(4, $event.target.checked)">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Friday
                            <input type="checkbox" [checked]="isSelected(5)"
                              (change)="onChangecheckbox(5, $event.target.checked)">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Saturday
                            <input type="checkbox" [checked]="isSelected(6)"
                              (change)="onChangecheckbox(6, $event.target.checked)">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                        <li>
                          <label class="check-wrap">
                            Sunday
                            <input type="checkbox" [checked]="isSelected(0)"
                              (change)="onChangecheckbox(0, $event.target.checked)">
                            <i class="custom-check"></i>
                          </label>
                        </li>
                      </ul>
                      <!-- <div class="working-hour">
                                              <strong>Working hours in a day</strong>
                                              <input type="text" formControlName="working_hrs" >
                                            </div> -->
                      <div class="working-day">
                        <h4>Non-Working Days (holidays, exceptions)</h4>
                        <div class="form-group">
                          <div class="form-field field-date holiday-calendar">
                            <p-calendar (keypress)="datecheck($event)" formControlName="dates" selectionMode="multiple"
                              [showIcon]="true" dateFormat="yy-mm-dd"></p-calendar>
                          </div>
                        </div>
                        <div class="alignRight">
                          <input type="button" class="btn" (click)="SaveWorkingDaysProjectPlan()" value="Save">
                          <input type="button" class="btn btn-tertiary" (click)="ProceedProjectPlanClose()"
                            value="Close">
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <!--  end of data -->
            </div>
          </div>
        </div>

        <!--  end of view overlay -->

        <!--   view task page & complete task list -->
        <div *ngIf="isView === 'task_listby_milestone' " style="margin-top: 60px;">

          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="ViewProjectPlan(h_id,currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS ({{taskname}})</h2>
            </div>
            <div class="task-detail">
              <div class="task-list" *ngFor="let task of tasklist;let i=index">
                <div class="sub-title d-flex align-items-center">
                  <strong>{{task.ptm_name}}</strong>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- end of  view task page & complete task list -->

        <!-- ongoing    view task page & complete task list by milestone wise -->
        <div *ngIf="isView === 'task_list_ongoingby_milestone_checkrealization' " style="margin-top: 60px;">

          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Cheque Realisation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Submit the cheque information*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(1,plan,tasksdata)"><span
                      *ngIf="(activetask != 1)">View more</span> <svg *ngIf="(activetask != 1)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 1)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 1)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date" [minDate]="plannedStartDate"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text"
                              formControlName="actualenddate" placeholder="Date" dateFormat="dd/mm/yy"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value, 1)"  formControlName="status"
                            class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                    <!-- Optional reason for ongoing project -->
                    <div class="select-wrap relative ongoing-reason">
                      <!-- Ongoing Reason -->
                      <div *ngIf="isShowOngoingReason" class="left d-flex">
                        <label class="label">Reason for Ongoing:</label>
                        <textarea formControlName="ongoingReason" class="form-control"></textarea>
                      </div>
                    </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            [disabled]="true"></ng-select>
                          <!--  <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" formControlName="drawn_on_date"
                              placeholder="Date" dateFormat="dd/mm/yy" disabled="true"></p-calendar>
                          </span>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar showIcon="true" disabled="true" class="form-text"
                              formControlName="transaction_date" placeholder="Date" dateFormat="dd/mm/yy"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i>
                                <a href="{{baseurl}}{{projectDocument.tdoc_filename}}" target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                         <a href="javascript:void(0)" class="view">view more</a> -->
                      <input [disabled]="isTaskPendingApproval == '1'" type="submit" [value]="isShowOngoingReason || isTaskPendingApproval == '1'?'Get Approval':'Submit'" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>



        </div>


        <div *ngIf="isView === 'task_list_ongoingby_milestone_partnerallocation' " style="margin-top: 60px;">

          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Partner Allocation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong style="font-size: large;">Partner allocation &amp; finalization of Project Plan*</strong>
                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(2,plan,tasksdata)"><span
                      *ngIf="(activetask != 2)">View more</span> <svg *ngIf="(activetask != 2)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 2)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 2)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate">
                        <strong>Allocated to</strong>
                        <!-- roshan -->
                        <ng-select [options]="partnerList" formControlName="allocated_to" placeholder="Allocated to"
                          class=""></ng-select>
                        <ng-container *ngIf="allocated_to.invalid">
                          <ng-container *ngIf="allocated_to?.errors?.required && submitData  && isComplete">
                            <div style="color: red;">Allocated to Required*</div>
                          </ng-container>
                        </ng-container>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                            <g fill="#003374" fill-rule="nonzero">
                              <path
                                d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                              <path
                                d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                              <path
                                d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                              <path
                                d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                            </g>
                          </svg>
                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                        <ng-container *ngIf="submitData && isEndDate">
                          <div class="error">End Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                        </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                         <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <!-- <input type="button" value="Send sms" (click)="Sendsms_task_notification(2, milestone_id , currentHandOffData , plan )" class="btn fw-400" *ngIf="loader!=1" >
                         <img style="height: 37px; width: 37px;" alt="LUMINOUS" *ngIf="loader==1" src="/assets/images/loader1.gif"> -->
                      <input type="button" value="Preview Notification"
                        (click)="Priview_mail_sms(2, milestone_id , currentHandOffData , plan)" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Send Supply order along with BOM &amp; Annexures to SSP*</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(3,plan,tasksdata)"><span
                      *ngIf="(activetask != 3)">View more</span> <svg *ngIf="(activetask != 3)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 3)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 3)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>

                    <div class="invoice-wrap d-flex align-items-center">
                      <div class="invoice d-flex align-items-center">
                        <strong>Product Cost:</strong>
                        <input type="number" step='0.01' min="0" formControlName="productcost" class="form-control"
                          value="0.00" (keypress)="onKeyPress($event)" /><br>
                        <div
                          *ngIf="submitData  &&  taskForm.controls.productcost.invalid &&  taskForm.value.status ==='1'">
                          <div *ngIf="productcost.errors.required" class="error-check">
                            Product cost required*
                          </div>
                        </div>
                      </div>
                      <div class="invoice  d-flex align-items-center">
                        <strong>Platform Cost (Incl of Tax):</strong>
                        <input type="number" step='0.01' min="0" formControlName="platformcost" class="form-control"
                          value="" (keypress)="onKeyPress($event)" />
                        <div
                          *ngIf="submitData  &&  taskForm.controls.platformcost.invalid &&  taskForm.value.status ==='1'">
                          <div *ngIf="platformcost.errors.required" class="error-check">
                            Platform cost required*
                          </div>
                        </div>
                      </div>
                      <div class="invoice  d-flex align-items-center">
                        <strong>Balance of System (BoS) cos:</strong>
                        <input type="number" step='0.01' min="0" formControlName="balanceofsystem" class="form-control"
                          value="" (keypress)="onKeyPress($event)" />
                        <div
                          *ngIf="submitData  &&  taskForm.controls.balanceofsystem.invalid &&  taskForm.value.status ==='1'">
                          <div *ngIf="balanceofsystem.errors.required" class="error-check">
                            Balance of system required*
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"><i
                                  class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class='d-flex'>
                      <div class="upload">
                        <strong>Uploaded Document:</strong>
                        <ul class="d-flex flex-wrap">

                          <li
                            *ngFor="let projectDocuments of currentHandOffData?.h_data?.ProjectDocuments; let i = index">
                            <input class="checkBoxInput" type="checkbox"
                              (change)="DocformailSelect($event, projectDocuments.pdoc_id)" value="4">
                            <a href="{{baseurl}}{{projectDocuments.pdoc_filename}}" target="_blank">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="26" viewBox="0 0 20 26">
                                <g fill="none" fill-rule="nonzero">
                                  <path fill="#E9E9E0"
                                    d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                  <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                  <path fill="#CC4B4C"
                                    d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                  <g fill="#FFF">
                                    <path
                                      d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                  </g>
                                </g>
                              </svg>

                              <!-- {{projectDocuments.pdoc_type}} -->
                              <span *ngIf="projectDocuments.pdoc_type != 'Add more files' && projectDocuments.pdoc_type != 'Other'" class="docnem">{{projectDocuments.pdoc_type}}</span>
                            <span *ngIf="projectDocuments.pdoc_type === 'Add more files' || projectDocuments.pdoc_type === 'Other'" class="docnem">{{projectDocuments.pdoc_filename.split("/").pop()}}</span>

                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                               <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <!-- <input type="button" value="Send sms" (click)="Sendsms_task_notification(3, milestone_id , currentHandOffData , plan )" class="btn fw-400 sndsms" *ngIf="loader!=1" >
                               <img style="height: 37px; width: 37px;" alt="LUMINOUS"class="sndsms" *ngIf="loader==1" src="/assets/images/loader1.gif">
                               <input type="button" value="Send email" (click)="Sendemail_task_notification(3, milestone_id , currentHandOffData , plan ,doc_id)" class="btn fw-400" *ngIf="loaderemail!=1" >
                               <img style="height: 37px; width: 37px;" alt="LUMINOUS" *ngIf="loaderemail==1" src="/assets/images/loader1.gif"> -->
                      <input type="button" value="Preview Notification"
                        (click)="Priview_mail_sms(3, milestone_id , currentHandOffData , plan, doc_id)"
                        class="btn fw-400">
                    </div>
                  </form>
                </div>


              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Supply Order accepted by partner*</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(4,plan,tasksdata )"><span
                      *ngIf="(activetask != 4)">View more</span> <svg *ngIf="(activetask != 4)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 4)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 4)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                          </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>

                    </div>
                    <div class="edit-link d-flex align-items-center">
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(4, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">

                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 1 (10%) to partner*</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(5,plan,tasksdata)"> <span
                      *ngIf="(activetask != 5)">View more</span> <svg *ngIf="(activetask != 5)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 5)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 5)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">


                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>


                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                          </ng-container>
                      </div>

                    </div>
                    <div class="invoice-wrap d-flex align-items-center">
                      <div class="invoice d-flex align-items-center">
                        <strong>SAP Reference Number:</strong>
                        <input type="text" formControlName="sap_number" class="form-control" value="" readonly>
                      </div>
                      <div class="invoice d-flex align-items-center">
                        <strong>Bank Reference Number:</strong>
                        <input type="text" formControlName="bank_reference_number" class="form-control" value=""
                          readonly>
                      </div>

                      <div class="drawn-date allocate-date d-flex align-items-center">
                        <strong>Date of Transaction:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar showIcon="true" class="form-text" formControlName="transaction_date"
                              ng-model="transaction_date" [required]="required" placeholder="Date" dateFormat="dd/mm/yy"
                              disabled="true"></p-calendar>
                          </span>


                        </div>
                      </div>

                    </div>

                    <div class="invoice-wrap d-flex">
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Amount Requested:</strong>
                        <input type="number" formControlName="amount_requested" min="0" class="form-control" value=""
                          (keypress)="onKeyPress($event)">
                      </div> -->
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <span>Amount Remaining To Pay: <strong>{{ taskForm.controls.amount.value }}</strong></span>
                      </div> -->
                      <div class="attach-doc">
                        <div class="upload-doc d-flex align-items-center">
                          <strong>Attach Document:</strong>
                          <div class="doc d-flex align-items-center justify-content-center">
                            <div droppable
                              (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                              <strong class="m-0">Drop Here</strong></div>
                          </div>
                          <div class="browse">
                            <input type="file"
                              (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                              class="w-100" />
                            <span>Browse</span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right d-flex">
                        <label class="label">Uploaded Document:</label>
                        <div class="doc-links">
                          <ul>
                            <li *ngFor="let projectDocument of projectDocuments; let i = index">
                              <i class="fa fa-remove confirmRemove crossign"
                                (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                target="_blank">
                                <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                  viewBox="0 0 20 26">
                                  <g fill="none" fill-rule="nonzero">
                                    <path fill="#E9E9E0"
                                      d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                    <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                    <path fill="#CC4B4C"
                                      d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                    <g fill="#FFF">
                                      <path
                                        d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                    </g>
                                  </g>
                                </svg>
                                {{projectDocument.tdoc_filetype}}
                                <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                  viewBox="0 0 14 15">
                                  <path fill="#003374" fill-rule="nonzero"
                                    d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                </svg>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <input [disabled]="taskForm.controls.status.value == '1'" type="submit" value="Submit" class="btn fw-400">
                      <!-- <input type="button" value="Send email" (click)="Sendemail_task_notification(5, milestone_id , currentHandOffData , plan, doc_id )" class="btn fw-400" *ngIf="loaderemail!=1" >
                             <img style="height: 37px; width: 37px;" alt="LUMINOUS" *ngIf="loaderemail==1" src="/assets/images/loader1.gif"> -->
                      <input type="button" value="Preview Notification"
                        (click)="Priview_mail_sms(5, milestone_id , currentHandOffData , plan, doc_id)"
                        class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Handing over of customer documents to assigned SSP</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(6,plan,tasksdata)"><span
                      *ngIf="(activetask != 6)">View more</span> <svg *ngIf="(activetask != 6)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 6)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>

                <div class="task-description" *ngIf="(activetask == 6)">

                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                          </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>

                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>

                </div>

              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Blocking of Key items -Module, Inverter / PCU and Battery as per project
                    requirements</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(7,plan,tasksdata)">
                    <span *ngIf="(activetask != 7)">View more</span>
                    <svg *ngIf="(activetask != 7)" xmlns="http://www.w3.org/2000/svg" width="12" height="7"
                      viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 7 )" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>

                <div class="task-description" *ngIf="(activetask == 7)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                          </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>

                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>

              </div>
            </div>
          </div>




        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_documentsubmission' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Document Submission)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Duly signed registration form by "Registered Consumer"*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(16,plan,tasksdata)"><span
                      *ngIf="(activetask != 16)">View more</span> <svg *ngIf="(activetask != 16)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 16)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 16)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' (keypress)="datecheck($event)" dateFormat="dd/mm/yy"
                              showIcon="true" class="form-text" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(16, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Application submitted to nodal agency*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(17,plan,tasksdata)"><span
                      *ngIf="(activetask != 17)">View more</span> <svg *ngIf="(activetask != 17)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 17)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 17)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" dateFormat="dd/mm/yy" (keypress)="datecheck($event)"
                            class="form-text" formControlName="actualstartdate"  placeholder="Date">
                          </p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" class="form-text" formControlName="actualenddate"
                              placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                          <ng-container *ngIf="isOngoingOrCompleted && submitData">
                            <div style="color: red;">Select Ongoing or Completed*</div>
                          </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                         <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(17, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Application approval confirmation by nodal agency*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(8,plan,tasksdata)"><span
                      *ngIf="(activetask != 8)">View more</span> <svg *ngIf="(activetask != 8)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 8)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 8)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" (keypress)="datecheck($event)" dateFormat="dd/mm/yy"
                            class="form-text" formControlName="actualstartdate"  placeholder="Date">
                          </p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" (keypress)="datecheck($event)"
                              dateFormat="dd/mm/yy" class="form-text" formControlName="actualenddate"
                              placeholder="Date"></p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>

                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(8, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment refunded to customer if Rejection by Govt & Project cancellation</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(18,plan,tasksdata)"><span
                      *ngIf="(activetask != 18)">View more
                    </span>
                    <svg *ngIf="(activetask != 18)" xmlns="http://www.w3.org/2000/svg" width="12" height="7"
                      viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 18)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 18)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" (keypress)="datecheck($event)" dateFormat="dd/mm/yy"
                            class="form-text" formControlName="actualstartdate"  placeholder="Date">
                          </p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>

                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>

                      <ng-container *ngIf="isOngoingOrCompleted && submitData">
                        <div style="color: red;">Select Ongoing or Completed*</div>
                      </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>



            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_material_payment_collection_second' "
          style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Payment Collection 2nd Tranche)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">PI(Proforma Invoice) sent to customer*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(9,plan,tasksdata)"><span
                      *ngIf="(activetask != 9)">View more</span> <svg *ngIf="(activetask != 9)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 9)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 9)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select (change)="onChangetaskcomplete($event.target.value)" formControlName="status"
                            class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(9, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">

                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 2 from customer -By NEFT/IMPS/Cheque*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(19,plan,tasksdata)"><span
                      *ngIf="(activetask != 19)">View more</span> <svg *ngIf="(activetask != 19)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 19)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 19)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value, 19)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <!-- Optional reason for ongoing project -->
                      <div class="select-wrap relative ongoing-reason">
                        <!-- Ongoing Reason -->
                        <div *ngIf="isShowOngoingReason" class="left d-flex">
                          <label class="label">Reason for Ongoing:</label>
                          <textarea formControlName="ongoingReason" class="form-control"></textarea>
                        </div>
                      </div>
                  </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            disabled="true"></ng-select>
                          <!-- <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" disabled="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>

                    </div>



                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <input type="submit" value="Submit" class="btn fw-400"> -->
                      <input [disabled]="isTaskPendingApproval == '1'" type="submit"
            [value]="isShowOngoingReason || isTaskPendingApproval == '1'?'Get Approval':'Submit'" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>



              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Getting approval from customer on SPV layout , SLD</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(21,plan,tasksdata)"><span
                      *ngIf="(activetask != 21)">View more</span> <svg *ngIf="(activetask != 21)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 21)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 21)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>


            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_materialdispatch' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Material Dispatch)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Billing of products to SSP*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(10,plan,tasksdata)"><span
                      *ngIf="(activetask != 10)">View more</span> <svg *ngIf="(activetask != 10)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 10)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 10)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Confirmation on delivery by partner</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(22,plan,tasksdata)"><span
                      *ngIf="(activetask != 22)">View more</span> <svg *ngIf="(activetask != 22)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 22)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 22 )">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(22, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Material delivery from partner to customer (POD based*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(23,plan,tasksdata)"><span
                      *ngIf="(activetask != 23)">View more</span> <svg *ngIf="(activetask != 23)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 23)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 23 )">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>

                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>

                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(23, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Audit 1 (Post material delivery)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(24,plan,tasksdata)"><span
                      *ngIf="(activetask != 24)">View more</span> <svg *ngIf="(activetask != 24)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 24)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 24 )">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate">
                        <strong>Assigned to</strong>
                        <ng-select [options]="auditorList" formControlName="allocated_to" placeholder="Assigned to"
                          class=""></ng-select>
                          <ng-container *ngIf="allocated_to.invalid">
                            <ng-container *ngIf="allocated_to?.errors?.required && submitData  && isComplete">
                              <div style="color: red;">Allocated to Required*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list" style="display:non">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Partner confirmation on Audit 1 corrections (if
                    applicable)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(25,plan,tasksdata)"><span
                      *ngIf="(activetask != 25)">View more</span><svg *ngIf="(activetask != 25)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 25)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 25 )">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(25, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Audit 1 Okay Confirmation (if applicable)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(26,plan,tasksdata)"><span
                      *ngIf="(activetask != 26)">View more</span> <svg *ngIf="(activetask != 26)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 26)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 26 )">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>

                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_installation' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Installation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 2(75%) to partner*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(11,plan,tasksdata)"><span
                      *ngIf="(activetask != 11)">View more</span> <svg *ngIf="(activetask != 11)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 11)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 11)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                      </div>


                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>

                      </div>



                    </div>
                    <div class="top-area d-flex">
                      <div class="invoice d-flex align-items-center">
                        <strong class="mr-4">SAP Reference Number:</strong>
                        <input type="text" formControlName="sap_number" class="form-control" value="" readonly>
                      </div>
                      <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Bank Reference Number:</strong>
                        <input type="text" formControlName="bank_reference_number" class="form-control" value=""
                          readonly>
                      </div>
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Amount Requested:</strong>
                        <input type="number" formControlName="amount_requested" min="0" class="form-control" value=""
                          (keypress)="onKeyPress($event)">
                      </div> -->
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <span>Amount Remaining To Pay: <strong>{{ taskForm.controls.amount.value }}</strong></span>
                      </div> -->
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input [disabled]="taskForm.controls.status.value == '1'" type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Preview Notification"
                        (click)="Priview_mail_sms(11, milestone_id , currentHandOffData , plan, doc_id)"
                        class="btn fw-400">

                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Installation by partner - Structure Erection*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(27,plan,tasksdata)"><span
                      *ngIf="(activetask != 27)">View more</span> <svg *ngIf="(activetask != 27)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 27)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 27)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>

                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(27, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Installation by partner - Civil Work*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(28,plan,tasksdata)"><span
                      *ngIf="(activetask != 28)">View more</span> <svg *ngIf="(activetask != 28)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 28)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 28)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>

                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Installation by partner - Electrical Work*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(29,plan,tasksdata)"><span
                      *ngIf="(activetask != 29)">View more</span> <svg *ngIf="(activetask != 29)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 29)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 29)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 2 (During installation)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(30,plan,tasksdata)"><span
                      *ngIf="(activetask != 30)">View more</span> <svg *ngIf="(activetask != 30)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 30)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 30)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate">
                        <strong>Assigned to</strong>
                        <ng-select [options]="auditorList" formControlName="allocated_to" placeholder="Assigned to"
                          class=""></ng-select>
                          <ng-container *ngIf="allocated_to.invalid">
                            <ng-container *ngIf="allocated_to?.errors?.required && submitData  && isComplete">
                              <div style="color: red;">Allocated to Required*</div>
                            </ng-container>
                          </ng-container>
                      </div>

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Partner confirmation on audit 2 corrections (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(31,plan,tasksdata)"><span
                      *ngIf="(activetask != 31)">View more</span> <svg *ngIf="(activetask != 31)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 31)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 31)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(31, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 2 Okay confirmation (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(32,plan,tasksdata)"><span
                      *ngIf="(activetask != 32)">View more</span> <svg *ngIf="(activetask != 32)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 32)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 32)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Invoicing to customer by SSP & PCR submission*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(33,plan,tasksdata)"><span
                      *ngIf="(activetask != 33)">View more</span> <svg *ngIf="(activetask != 33)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 33)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 33)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(33, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">

                    </div>
                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_payment_collection_third' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Payment Collection 3rd Tranche)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 3 From Customer*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(12,plan,tasksdata)"><span
                      *ngIf="(activetask != 12)">View more</span> <svg *ngIf="(activetask != 12)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 12)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 12)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value,12)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <!-- Optional reason for ongoing project -->
                      <div class="select-wrap relative ongoing-reason">
                        <!-- Ongoing Reason -->
                        <div *ngIf="isShowOngoingReason" class="left d-flex">
                          <label class="label">Reason for Ongoing:</label>
                          <textarea formControlName="ongoingReason" class="form-control"></textarea>
                        </div>
                      </div>
                  </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            disabled="true"></ng-select>
                          <!-- <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" disabled="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <input type="submit" value="Submit" class="btn fw-400"> -->
                      <input [disabled]="isTaskPendingApproval == '1'" type="submit"
            [value]="isShowOngoingReason || isTaskPendingApproval == '1'?'Get Approval':'Submit'" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>


            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_net_meter_instalation' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Net-Meter Installation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Net-Meter Installed*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(13,plan,tasksdata)"><span
                      *ngIf="(activetask != 13)">View more</span> <svg *ngIf="(activetask != 13)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 13)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 13)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>

                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(13, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">

                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Net-Meter Application Submitted by partner - fees to be
                    submitted*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(35,plan,tasksdata)"><span
                      *ngIf="(activetask != 35)">View more</span> <svg *ngIf="(activetask != 35)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 35)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 35)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>

                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_subsidy_document_submission' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Subsidy Document Submission)</h2>
            </div>
            <div class="task-detail">


            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_projecthandover_closer' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Project Handover And Closure)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list" *ngIf="this.currentHandOffData.gridtype != 2">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>JCR signing</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(14,plan,tasksdata)"><span
                      *ngIf="(activetask != 14)">View more</span> <svg *ngIf="(activetask != 14)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 14)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 14)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"><i
                                  class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                               <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" *ngIf="this.currentHandOffData.gridtype != 2">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Subsidy file submission</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(36,plan,tasksdata)"><span
                      *ngIf="(activetask != 36)">View more</span> <svg *ngIf="(activetask != 36)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 36)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 36)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"><i
                                  class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                               <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Audit 3 (After Installation)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(15,plan,tasksdata)"><span
                      *ngIf="(activetask != 15)">View more</span> <svg *ngIf="(activetask != 15)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 15)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 15)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate">
                        <strong>Assigned to</strong>
                        <ng-select [options]="auditorList" formControlName="allocated_to" placeholder="Assigned to"
                          class=""></ng-select>
                          <ng-container *ngIf="allocated_to.invalid">
                            <ng-container *ngIf="allocated_to?.errors?.required && submitData  && isComplete">
                              <div style="color: red;">Allocated to Required*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>
                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                            <g fill="#003374" fill-rule="nonzero">
                              <path
                                d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                              <path
                                d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                              <path
                                d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                              <path
                                d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                            </g>
                          </svg>
                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>
                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                            <g fill="#003374" fill-rule="nonzero">
                              <path
                                d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                              <path
                                d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                              <path
                                d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                              <path
                                d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                            </g>
                          </svg>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Partner confirmation on Audit 3 corrections (if
                    applicable)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(37,plan,tasksdata)"><span
                      *ngIf="(activetask != 37)">View more</span> <svg *ngIf="(activetask != 37)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 37)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 37)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Notify Partner For Task Update"
                        (click)="SendNotification_Partner(37, milestone_id , currentHandOffData , plan)"
                        class="btn fw-400" *ngIf="notifypartner==0">
                      <img style="height: 37px; width: 37px;" alt="LUMINOUS" src="/assets/images/loader1.gif"
                        *ngIf="notifypartner==1">

                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Audit 3 Okay confirmation (if applicable)*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(38,plan,tasksdata)"><span
                      *ngIf="(activetask != 38)">View more</span> <svg *ngIf="(activetask != 38)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 38)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 38)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">



                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list" *ngIf="this.currentHandOffData.gridtype == 2">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong style="font-size: large;">Final Payment From Customer*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(42,plan,tasksdata)"><span
                      *ngIf="(activetask != 42)">View more</span> <svg *ngIf="(activetask != 42)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 42)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 42)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>

                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            disabled="true"></ng-select>
                          <!-- <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" disabled="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                            <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Invoicing of platform charges to SSP</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(39,plan,tasksdata)"><span
                      *ngIf="(activetask != 39)">View more</span> <svg *ngIf="(activetask != 39)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 39)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 39)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 3 to partner*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(40,plan,tasksdata)"><span
                      *ngIf="(activetask != 40)">View more</span> <svg *ngIf="(activetask != 40)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 40)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 40)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" (keypress)="datecheck($event)"
                              dateFormat="dd/mm/yy" class="form-text" formControlName="actualenddate"
                              placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="top-area d-flex">
                      <div class="invoice d-flex align-items-center">
                        <strong class="mr-4">SAP Reference Number:</strong>
                        <input type="text" formControlName="sap_number" class="form-control" value="" readonly>
                      </div>
                      <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Bank Reference Number:</strong>
                        <input type="text" formControlName="bank_reference_number" class="form-control" value=""
                          readonly>
                      </div>
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Amount Requested:</strong>
                        <input type="number" formControlName="amount_requested" min="0" class="form-control" value=""
                          (keypress)="onKeyPress($event)">
                      </div> -->
                      <!-- <div class="invoice mr-0 d-flex align-items-center">
                        <span>Amount Remaining To Pay: <strong>{{ taskForm.controls.amount.value }}</strong></span>
                      </div> -->
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input [disabled]="taskForm.controls.status.value == '1'" type="submit" value="Submit" class="btn fw-400">
                      <input type="button" value="Preview Notification"
                        (click)="Priview_mail_sms(40, milestone_id , currentHandOffData , plan, doc_id)"
                        class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Project handover to customer*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(41,plan,tasksdata)"><span
                      *ngIf="(activetask != 41)">View more</span> <svg *ngIf="(activetask != 41)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 41)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 41)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" dateFormat="dd/mm/yy" (keypress)="datecheck($event)"
                            class="form-text" formControlName="actualstartdate"  placeholder="Date">
                          </p-calendar>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualstartdate?.errors?.required && submitData">
                          <div class="error">Start Date Is Mandatory On Task Complete*</div>
                          </ng-container>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' (keypress)="datecheck($event)" dateFormat="dd/mm/yy"
                              showIcon="true" class="form-text" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>

                        </div>
                        <ng-container *ngIf="taskForm?.controls?.actualenddate?.errors?.required">
                          <ng-container *ngIf="submitData && isEndDate">
                            <div class="error">End Date Is Mandatory On Task Complete*</div>
                            </ng-container>
                          </ng-container>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value)" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing or Completed*</div>
                        </ng-container>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_ongoingby_milestone_payment_collection_fourth' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Ongoingviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Payment Collection 4th Tranche)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong style="font-size: large;">Payment 4 from customer*</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(43,plan,tasksdata)"><span
                      *ngIf="(activetask != 43)">View more</span> <svg *ngIf="(activetask != 43)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 43)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 43)">
                  <form [formGroup]="taskForm" (ngSubmit)="SaveTaskdata(currentHandOffData)">
                    <div class="top-area d-flex justify-content-between">
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            (keypress)="datecheck($event)" formControlName="actualstartdate" 
                            placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date" *ngIf="showactualenddate">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar [maxDate]='currentDate' showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              (keypress)="datecheck($event)" formControlName="actualenddate" placeholder="Date">
                            </p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <a href="javascript:void(0)" (click)="viewTaskLog(pTaskId, currentHandOffData.h_id)">View
                            Log</a>
                        </div>
                        <div class="select-wrap relative">
                          <select formControlName="status" [(ngModel)]="status"
                            (change)="onChangetaskcomplete($event.target.value, 43)" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                        <ng-container *ngIf="isOngoingOrCompleted && submitData">
                          <div style="color: red;">Select Ongoing</div>
                        </ng-container>
                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <!-- Optional reason for ongoing project -->
                      <div class="select-wrap relative ongoing-reason">
                        <!-- Ongoing Reason -->
                        <div *ngIf="isShowOngoingReason" class="left d-flex">
                          <label class="label">Reason for Ongoing:</label>
                          <textarea formControlName="ongoingReason" class="form-control"></textarea>
                        </div>
                      </div>
                  </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            disabled="true"></ng-select>
                          <!-- <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" disabled="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="attach-doc">
                          <div class="upload-doc d-flex align-items-center">
                            <strong>Attach Document:</strong>
                            <div class="doc d-flex align-items-center justify-content-center">
                              <div droppable
                                (filesDropped)="handleFilesDropped($event,activetask, milestone_id , currentHandOffData , plan)">
                                <strong class="m-0">Drop Here</strong></div>
                            </div>
                            <div class="browse">
                              <input type="file"
                                (change)="fileChange($event,activetask, milestone_id , currentHandOffData , plan)"
                                class="w-100" />
                              <span>Browse</span>
                            </div>
                          </div>
                        </div>
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index">
                                <i class="fa fa-remove confirmRemove crossign"
                                  (click)="confirmDeleteTaskDoc(projectDocument,currentHandOffData)"></i> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <input type="submit" value="Submit" class="btn fw-400"> -->
                      <input [disabled]="isTaskPendingApproval == '1'" type="submit"
            [value]="isShowOngoingReason || isTaskPendingApproval == '1'?'Get Approval':'Submit'" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!--  end of ongoing  view task page & complete task list by milestone wise -->

        <!-- on Completed project list tab view task page &  task list by milestone wise -->
        <div *ngIf="isView == 'task_list_completedby_milestone_checkrealization' " style="margin-top: 60px;">

          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Cheque Realisation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Submit the cheque information</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(1,plan,tasksdata)"><span
                      *ngIf="(activetask != 1)">View more</span> <svg *ngIf="(activetask != 1)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 1)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 1)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  dateFormat="dd/mm/yy" class="form-text"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" dateFormat="dd/mm/yy" formControlName="actualenddate"
                              placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" disabled="true" formControlName="payment" value="1">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" disabled="true" formControlName="payment" value="2">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" readonly="true" formControlName="cheque_no" class="form-control"
                            maxlength="10" pattern="[0-9]+" value="">
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" disabled="true" formControlName="bank_drawn_no"
                            class="bankdrawnon"></ng-select>
                          <!-- <input type="text" readonly="true" dateFormat="dd/mm/yy" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" readonly="true" formControlName="invoice_no" class="form-control" value="">
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" readonly="true" formControlName="ac_no" pattern="[0-9]+"
                            class="form-control" value="">
                        </div>
                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  dateFormat="dd/mm/yy" disabled="true" showIcon="true" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" dateFormat="dd/mm/yy" showIcon="true" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                    </div>


                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>

          </div>

        </div>


        <div *ngIf="isView === 'task_list_completedby_milestone_partnerallocation' " style="margin-top: 60px;">

          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Partner Allocation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Partner allocation &amp; finalization of Project Plan</strong>
                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(2,plan,tasksdata)"><span
                      *ngIf="(activetask != 2)">View more</span> <svg *ngIf="(activetask != 2)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 2)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 2)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">

                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Send Supply order along with BOM &amp; Annexures to SSP</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(3,plan,tasksdata)"><span
                      *ngIf="(activetask != 3)">View more</span> <svg *ngIf="(activetask != 3)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 3)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 3)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!-- <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">

                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>


              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Supply Order accepted by partner</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(4,plan,tasksdata )"><span
                      *ngIf="(activetask != 4)">View more</span> <svg *ngIf="(activetask != 4)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 4)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 4)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!-- <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <!-- <a href="javascript:void(0)" class="edit">Edited</a>
                           <a href="javascript:void(0)" class="view">view more</a> -->
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Payment 1 (10%) to partner</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(5,plan,tasksdata)"><span
                      *ngIf="(activetask != 5)">View more</span> <svg *ngIf="(activetask != 5)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 5)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 5)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">


                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>

                      <div class="status">
                        <strong>Updated Status</strong>
                        <div class="select-wrap">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>

                    </div>
                    <div class="invoice-wrap d-flex align-items-center">
                      <div class="invoice d-flex align-items-center">
                        <strong>SAP Reference Number:</strong>
                        <input readonly="true" type="text" formControlName="sap_number" class="form-control" value="">
                      </div>
                      <div class="invoice  d-flex align-items-center">
                        <strong>Bank Reference Number:</strong>
                        <input type="text" readonly="true" formControlName="bank_reference_number" class="form-control"
                          value="">
                      </div>

                      <div class="drawn-date allocate-date  d-flex align-items-center">
                        <strong>Date of Transaction:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" disabled="true" dateFormat="dd/mm/yy"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right d-flex">
                        <label class="label">Uploaded Document:</label>
                        <div class="doc-links">
                          <ul>
                            <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                target="_blank">
                                <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                  viewBox="0 0 20 26">
                                  <g fill="none" fill-rule="nonzero">
                                    <path fill="#E9E9E0"
                                      d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                    <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                    <path fill="#CC4B4C"
                                      d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                    <g fill="#FFF">
                                      <path
                                        d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                    </g>
                                  </g>
                                </svg>
                                {{projectDocument.tdoc_filetype}}
                                <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                  viewBox="0 0 14 15">
                                  <path fill="#003374" fill-rule="nonzero"
                                    d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                </svg>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Handing over of customer documents to assigned SSP</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(6,plan,tasksdata)"><span
                      *ngIf="(activetask != 6)">View more</span> <svg *ngIf="(activetask != 6)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 6)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>

                <div class="task-description" *ngIf="(activetask == 6)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!-- <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">

                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>

              </div>
              <div class="task-list">
                <div class="sub-title d-flex align-items-center justify-content-between">
                  <strong>Blocking of Key items -Module, Inverter / PCU and Battery as per project
                    requirements</strong>
                  <a href="javascript:void(0)" (click)="ViewTaskform_detail(7,plan,tasksdata)"><span
                      *ngIf="(activetask != 7)">View more</span> <svg *ngIf="(activetask != 7)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 7)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>

                <div class="task-description" *ngIf="(activetask == 7)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate"  class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate" placeholder="Date"></p-calendar>
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!-- <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right">
                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="edit-link d-flex align-items-center justify-content-between">
                      <input type="submit" value="Submit" class="btn fw-400">
                    </div>
                  </form>
                </div>

              </div>
            </div>
          </div>




        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_documentsubmission' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Document Submission)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Duly signed registration form by "Registered Consumer"</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(16,plan,tasksdata)"><span
                      *ngIf="(activetask != 16)">View more</span> <svg *ngIf="(activetask != 16)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 16)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 16)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Application submitted to nodal agency</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(17,plan,tasksdata)"><span
                      *ngIf="(activetask != 17)">View more</span> <svg *ngIf="(activetask != 17)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 17)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 17)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Application approval confirmation by nodal agency</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(8,plan,tasksdata)"><span
                      *ngIf="(activetask != 8)">View more</span> <svg *ngIf="(activetask != 8)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 8)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 8)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment refunded to customer if Rejection by Govt & Project cancellation</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(18,plan,tasksdata)"><span
                      *ngIf="(activetask != 18)">View more</span> <svg *ngIf="(activetask != 18)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 18)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 18)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>



            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_material_payment_collection_second' "
          style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Payment Collection 2nd Tranche)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>PI(Proforma Invoice) sent to customer</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(9,plan,tasksdata)"><span
                      *ngIf="(activetask != 9)">View more</span> <svg *ngIf="(activetask != 9)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 9)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 9)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment 2 from customer -By NEFT/IMPS/Cheque</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(19,plan,tasksdata)"><span
                      *ngIf="(activetask != 19)">View more</span> <svg *ngIf="(activetask != 19)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 19)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 19)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" disabled="true" formControlName="payment" value="1">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" disabled="true" formControlName="payment" value="2">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" readonly="true" formControlName="cheque_no" class="form-control"
                            maxlength="10" pattern="[0-9]+" value="">
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" disabled="true" formControlName="bank_drawn_no"
                            class="bankdrawnon"></ng-select>
                          <!-- <input type="text" readonly="true" dateFormat="dd/mm/yy" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" readonly="true" formControlName="invoice_no" class="form-control" value="">
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" readonly="true" formControlName="ac_no" pattern="[0-9]+"
                            class="form-control" value="">
                        </div>
                      </div>

                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" dateFormat="dd/mm/yy" showIcon="true" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" dateFormat="dd/mm/yy" showIcon="true" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>


                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment confirmation from accounts for NEFT/IMPS</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(20,plan,tasksdata)"><span
                      *ngIf="(activetask != 20)">View more</span> <svg *ngIf="(activetask != 20)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 20)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 20)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Getting approval from customer on SPV layout , SLD</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(21,plan,tasksdata)"> <span
                      *ngIf="(activetask != 21)">View more</span> <svg *ngIf="(activetask != 21)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 21)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 21)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>


            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_materialdispatch' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Material Dispatch)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Billing of products to SSP</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(10,plan,tasksdata)"><span
                      *ngIf="(activetask != 10)">View more</span> <svg *ngIf="(activetask != 10)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 10)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 10)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Confirmation on delivery by partner</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(22,plan,tasksdata)"><span
                      *ngIf="(activetask != 22)">View more</span> <svg *ngIf="(activetask != 22)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 22)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 22 )">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Material delivery from partner to customer (POD based)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(23,plan,tasksdata)"><span
                      *ngIf="(activetask != 23)">View more</span><svg *ngIf="(activetask != 23)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 23)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 23 )">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 1 (Post material delivery)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(24,plan,tasksdata)"><span
                      *ngIf="(activetask != 24)">View more</span> <svg *ngIf="(activetask != 24)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 24)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 24 )">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Partner confirmation on Audit 1 corrections (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(25,plan,tasksdata)"><span
                      *ngIf="(activetask != 25)">View more</span> <svg *ngIf="(activetask != 25)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 25)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 25 )">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 1 Okay Confirmation (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(26,plan,tasksdata)"><span
                      *ngIf="(activetask != 26)">View more</span><svg *ngIf="(activetask != 26)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 26)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 26 )">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_installation' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Installation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment 2(75%) to partner</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(11,plan,tasksdata)"><span
                      *ngIf="(activetask != 11)">View more</span> <svg *ngIf="(activetask != 11)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 11)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 11)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>

                    <div class="top-area d-flex">
                      <div class="invoice d-flex align-items-center">
                        <strong class="mr-4">SAP Reference Number:</strong>
                        <input type="text" formControlName="sap_number" class="form-control" value="">
                      </div>
                      <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Bank Reference Number:</strong>
                        <input type="text" formControlName="bank_reference_number" class="form-control" value="">
                      </div>
                      <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                        <input type="number" formControlName="amount" min="0" class="form-control" value=""
                          (keypress)="onKeyPress($event)" disabled="true">
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Installation by partner - Structure Erection</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(27,plan,tasksdata)"><span
                      *ngIf="(activetask != 27)">View more</span> <svg *ngIf="(activetask != 27)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 27)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 27)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">

                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Installation by partner - Civil Work</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(28,plan,tasksdata)"><span
                      *ngIf="(activetask != 28)">View more</span> <svg *ngIf="(activetask != 28)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 28)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 28)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Installation by partner - Electrical Work</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(29,plan,tasksdata)"><span
                      *ngIf="(activetask != 29)">View more</span> <svg *ngIf="(activetask != 29)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 29)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 29)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>


              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 2 (During installation)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(30,plan,tasksdata)"><span
                      *ngIf="(activetask != 30)">View more</span><svg *ngIf="(activetask != 30)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 30)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 30)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Partner confirmation on audit 2 corrections (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(31,plan,tasksdata)"><span
                      *ngIf="(activetask != 31)">View more</span> <svg *ngIf="(activetask != 31)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 31)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 31)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 2 Okay confirmation (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(32,plan,tasksdata)"><span
                      *ngIf="(activetask != 32)">View more</span><svg *ngIf="(activetask != 32)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 32)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 32)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Invoicing to customer by SSP & PCR submission</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(33,plan,tasksdata)"><span
                      *ngIf="(activetask != 33)">View more</span> <svg *ngIf="(activetask != 33)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 33)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 33)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_payment_collection_third' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Payment Collection 3rd Tranche)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment 3 from customer</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(12,plan,tasksdata)"><span
                      *ngIf="(activetask != 12)">View more</span> <svg *ngIf="(activetask != 12)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 12)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 12)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="payment d-flex align-items-center">
                        <strong>Payment Mode:</strong>
                        <div class="radio-group d-flex align-items-center">
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="1" disabled="true">
                            <i class="custom-radio"></i>
                            Cheque
                          </label>
                          <label class="radio-wrap">
                            <input type="radio" formControlName="payment" value="2" disabled="true">
                            <i class="custom-radio"></i>
                            RTGS/NEFT
                          </label>
                        </div>
                      </div>
                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Cheque Number:</strong>
                          <input type="text" formControlName="cheque_no" class="form-control" maxlength="10"
                            pattern="[0-9]+" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedCheque">
                        <div class="invoice mr-0 d-flex align-items-center" *ngIf="SelectedCheque">
                          <strong>Bank Drawn On:</strong>
                          <ng-select [options]="BankList" formControlName="bank_drawn_no" class="bankdrawnon"
                            disabled="true"></ng-select>
                          <!-- <input type="text" formControlName="bank_drawn_no" class="form-control" value=""> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>Invoice Number:</strong>
                          <input type="text" formControlName="invoice_no" class="form-control" value="" readonly>
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT">
                        <div class="invoice d-flex align-items-center">
                          <strong>A/c No:</strong>
                          <input type="text" formControlName="ac_no" pattern="[0-9]+" class="form-control" value=""
                            readonly>
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedCheque">
                        <strong>Deposit Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  disabled="true" showIcon="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="drawn_on_date" placeholder="Date"></p-calendar>
                          </span>

                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                 <g fill="#003374" fill-rule="nonzero">
                                   <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                   <path
                                     d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                   <path
                                     d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                   <path
                                     d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                 </g>
                               </svg> -->
                        </div>
                      </div>

                      <div class="invoice-wrap cheque-wrap drawn-date allocate-date d-flex align-items-center"
                        *ngIf="SelectedNEFT">
                        <strong>Transaction Date:</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" disabled="true" dateFormat="dd/mm/yy" class="form-text"
                              formControlName="transaction_date" placeholder="Date"></p-calendar>
                          </span>

                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                 <g fill="#003374" fill-rule="nonzero">
                                   <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                   <path
                                     d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                   <path
                                     d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                   <path
                                     d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                 </g>
                               </svg> -->
                        </div>
                      </div>
                      <div class="col-md-6 invoice-wrap cheque-wrap d-flex align-items-center justify-content-between"
                        *ngIf="SelectedNEFT || SelectedCheque">
                        <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                          <input type="number" formControlName="amount" min="0" class="form-control" value=""
                            (keypress)="onKeyPress($event)" disabled="true">
                        </div>
                      </div>

                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment confirmation from account for NEFT/IMPS/Cheque</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(34,plan,tasksdata)"><span
                      *ngIf="(activetask != 34)">View more</span> <svg *ngIf="(activetask != 34)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 34)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 34)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_net_meter_instalation' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Net-Meter Installation)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Net-Meter Installed</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(13,plan,tasksdata)"><span
                      *ngIf="(activetask != 13)">View more</span> <svg *ngIf="(activetask != 13)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 13)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 13)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Net-Meter Application Submitted by partner - fees to be submitted</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(35,plan,tasksdata)"><span
                      *ngIf="(activetask != 35)">View more</span> <svg *ngIf="(activetask != 35)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 35)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 35)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>
                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                             <g fill="#003374" fill-rule="nonzero">
                               <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                               <path d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                               <path d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                               <path d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                             </g>
                           </svg>-->
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_subsidy_document_submission' "
          style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Subsidy Document Submission)</h2>
            </div>
            <div class="task-detail">


            </div>
          </div>
        </div>

        <div *ngIf="isView === 'task_list_completedby_milestone_projecthandover_closer' " style="margin-top: 60px;">
          <div class="task-wrap">
            <div class="title d-flex align-items-center">
              <a href="javascript:void(0)" (click)="Completedviewprojectplan(currentHandOffData)">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="21" viewBox="0 0 12 21">
                  <path fill="#003374" fill-rule="nonzero"
                    d="M.5 10.5c0-.358.132-.717.396-.99L9.193.91a1.318 1.318 0 0 1 1.911 0 1.437 1.437 0 0 1 0 1.981L3.762 10.5l7.342 7.609a1.437 1.437 0 0 1 0 1.98 1.318 1.318 0 0 1-1.911 0L.895 11.49A1.423 1.423 0 0 1 .5 10.5z" />
                </svg>
              </a>
              <h2>TASKS (Project Handover And Closure)</h2>
            </div>
            <div class="task-detail">
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>JCR signing</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(14,plan,tasksdata)"><span
                      *ngIf="(activetask != 14)">View more</span> <svg *ngIf="(activetask != 14)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 14)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 14)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                            <strong>Allocated to</strong>
                            <input type="text" formControlName="allocated_to" class="form-control" value="">
                            </div> -->
                      <!-- <div class="since-day">
                            <strong>Planned Start Date</strong>
                            <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                          </div>
                          <div class="ideal-time">
                            <strong>Ideal Time</strong>
                            <div class="day">
                                {{plan.Milestone.pp_noofdays}} days
                            </div>
                          </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>
                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                <g fill="#003374" fill-rule="nonzero">
                                  <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                  <path d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                  <path d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                  <path d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                </g>
                              </svg> -->
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>
                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                <g fill="#003374" fill-rule="nonzero">
                                  <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                  <path d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                  <path d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                  <path d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                </g>
                              </svg> -->
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Subsidy file submission</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(36,plan,tasksdata)"><span
                      *ngIf="(activetask != 36)">View more</span> <svg *ngIf="(activetask != 36)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 36)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 36)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                            <strong>Allocated to</strong>
                            <input type="text" formControlName="allocated_to" class="form-control" value="">
                            </div> -->
                      <!-- <div class="since-day">
                            <strong>Planned Start Date</strong>
                            <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                          </div>
                          <div class="ideal-time">
                            <strong>Ideal Time</strong>
                            <div class="day">
                                {{plan.Milestone.pp_noofdays}} days
                            </div>
                          </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>
                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                <g fill="#003374" fill-rule="nonzero">
                                  <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                  <path d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                  <path d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                  <path d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                </g>
                              </svg> -->
                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>
                          <!-- <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                <g fill="#003374" fill-rule="nonzero">
                                  <path d="M.421 19.36A.421.421 0 0 1 0 18.937V1.78c0-.232.189-.42.421-.42h2.12V.51c0-.233.19-.421.422-.421h2.224c.232 0 .42.188.42.421v.85h6.785V.51c0-.233.189-.421.421-.421h2.224c.233 0 .421.188.421.421v.85h2.121c.232 0 .42.188.421.42v17.158a.421.421 0 0 1-.421.421H.421zm16.737-.843V5.697H.842v12.82h16.316zm0-13.662V2.202h-1.7v.85a.421.421 0 0 1-.42.42h-2.225a.421.421 0 0 1-.42-.42v-.85H5.607v.85a.421.421 0 0 1-.421.42H2.963a.421.421 0 0 1-.421-.42v-.85h-1.7v2.653h16.316zM14.616 2.63V.93h-1.382v1.7h1.382zm-9.85 0V.93H3.384v1.7h1.382z" />
                                  <path d="M17.579 1.463h-2.224V.51a.317.317 0 0 0-.318-.318h-2.224a.317.317 0 0 0-.317.318v.953H5.504V.51a.317.317 0 0 0-.317-.318H2.963a.317.317 0 0 0-.318.318v.953H.421a.318.318 0 0 0-.318.317v17.158a.317.317 0 0 0 .318.318h17.158a.317.317 0 0 0 .318-.318V1.78a.318.318 0 0 0-.318-.317zM13.131.828h1.589v1.906h-1.59V.828zm-9.85 0h1.588v1.906H3.28V.828zM.738 2.099h1.906v.953a.317.317 0 0 0 .318.317h2.224a.317.317 0 0 0 .317-.317v-.953h6.992v.953a.317.317 0 0 0 .317.317h2.224a.317.317 0 0 0 .318-.317v-.953h1.906v2.86H.74v-2.86zm0 16.522V5.593H17.26v13.028H.74z" />
                                  <path d="M2.86 16.818V7.397h12.28v9.42H2.86zm11.438-.842v-2.018H12.28v2.018h2.018zm-2.86 0v-2.018H9.421v2.018h2.017zm-2.859 0v-2.018H6.562v2.018h2.017zm-2.86 0v-2.018H3.703v2.018H5.72zm8.579-2.86V11.1H12.28v2.017h2.018zm-2.86 0V11.1H9.421v2.017h2.017zm-2.859 0V11.1H6.562v2.017h2.017zm-2.86 0V11.1H3.703v2.017H5.72zm8.579-2.86V8.239H12.28v2.017h2.018zm-2.86 0V8.239H9.421v2.017h2.017zm-2.859 0V8.239H6.562v2.017h2.017zm-2.86 0V8.239H3.703v2.017H5.72z" />
                                  <path d="M11.542 7.5h-8.58v9.214h12.075V7.5h-3.495zm-2.224.635h2.224v2.224H9.318V8.135zm2.224 5.085H9.318v-2.224h2.224v2.224zm-5.084-2.224h2.224v2.224H6.458v-2.224zm0-2.86h2.224v2.223H6.458V8.135zm-2.859 0h2.224v2.223H3.6V8.135zm0 2.86h2.224v2.224H3.6v-2.224zm2.224 5.083H3.6v-2.224h2.224v2.224zm2.86 0H6.457v-2.224h2.224v2.224zm2.859 0H9.318v-2.224h2.224v2.224zm2.859 0h-2.224v-2.224H14.4v2.224zm0-2.86h-2.224v-2.223H14.4v2.224zm0-5.084v2.224h-2.224V8.135H14.4z" />
                                </g>
                              </svg> -->
                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 3 (After Installation)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(15,plan,tasksdata)"><span
                      *ngIf="(activetask != 15)">View more</span> <svg *ngIf="(activetask != 15)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 15)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 15)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1" disabled>Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Partner confirmation on Audit 3 corrections (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(37,plan,tasksdata)"><span
                      *ngIf="(activetask != 37)">View more</span> <svg *ngIf="(activetask != 37)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 37)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 37)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list" style="display:non">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Audit 3 Okay confirmation (if applicable)</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(38,plan,tasksdata)"><span
                      *ngIf="(activetask != 38)">View more</span> <svg *ngIf="(activetask != 38)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 38)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 38)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>



              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Invoicing of platform charges to SSP</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(39,plan,tasksdata)"><span
                      *ngIf="(activetask != 39)">View more</span> <svg *ngIf="(activetask != 39)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 39)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 39)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Payment 3 to partner</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(40,plan,tasksdata)"><span
                      *ngIf="(activetask != 40)">View more</span><svg *ngIf="(activetask != 40)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 40)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 40)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar  showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>

                    </div>

                    <div class="top-area d-flex">
                      <div class="invoice d-flex align-items-center">
                        <strong class="mr-4">SAP Reference Number:</strong>
                        <input type="text" formControlName="sap_number" class="form-control" value="">
                      </div>
                      <div class="invoice mr-0 d-flex align-items-center">
                        <strong class="mr-4">Bank Reference Number:</strong>
                        <input type="text" formControlName="bank_reference_number" class="form-control" value="">
                      </div>
                      <div class="invoice d-flex align-items-center"> <strong>Amount:</strong>
                        <input type="number" formControlName="amount" min="0" class="form-control" value=""
                          (keypress)="onKeyPress($event)" disabled="true">
                      </div>
                    </div>

                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <div class="task-list">
                <div class="sub-title d-flexMilestone align-items-center justify-content-between">
                  <strong>Project handover to customer</strong>

                  <a href="javascript:void(0)" class="vewmr" (click)="ViewTaskform_detail(41,plan,tasksdata)"><span
                      *ngIf="(activetask != 41)">View more</span> <svg *ngIf="(activetask != 41)"
                      xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 14 8">
                      <path fill="#003374" fill-rule="nonzero"
                        d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                    </svg><i *ngIf="(activetask == 41)" class="fa fa-align-justify" title="Close Task"></i></a>
                </div>
                <div class="task-description" *ngIf="(activetask == 41)">
                  <form [formGroup]="taskForm">
                    <div class="top-area d-flex justify-content-between">
                      <!-- <div class="allocate">
                         <strong>Allocated to</strong>
                         <input type="text" formControlName="allocated_to" class="form-control" value="">
                         </div> -->
                      <!-- <div class="since-day">
                         <strong>Planned Start Date</strong>
                         <span class="text-left font-weight-normal">{{plan.Milestone.pp_startdate}} </span>
                       </div>
                       <div class="ideal-time">
                         <strong>Ideal Time</strong>
                         <div class="day">
                             {{plan.Milestone.pp_noofdays}} days
                         </div>
                       </div> -->
                      <div class="allocate-date">
                        <strong>Actual Start Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <p-calendar [minDate]="plannedStartDate" showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                            formControlName="actualstartdate"  placeholder="Date"></p-calendar>

                        </div>
                      </div>
                      <div class="allocate-date">
                        <strong>Actual End Date</strong>
                        <div class="date d-flex align-items-center justify-content-between">
                          <span>
                            <p-calendar showIcon="true" class="form-text" dateFormat="dd/mm/yy"
                              formControlName="actualenddate" disabled="true" placeholder="Date"></p-calendar>
                          </span>

                        </div>
                      </div>
                      <div class="status">
                        <div class="doc-title d-flex align items-center justify-content-between">
                          <strong class="mr-5">Updated Status</strong>
                          <!--  <a href="javascript:void(0)" >View Log</a> -->
                        </div>
                        <div class="select-wrap relative">
                          <select disabled="true" formControlName="status" class="form-control">
                            <option value="1">Completed</option>
                            <option value="2" selected>Pending</option>
                            <option value="3">Ongoing</option>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="7" viewBox="0 0 12 8">
                            <path fill="#003374" fill-rule="nonzero"
                              d="M7 8a.976.976 0 0 1-.693-.288L.287 1.678a.984.984 0 0 1 0-1.39.979.979 0 0 1 1.387 0L7 5.628l5.326-5.34a.979.979 0 0 1 1.387 0 .984.984 0 0 1 0 1.39l-6.02 6.034A.976.976 0 0 1 7 8z" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="bottom-area d-flex justify-content-between">
                      <div class="left d-flex">
                        <label class="label">Remarks if any:</label>
                        <textarea readonly="true" formControlName="remarks" class="form-control"></textarea>
                      </div>
                      <div class="right pl-3">

                        <div class="d-flex">
                          <label class="label">Uploaded Document:</label>
                          <div class="doc-links">
                            <ul>
                              <li *ngFor="let projectDocument of projectDocuments; let i = index"> <a
                                  href="{{baseurl}}/public/uploads/task/{{currentHandOffData.h_id}}/{{projectDocument.tdoc_filename}}"
                                  target="_blank">
                                  <svg class="pdf-logo" xmlns="http://www.w3.org/2000/svg" width="20" height="26"
                                    viewBox="0 0 20 26">
                                    <g fill="none" fill-rule="nonzero">
                                      <path fill="#E9E9E0"
                                        d="M14.084 0H.892C.525 0 .227.298.227.875V25c0 .157.298.455.665.455h18.216c.367 0 .665-.298.665-.455V5.9c0-.317-.043-.42-.117-.494l-5.29-5.29A.402.402 0 0 0 14.085 0z" />
                                      <path fill="#D9D7CA" d="M14.318.069v5.386h5.386z" />
                                      <path fill="#CC4B4C"
                                        d="M6.143 15.147a.73.73 0 0 1-.44-.148c-.473-.355-.537-.75-.507-1.019.083-.74.998-1.515 2.72-2.304A30.512 30.512 0 0 0 9.64 6.79c-.454-.987-.895-2.268-.574-3.02.113-.263.254-.465.516-.552.104-.034.365-.078.462-.078.229 0 .43.295.573.477.134.17.438.533-.17 3.092.613 1.265 1.481 2.554 2.313 3.437a8.843 8.843 0 0 1 1.526-.163c.712 0 1.144.166 1.32.508.145.283.085.613-.178.982-.253.354-.602.541-1.009.541-.553 0-1.196-.349-1.914-1.039-1.29.27-2.795.75-4.013 1.283-.38.807-.744 1.456-1.083 1.932-.466.653-.868.957-1.265.957zm1.21-2.33c-.972.546-1.368.995-1.396 1.248-.005.041-.017.151.196.314.067-.021.463-.202 1.2-1.562zm6.198-2.019c.37.285.461.43.704.43.106 0 .41-.005.55-.201a.72.72 0 0 0 .104-.189c-.056-.03-.13-.09-.534-.09-.23.001-.518.011-.824.05zm-3.395-2.992a32.405 32.405 0 0 1-1.216 3.439c.95-.37 1.983-.69 2.953-.919a15.56 15.56 0 0 1-1.737-2.52zM9.88 3.96c-.045.015-.605.799.044 1.462.431-.962-.024-1.468-.044-1.462zM19.108 25.455H.892a.665.665 0 0 1-.665-.665v-7.063h19.546v7.063a.665.665 0 0 1-.665.665z" />
                                      <g fill="#FFF">
                                        <path
                                          d="M5.175 24.09h-.746v-4.58h1.317c.195 0 .388.032.578.094.19.062.361.156.513.28.151.124.273.274.367.45.093.176.14.374.14.594 0 .232-.04.442-.119.63a1.319 1.319 0 0 1-.33.476c-.14.128-.31.228-.509.298a1.96 1.96 0 0 1-.658.106h-.553v1.653zm0-4.014v1.815h.684c.09 0 .18-.016.27-.047a.681.681 0 0 0 .426-.447 1.397 1.397 0 0 0 .037-.727.744.744 0 0 0-.127-.28.753.753 0 0 0-.27-.223c-.117-.06-.27-.09-.46-.09h-.56zM11.918 21.674c0 .376-.04.699-.122.966-.08.267-.183.49-.307.671a1.58 1.58 0 0 1-.42.426c-.155.104-.305.181-.45.233a1.861 1.861 0 0 1-.398.1c-.12.014-.21.02-.267.02H8.22v-4.58H9.6c.385 0 .724.062 1.015.184.292.122.535.285.728.488.192.203.336.434.432.693.095.259.143.525.143.799zm-2.213 1.87c.506 0 .87-.161 1.094-.484.224-.324.336-.792.336-1.405 0-.19-.023-.38-.069-.565a1.21 1.21 0 0 0-.264-.507 1.394 1.394 0 0 0-.531-.367c-.224-.093-.514-.14-.87-.14h-.435v3.468h.74zM13.757 20.076v1.442h1.914v.51h-1.914v2.063H13v-4.58h2.865v.565z" />
                                      </g>
                                    </g>
                                  </svg>
                                  {{projectDocument.tdoc_filetype}}
                                  <svg class="download-arrow" xmlns="http://www.w3.org/2000/svg" width="14" height="15"
                                    viewBox="0 0 14 15">
                                    <path fill="#003374" fill-rule="nonzero"
                                      d="M13.97 7.317a.334.334 0 0 0-.308-.206H10.01V.333A.333.333 0 0 0 9.676 0H4.343a.333.333 0 0 0-.333.333v6.778H.343a.334.334 0 0 0-.236.569l6.65 6.672a.334.334 0 0 0 .472 0l6.67-6.672a.333.333 0 0 0 .071-.363z" />
                                  </svg>
                                </a>
                              </li>

                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

            </div>
          </div>
        </div>


        <!--end of  on Completed project list tab view task page &  task list by milestone wise -->

      </div>
    </div>
    <!--Content Area End-->

    <!--  start of view interaction log -->
    <div *ngIf="viewinteractionlog" style="margin-top: 60px;">
      <div class="loader-wrapper">
        <div class="sendWrapper viewintraction">

          <!-- data -->
          <div class="overlay-wrap">
            <div class="overlay working-overlay">
              <div class="overlay-content">
                <div class="">
                  <input type="button" class="btn p-0 pull-right" (click)="ViewinteractionClose()" value="Close">
                </div>
                <h3>Interaction Log</h3>
                <div class="table-wrapper call-history">
                  <table>
                    <thead>
                      <tr>
                        <th>
                          Date & Time
                        </th>
                        <th>
                          Username
                        </th>
                        <th>
                          User Role
                        </th>
                        <th>
                          Project Status
                        </th>
                        <th>
                          Interaction
                        </th>
                        <th>
                          Interaction Completed
                        </th>
                        <th>
                          SMS Sent
                        </th>
                        <th>
                          E-mail sent
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of interactionLog; let i = index">
                        <td> {{item.fui_created_at}} </td>
                        <td> {{item.emp_full_name}} </td>
                        <td> {{item.primary_role_name}} </td>
                        <td> {{item.fpsm_status}} </td>
                        <td> {{item.fui_conversation}}</td>
                        <td *ngIf="item.fui_is_submited === '0'" style="color: red">NO</td>
                        <td *ngIf="item.fui_is_submited === '1'" style="color: green">YES</td>
                        <td> {{item.fui_sent_sms}} </td>
                        <td>
                          <div [innerHtml]="item.fui_sent_email"></div>
                        </td>
                      </tr>
                      <div *ngIf="interactionLog.length <= 0 ">No Record Found</div>
                    </tbody>
                  </table>
                </div>
                <div class="table-wrapper" *ngIf="!interactionLog">
                  No Interactions!
                </div>

              </div>
            </div>
          </div>
        </div>
        <!--  end of data -->
      </div>
    </div>

    <!--  end of view interaction log -->

    <!--  accept assigned project -->
    <div class="loader-wrapper" *ngIf="Accepassignedproject">
      <div class="wraperDelete">
        <h3 class="padding">Are you sure you want to Accept?</h3>
        <div class="alignRight">
          <input type="button" class="btn acptbtn" (click)="AcceptAssignedProject(h_id , '1' )" value="Accept">
          <input type="button" class="btn acptbtn" (click)="HideAcceptAssignedProject(h_id)" value="Close">
        </div>

      </div>

    </div>

    <!--  end of accept assigned project -->

    <!-- reject assigned project -->
    <div class="loader-wrapper" *ngIf="Rejectassignedproject">
      <div class="wraperDelete">
        <h3 class="padding">Please give us a reason to Reject</h3>
        <form (submit)="DoRejectAssignedProject($event)">
          <div class="form-field">
            <textarea placeholder=" " id="reason" name="reason"></textarea>
          </div>
          <input type="hidden" name="h_id" value="{{h_id}}" id="h_id">
          <div class="alignRight">
            <input type="submit" class="btn acptbtn" value="Submit">
            <input type="button" class="btn acptbtn" (click)="HideRejectAssignedProject()" value="Close">
          </div>
        </form>

      </div>
    </div>
    <!--  end of reject assigned project -->


    <!-- in ongoing project list popup box for confirm to completed -->
    <div class="loader-wrapper" *ngIf="submitongoingproject">
      <div class="wraperDelete">
        <h3 class="padding">Are you sure you want to complete?</h3>
        <div class="alignRight">
          <input type="button" class="btn acptbtn" (click)="Submit_milestone_ongoing('1' , h_id )" value="Accept">
          <input type="button" class="btn acptbtn" (click)="Submit_milestone_ongoing('3' , h_id )" value="Close">
        </div>

      </div>

    </div>

    <!--  end of in ongoing project list popup box for confirm to completed -->

    <!--  preview of mail and sms  -->
    <div class="loader-wrapper" *ngIf="Previewmailsms">
      <div class="mailsmstext">
        <b style="font-weight: bold;" *ngIf="emailtext !='' ">MAIL: </b>
        <p style="border: 1px dotted #c5bcbc;" *ngIf="emailtext !='' "><span [innerHtml]="emailtext"></span></p>
        <p> <span alignRight style="color: deepskyblue;" *ngIf="emailSent == 1">Email already sent!</span></p>
        <b style="font-weight: bold;" *ngIf="smstext !='' ">SMS: </b>
        <p style="border: 1px dotted #c5bcbc;" class="" *ngIf="smstext !='' ">{{smstext}} </p>
        <p> <span alignRight style="color: deepskyblue;" *ngIf="smsSent == 1">Message already sent!</span></p>
        <div class="alignRight">
          <input type="button" class="btn sndmalbtn" value="Send SMS"
            (click)="Sendsms_task_notification(task_id, milestone_id , currentHandOffData , plan )"
            *ngIf="smstext !='' ">
          <img style="height: 37px; width: 37px;" class="sndmalbtn" alt="LUMINOUS" *ngIf="loader==1"
            src="/assets/images/loader1.gif">
          <input type="button" class="btn sndmalbtn" value="Send email"
            (click)="Sendemail_task_notification(task_id, milestone_id , currentHandOffData , plan, doc_id )"
            *ngIf="emailtext !='' ">
          <img style="height: 37px; width: 37px;" class="sndmalbtn" alt="LUMINOUS" *ngIf="loaderemail==1"
            src="/assets/images/loader1.gif">
          <input type="button" class="btn sndmalbtn" (click)="HidePriview_mail_sms()" value="Close">
        </div>

      </div>

    </div>

    <!--  end of preview of mail and sms -->


    <!--Task Log popup started-->
    <div class="modal fade last-update-modal show" id="exampleModal" tabindex="-1" role="dialog"
      aria-labelledby="exampleModalLabel" style="display: block; padding-right: 15px;" aria-modal="true"
      *ngIf="TaskpopUp">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="exampleModalLabel">Last Updated</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" (click)="TaskpopUp=!TaskpopUp">&times;</span>
            </button>
          </div>
          <div class="modal-body border-0 last-update-detail p-0">
            <ul *ngIf="taskLogData" style="max-height: 300px; overflow: scroll;">
              <li>
                <div class="list d-flex justify-content-between">
                  <div class="description">
                    <b class="text-right">Updated On</b>
                  </div>
                  <div class="description">
                    <b>By</b>
                  </div>
                  <div class="description">
                    <b>Remarks</b>
                  </div>
                  <div class="description">
                    <b>Mail Status</b>
                  </div>
                  <div class="description">
                    <b>Sms Status</b>
                  </div>
                  <div class="description">
                    <b>Documents Uploaded</b>
                  </div>
                  <div class="description">
                    <b>Task Status</b>
                  </div>
                </div>
              </li>

              <li *ngFor="let data of taskLogData; let i = index">
                <div class="list d-flex justify-content-between">
                  <div class="description">
                    <strong class="text-right ">{{data.planTaskLog.ptlog_created_on | date:'dd/MM/yyyy'}}</strong>
                    <span class="text-right ">{{data.planTaskLog.ptlog_created_on | date:'h:mm a'}}</span>
                  </div>
                  <div class="description">
                    {{data.employee.emp_firstname+' '+data.employee.emp_lastname}}
                  </div>
                  <div class="description">
                    <p>
                      {{data.planTaskLog.ptlog_remark !='null' ?data.planTaskLog.ptlog_remark:''}}
                    </p>
                  </div>
                  <div class="description">
                    <p>
                      {{data.planTaskLog.email_sent =='1' ?'Mail sent':''}}
                    </p>
                  </div>
                  <div class="description">
                    <p>
                      {{data.planTaskLog.sms_sent =='1' ?'Sms sent':''}}
                    </p>
                  </div>
                  <div class="description">
                    <p>
                      {{ (data.planTaskLog.document_upload && (data.planTaskLog.document_upload).length > 10)? ( data.planTaskLog.document_upload | slice:0:10)+'..': (data.planTaskLog.document_upload) }}
                    </p>
                  </div>
                  <div class="description">
                    <p>
                      {{data.planTaskLog.ptlog_status =='1' ? 'Completed':data.planTaskLog.ptlog_status =='2' ? 'Pending':data.planTaskLog.ptlog_status =='3'?'Ongoing':'' }}
                    </p>
                  </div>
                </div>
              </li>
              <li *ngIf="taskLogData.length =='0' ">View log not found</li>

            </ul>
          </div>
        </div>
      </div>
    </div>
    <!---Task log Pop up closed-->

    <!--  pop for delete task documents -->
    <div class="loader-wrapper" *ngIf="ConfirmDeleting">
      <div class="wraperDelete">
        <h3 class="padding">Are you sure you want to delete selected document</h3>
        <div class="alignRight">
          <input type="button" class="btn acptbtn" (click)="DeleteTaskDocument(pdoc_data,pid, currentHandOffData)"
            value="Delete">
          <input type="button" class="btn acptbtn" (click)="hideConfirmDeleting()" value="Close">
        </div>
      </div>
      <!-- end of pop for delete task documents -->
